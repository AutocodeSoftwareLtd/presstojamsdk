{"version":3,"file":"ptj.esm.js","sources":["../presstojam/src/js/client.js","../presstojam/src/js/datacell.js","../presstojam/src/js/datarow.js","../presstojam/src/js/datatemplate.js","../presstojam/src/js/error.js","../presstojam/src/js/validator.js","../presstojam/src/js/field.js","../presstojam/src/js/asset.js","../presstojam/src/js/metarow.js","../presstojam/src/js/changeaction.js","../presstojam/src/js/modelinstance.js","../presstojam/src/js/model.js","../presstojam/src/js/ctrlmap.js","../presstojam/src/js/router.js","../presstojam/src/js/controller.js","../presstojam/src/js/classinjection.js","../presstojam/src/components/ptj-error.vue","../node_modules/style-inject/dist/style-inject.es.js","../presstojam/src/components/ptj-error.vue?vue&type=template&id=c05300a8&lang.js","../presstojam/src/components/ptj-form-input.vue","../presstojam/src/components/ptj-form-input.vue?vue&type=template&id=64b3afe6&lang.js","../presstojam/src/components/ptj-form-confirm.vue","../presstojam/src/components/ptj-form-confirm.vue?vue&type=template&id=62754d43&lang.js","../presstojam/src/components/ptj-form-select.vue","../presstojam/src/components/ptj-form-select.vue?vue&type=template&id=34644c49&lang.js","../presstojam/src/components/ptj-form-radio.vue","../presstojam/src/components/ptj-form-radio.vue?vue&type=template&id=2e1363be&lang.js","../presstojam/src/components/ptj-form-checkbox.vue","../presstojam/src/components/ptj-form-checkbox.vue?vue&type=template&id=0f4b9e50&lang.js","../presstojam/src/components/ptj-form-textarea.vue","../presstojam/src/components/ptj-form-textarea.vue?vue&type=template&id=0aa8b372&lang.js","../presstojam/src/components/ptj-form-asset.vue","../presstojam/src/components/ptj-form-asset.vue?vue&type=template&id=93648f9a&lang.js","../presstojam/src/components/ptj-progress-bar.vue","../presstojam/src/components/ptj-progress-bar.vue?vue&type=template&id=460b10ff&lang.js","../presstojam/src/components/ptj-form.vue","../presstojam/src/components/ptj-form.vue?vue&type=template&id=523d6cd0&lang.js","../presstojam/src/components/ptj-nav.vue","../presstojam/src/components/ptj-nav.vue?vue&type=template&id=262eb772&lang.js","../presstojam/src/components/ptj-filter-form-time.vue","../presstojam/src/components/ptj-filter-form-time.vue?vue&type=template&id=697f55ad&lang.js","../presstojam/src/components/ptj-filter-form-checkbox.vue","../presstojam/src/components/ptj-filter-form-checkbox.vue?vue&type=template&id=0743e0ba&lang.js","../presstojam/src/components/ptj-widget-window.vue","../presstojam/src/components/ptj-widget-window.vue?vue&type=template&id=da476e86&lang.js","../presstojam/src/components/ptj-filter-form.vue","../presstojam/src/components/ptj-filter-form.vue?vue&type=template&id=71ada21d&lang.js","../presstojam/src/components/ptj-pagination.vue","../presstojam/src/components/ptj-pagination.vue?vue&type=template&id=43dcd5a6&lang.js","../presstojam/src/components/ptj-selectfields.vue","../presstojam/src/components/ptj-selectfields.vue?vue&type=template&id=89ff5b7e&lang.js","../presstojam/src/components/ptj-repo-header.vue","../presstojam/src/components/ptj-repo-header.vue?vue&type=template&id=ba19bc28&lang.js","../presstojam/src/components/ptj-tree-node.vue","../presstojam/src/components/ptj-tree-node.vue?vue&type=template&id=1dcaa9f5&lang.js","../presstojam/src/js/dragndrop.js","../presstojam/src/components/ptj-tree.vue","../presstojam/src/components/ptj-tree.vue?vue&type=template&id=eebe52ac&lang.js","../presstojam/src/components/ptj-table.vue","../presstojam/src/components/ptj-table.vue?vue&type=template&id=15ab9672&lang.js","../presstojam/src/components/ptj-list.vue","../presstojam/src/components/ptj-list.vue?vue&type=template&id=f392d8ac&lang.js","../presstojam/src/components/ptj-repo.vue","../presstojam/src/components/ptj-repo.vue?vue&type=template&id=1c7fb47e&lang.js","../presstojam/src/components/ptj-single-item.vue","../presstojam/src/components/ptj-single-item.vue?vue&type=template&id=4f4c821c&lang.js","../presstojam/src/components/ptj-accounthandler.vue","../presstojam/src/components/ptj-accounthandler.vue?vue&type=template&id=fdfae9ee&lang.js","../presstojam/src/components/ptj-card.vue","../presstojam/src/components/ptj-card.vue?vue&type=template&id=3583d51c&lang.js","../presstojam/src/components/ptj-tabs.vue","../presstojam/src/components/ptj-tabs.vue?vue&type=template&id=00fda68a&lang.js","../presstojam/src/components/ptj-account-details.vue","../presstojam/src/components/ptj-account-details.vue?vue&type=template&id=c7cf5774&lang.js","../presstojam/src/components/ptj-root.vue","../presstojam/src/components/ptj-root.vue?vue&type=template&id=2c0fa1ee&lang.js","../import.js"],"sourcesContent":["let custom_headers  = {};\r\nlet main_url;\r\nlet status_handlers = {};\r\nlet debug = true;\r\nlet last_status;\r\nlet last_ok;\r\n\r\nexport default {\r\n\r\n    regCustomHeader(name, value) {\r\n        custom_headers[name] = value;\r\n    },\r\n\r\n    regStatusHandler(status, handler) {\r\n        status_handlers[status] = handler;\r\n    },\r\n\r\n    setURL(url) {\r\n        main_url = url;\r\n    },\r\n    regDebug(is_debug) {\r\n        debug = is_debug;\r\n    },\r\n\r\n    run(url, headers) {\r\n        \r\n        headers.mode = 'cors';\r\n        headers.cache = 'no-cache';\r\n        headers.credentials = 'include';\r\n        headers['Content-Type'] = 'application/json';\r\n        headers.headers = custom_headers;\r\n\r\n        const _self = this;\r\n\r\n        return fetch(main_url + url, headers)\r\n        .then(response => {\r\n            last_status = response.status;\r\n            last_ok = response.ok;\r\n            if (status_handlers[response.status]) {\r\n                status_handlers[response.status](response);\r\n            } else if (response.status == 401) {\r\n                return response.status;\r\n            } else {\r\n                return response.json();\r\n            }\r\n        })\r\n        .then(val => {\r\n            if (!last_ok) throw val;\r\n\r\n            if (last_status == 401) {\r\n                let omethod = headers.method;\r\n                headers.method = 'PUT';\r\n                return fetch(main_url + \"/core-switch-tokens\", headers)\r\n                .then(response => {\r\n                    if (response.ok) {\r\n                        headers.method = omethod;\r\n                        return fetch(main_url + url, headers)\r\n                        .then(response=> {\r\n                            if (response.status == 401) {\r\n                                throw new Error(\"Issue with refresh token\");\r\n                            } else if (response.ok) {\r\n                                return response.json();\r\n                            } else {\r\n                              //  profile.updateUser(\"public\", 0);\r\n                              //  throw Error(\"Logged out\");\r\n                            }\r\n                        });\r\n                    } else {\r\n                       // profile.updateUser(\"public\", 0);\r\n                       // throw Error(\"Logged out\");\r\n                    }\r\n                });\r\n            } else return val;\r\n        })\r\n        .catch(err => {\r\n            if (debug) console.log(err);\r\n            throw err;\r\n        });\r\n    }, \r\n    setDebug(data) {\r\n        if (!data) {\r\n            data = {\"__debug\" : true}\r\n        } else {\r\n            data[\"__debug\"] = true;\r\n        }\r\n        return data;\r\n    },\r\n    get(url, data) {\r\n        if (debug) data = this.setDebug(data);\r\n        if (data) {\r\n            const params = new URLSearchParams();\r\n            let graph = {};\r\n            for(let i in data) {\r\n                if (Array.isArray(data[i]) || (typeof data[i] == 'object' && data[i] !== null)) graph[i] = data[i];\r\n                else params.append(i, data[i]);\r\n            }\r\n\r\n            if (graph) {\r\n                params.append(\"graph\", JSON.stringify(graph));\r\n            }\r\n            if (url.indexOf(\"?\") == -1) url += \"?\";\r\n            else url += \"&\";\r\n            url += params.toString();\r\n        }\r\n        let headers = {};\r\n        headers.method = 'GET';\r\n        return  this.run(url, headers);\r\n    },\r\n\r\n    getprimary(url, data) {\r\n        return this.get(url, data);\r\n    },\r\n\r\n    post(url, data) {\r\n        //call our fetch response and return\r\n        if (debug) data = this.setDebug(data);\r\n        let headers = {};\r\n        headers.method = 'POST';\r\n        headers.body = JSON.stringify(data);\r\n        return this.run(url, headers);\r\n    },\r\n\r\n    put(url, data) {\r\n        if (debug) data = this.setDebug(data);\r\n        let headers = {};\r\n        headers.method = 'PUT';\r\n        headers.body = JSON.stringify(data);\r\n        return this.run(url, headers);\r\n    },\r\n\r\n    patch(url, data) {\r\n        if (debug) data = this.setDebug(data);\r\n        let headers = {};\r\n        headers.method = 'PATCH';\r\n        headers.body = JSON.stringify(data);\r\n        return this.run(url, headers);\r\n    },\r\n\r\n    delete(url, data) {\r\n        if (debug) data = this.setDebug(data);\r\n        let headers = {};\r\n        headers.method = 'DELETE';\r\n        headers.body = JSON.stringify(data);\r\n        return this.run(url, headers);\r\n    }\r\n}\r\n","import { reactive, computed } from \"vue\"\r\n\r\nexport class DataCell {\r\n\r\n    constructor(meta) {\r\n        this._meta = meta;\r\n        this._store = reactive({ value : null, display : null, error : 0, is_validate_on : false});\r\n\r\n        this.val = computed({ \r\n            get : () =>  {\r\n                return this._store.value;\r\n            },\r\n            set : (val) => {\r\n                this._store.value = this._meta.clean(val);\r\n                this._store.error = this._meta.validate(val);\r\n            }     \r\n        });\r\n\r\n        this.error = computed({\r\n            get : () => this._store.error,\r\n            set : val => { this._store.error = val }\r\n        });\r\n\r\n        this.showError = computed(() => {\r\n            return this._store.is_validate_on && this._store.error ? true : false;\r\n        });\r\n\r\n        if (this._meta.default) this._store.value = this._meta.default;\r\n        else if (this._meta.type == \"select\") this._store.value = 0; \r\n    }\r\n\r\n    get meta() {\r\n        return this._meta;\r\n    }\r\n\r\n    set validateon(on) {\r\n        this._store.is_validate_on = on;\r\n    }\r\n\r\n    set display(display) {\r\n        this._store.display = display;\r\n    }\r\n\r\n    get display() {\r\n        if (this._store.display) return this._store.display;\r\n        else return this._store.value;\r\n    }\r\n\r\n    toString() {\r\n        return this._store.display;\r\n    }\r\n\r\n    toVal() {\r\n        let cval = this._store.value;\r\n        return cval;\r\n    }\r\n\r\n    setVal(val) {\r\n        this._store.value = val;\r\n    }\r\n}\r\n","import { DataCell } from \"./datacell.js\"\r\n\r\n\r\nexport class DataRow {\r\n\r\n    constructor(metarow) {\r\n        this._cells = {};\r\n        this._references = {};\r\n        this._children = {};\r\n        this._parent;\r\n        this._primary;\r\n\r\n        if (metarow) this.applyMetaRow(metarow);\r\n        \r\n    }\r\n\r\n    \r\n    applyMetaRow(metarow) {\r\n        if (metarow.primary) this._primary = new DataCell(metarow.primary);\r\n        if (metarow.parent) this._parent = new DataCell(metarow.parent);\r\n\r\n        for(const i in metarow.fields) {\r\n            const field = metarow.fields[i];\r\n            this._cells[field.name] = new DataCell(field);\r\n        }\r\n\r\n        for(const i in metarow.references) {\r\n            this._references[i] = new DataRow(metarow.references[i]);\r\n        }\r\n\r\n        for(const i in metarow.children) {\r\n            this._children[i] = metarow.children[i];\r\n        }\r\n    }\r\n\r\n\r\n    appendPrimary(field) {\r\n        this._primary = new DataCell(field);\r\n    }\r\n\r\n\r\n\r\n    addChild(name, child) {\r\n        if (!this._children[name]) {\r\n            this._children[name] = [];\r\n        }\r\n        this._children[name].push(child);\r\n    }\r\n\r\n    set row(row) {\r\n\r\n        if (!row) return;\r\n\r\n        if (this._primary && row[this._primary.meta.name]) this._primary.setVal(row[this._primary.meta.name]);\r\n        if (this._parent && row[this._parent.meta.name]) this._parent.setVal(row[this._parent.meta.name]);\r\n        \r\n        for(let field in this._cells) {\r\n            if (!row[field]) continue;\r\n            this._cells[field].setVal(row[field]);\r\n        }\r\n\r\n        for(let ref in this._references) {\r\n            this._references[ref].row = row[ref];\r\n        }\r\n\r\n        for(let child in this._children) {\r\n            this._children[child].row = row[child];\r\n        }\r\n\r\n\r\n        if (this._parent && this._references[this._parent.meta.reference]) {\r\n            this._parent.display = this._references[this._parent.meta.reference].getSummary();\r\n        }\r\n        for(let cell in this._cells) {\r\n            let field = this._cells[cell].meta;\r\n            if (field.reference && this._references[field.reference]) {\r\n                this._cells[cell].display = this._references[field.reference].getSummary();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    get cells() {\r\n        return this._cells;\r\n    }\r\n\r\n\r\n    get parent() {\r\n        return this._parent;\r\n    }\r\n\r\n\r\n    get primary() {\r\n        return this._primary;\r\n    }\r\n\r\n    get children() {\r\n        return this._children;\r\n    }\r\n\r\n    getCell(name) {\r\n        if (this._primary && this._primary.meta.name == name) return this._primary;\r\n        else if (this._parent && this._parent.meta.name == name) return this._parent;\r\n        else return this._cells[name];\r\n    }\r\n\r\n\r\n    getSummary() {\r\n        let str = [];\r\n        for(let i in this._cells) {\r\n            const cell = this._cells[i];\r\n            if (cell.meta.isSummary()) {\r\n                const display = cell.display;\r\n                str.push(display);\r\n            }\r\n        }\r\n        return str.join(\" \");\r\n    }\r\n\r\n    toString() {\r\n        let str = [];\r\n        for(let i in this._cells) {\r\n            str.push(this._cells[i].display);\r\n        }   \r\n        return str.join(\" \");\r\n    }\r\n\r\n\r\n    serialize(state) {\r\n        let data = {};\r\n        if (state == \"post\") {\r\n            if (this._parent) data[this._parent.meta.name] = this._parent.toVal();\r\n        } else if (state == \"put\" || state == \"delete\") {\r\n            data[this._primary.meta.name] = this._primary.toVal();\r\n        }\r\n        for(let i in this._cells) {\r\n            data[i] = this._cells[i].toVal();\r\n        }\r\n        return data;\r\n    }\r\n\r\n\r\n    getCellByType(type) {\r\n        let cells = {};\r\n        for(let i in this._cells) {\r\n            if (this._cells[i].meta.type == type) cells[i] = this._cells[i];\r\n        }\r\n        return cells;\r\n    }\r\n}","import { DataCell } from \"./datacell.js\"\r\nimport { computed } from \"vue\"\r\n\r\nclass DataTemplateCell extends DataCell {\r\n    \r\n    constructor(meta) {\r\n\r\n        super(meta);\r\n    \r\n        if (this._meta.atts.type == \"datetime\") {\r\n            this._store.value = {min : null, max : null };\r\n\r\n            this.val = computed({\r\n                get : () =>  {\r\n                    return this._store.value;\r\n                },\r\n                set : (val) => {\r\n                    if (val.min) this._store.value.min = this._meta.clean(val.min);\r\n                    if (val.max) this._store.value.max = this._meta.clean(val.max);\r\n                    this._store.error = this._meta.validate(val);\r\n                }  \r\n            });\r\n\r\n            this.val1 = computed({\r\n                get : () =>  {\r\n                    return this._store.value.min;\r\n                },\r\n                set : (val) => {\r\n                    this._store.value.min = this._meta.clean(val);\r\n                    this._store.error = this._meta.validate(val);\r\n                }     \r\n            });\r\n\r\n            this.val2 = computed({\r\n                get : () =>  {\r\n                    return this._store.value.max;\r\n                },\r\n                set : (val) => {\r\n                    this._store.value.max = this._meta.clean(val);\r\n                    this._store.error = this._meta.validate(val);\r\n                }     \r\n            });\r\n\r\n            this.addParam = obj => {\r\n                let cobj = {};\r\n                if (this._store.value.min) cobj.min = this._store.value.min;\r\n                if (this._store.value.max) cobj.max = this._store.value.max;\r\n                if (Object.keys(cobj).length > 0) obj[this._meta.name] = cobj;\r\n            };\r\n\r\n\r\n        } else if (this._meta.type == \"checkbox\") {\r\n            this._store.value = 0;\r\n\r\n            this.addParam = (obj) => {\r\n                if (this._store.value == 1) {\r\n                    obj[this._meta.name] = 1;\r\n                } else if (this._store.value == 2) {\r\n                    obj[this._meta.name] = 0;\r\n                }\r\n            }\r\n\r\n        } else if (this._meta.type == \"select\") {\r\n            this._store.value = [];\r\n\r\n            this.addParam = obj => {\r\n                if (this._store.value.length > 0) obj[this._meta.name] = this._store.value;\r\n            }\r\n\r\n        } else {\r\n\r\n            this.addParam = obj => {\r\n                if (this._store.value) obj[this._meta.name] = [\"%\" + this._store.value + \"%\"];\r\n            }\r\n\r\n        }\r\n    }\r\n};\r\n\r\nexport class DataTemplate  {\r\n\r\n    constructor(metarow) {\r\n        this._cells = {};\r\n        this._primary;\r\n        this._parent;\r\n        this._limit = 0;\r\n        this._page = 0;\r\n        this._fields = [];\r\n        this._sort = {};\r\n        this._groups = [];\r\n        this._children = [];\r\n        this._active;\r\n        this._max_pages = 0;\r\n        this._count = 0;\r\n\r\n        if (metarow) this.applyMetaRow(metarow);\r\n    }\r\n    \r\n\r\n    applyMetaRow(metarow) {\r\n        if (metarow.primary) this._primary = new DataCell(metarow.primary);\r\n        if (metarow.parent) this._parent = new DataCell(metarow.parent);\r\n\r\n        for(const i in metarow.fields) {\r\n            const field = metarow.fields[i];\r\n            this._cells[field.name] = new DataTemplateCell(field);\r\n        }\r\n\r\n    }\r\n\r\n    get cells() {\r\n        return this._cells;\r\n    }\r\n\r\n\r\n    initField(field) {\r\n        this._data.initField(field);\r\n    }\r\n\r\n    set fields(fields) {\r\n        this._fields = fields;\r\n    }\r\n\r\n    get fields() {\r\n        return this._fields;\r\n    }\r\n\r\n    set limit(limit) {\r\n        this._limit = limit;\r\n    }\r\n\r\n    get limit() {\r\n        return this._limit;\r\n    }\r\n\r\n    set sort(sort) {\r\n        this._sort = sort;\r\n    }\r\n\r\n    get sort() {\r\n        return this._sort;\r\n    }\r\n\r\n    set page(page) {\r\n        this._page = page;\r\n    }\r\n\r\n    get page() {\r\n        return this._page;\r\n    }\r\n\r\n    set groups(groups) {\r\n        this._groups = groups;\r\n    }\r\n\r\n    get groups() {\r\n        return this._groups;\r\n    }\r\n\r\n    set children(children) {\r\n        this._children = children;\r\n    }\r\n\r\n    get children() {\r\n        return this._children;\r\n    }\r\n\r\n    get primary() {\r\n        return this._primary;\r\n    }\r\n\r\n    get parent() {\r\n        return this._parent;\r\n    }\r\n\r\n    get active() {\r\n        return this._active;\r\n    }\r\n\r\n    set active(active) {\r\n        this._active = active;\r\n    }\r\n\r\n    get max_pages() {\r\n        return this._max_pages;\r\n    }\r\n\r\n    set max_pages(pages) {\r\n        this._max_pages = pages;\r\n    }\r\n\r\n    get count() {\r\n        return this._count;\r\n    }\r\n\r\n    set count(count) {\r\n        this._count = count;\r\n    }\r\n\r\n    convertToParams() {\r\n        let obj = {};\r\n        if (this._limit) obj._limit = this._limit;\r\n        if (this._page) obj._page = this._page;\r\n        if (this._fields.length > 0) obj._fields = this._fields;\r\n        if (Object.keys(this._sort).length > 0) obj._sort = this._sort;\r\n        for(let i in this._cells) {\r\n            let param = this._cells[i].toVal();\r\n            if (param) obj[i] = param;\r\n        }\r\n        return JSON.stringify(obj);\r\n    }\r\n\r\n    convertDataToParams() {\r\n        let obj = {};\r\n        for(let i in this._cells) {\r\n            obj[i] = this._cells[i].toVal();\r\n        }\r\n        return (Object.keys(obj).length > 0) ? JSON.stringify(obj) : null;\r\n    }\r\n\r\n\r\n    convertFromParams(str) {\r\n        const obj = JSON.parse(str);\r\n        if (obj._limit) this._limit = obj._limit;\r\n        if (obj._fields) this._fields = obj._fields;\r\n        if (obj.hasOwnProperty(\"_page\")) this._page = obj._page;\r\n        if (obj.hasOwnProperty(\"_sort\")) this._sort = obj._sort;\r\n        for(const i in this._cells) {\r\n            if (obj.hasOwnProperty(i)) this._cells[i].setVal(obj[i]);\r\n        }\r\n    }\r\n\r\n    convertToAPIParams(state) {\r\n        let obj = {};\r\n        if (this._limit) obj.__limit = this._limit;\r\n        if (this._page) obj.__page = (this._page * this._limit);\r\n        if (this._fields.length > 0) obj.__fields = this._fields;\r\n        if (Object.keys(this._sort).length > 0) obj.__sort = this._sort;\r\n        for(let i in this._cells) {\r\n            this._cells[i].addParam(obj);\r\n        }\r\n\r\n        if (state == \"get\" || state == \"post\") {\r\n            if (this._parent && this._parent.toVal()) obj[this._parent.meta.name] = this._parent.toVal();\r\n        } else if (state != \"login\") {\r\n            obj[this._primary.meta.name] = this._primary.toVal();\r\n        }\r\n        return (Object.keys(obj).length) ? obj : null;\r\n    }\r\n}","const error_invalid_map = {\r\n            1 : \"too small\",\r\n            2 : \"too large\",\r\n            3 : \"contains incorrect characters\",\r\n            4 : \"doesn't contain required characters\",\r\n            5 : \"not unique\"\r\n}\r\n\r\nfunction getError(code) {\r\n    return error_invalid_map[code];\r\n}\r\n\r\nexport default {\r\n    getError\r\n}","export class Validator {\r\n\r\n    constructor() {\r\n        this._min;\r\n        this._max;\r\n        this._has = [];\r\n        this._has_not = [];\r\n        this._errors = {\r\n            'OK' : 0,\r\n            'MIN_VALUE' : 1,\r\n            'MAX_VALUE' : 2,\r\n            'HAS' : 3,\r\n            'HAS_NOT' : 4\r\n        }\r\n    }\r\n\r\n    set min(min) {\r\n        this._min = min;\r\n    }\r\n\r\n    set max(max) {\r\n        this._max = max;\r\n    }\r\n\r\n    set has(has) {\r\n        this._has.push(has);\r\n    }\r\n\r\n    set nothas(nhas) {\r\n        this._has_not.push(nhas);\r\n    }\r\n\r\n\r\n\r\n    validateSize(val) {\r\n        if (val < this._min) return this._errors.MIN_VALUE;\r\n        else if (val > this._max) return this._errors.MAX_VALUE;\r\n        else return this._errors.OK;\r\n    }\r\n\r\n\r\n    validate(val) {\r\n        let err;\r\n        if (isNaN(val)) {\r\n            const length = (val) ? val.length : 0;\r\n            err = this.validateSize(length);\r\n        } else {\r\n            err = this.validateSize(val);\r\n        }\r\n        if (err != this._errors.OK) return err;\r\n\r\n        for(let nhas of this._has_not) {\r\n            if (val.match(nhas)) return this._errors.HAS_NOT;\r\n        }\r\n\r\n        if (this._has.length == 0) return this._errors.OK;\r\n        \r\n        for(let has of this._has) {\r\n            if (val.match(this._has)) return this._errors.OK;\r\n        }\r\n        return this._errors.HAS;\r\n    }\r\n\r\n}","\r\nimport Errors from \"./error.js\"\r\nimport { reactive, computed } from \"vue\"\r\nimport Client from \"./client.js\"\r\nimport { Validator } from \"./validator.js\"\r\n\r\nexport class Field {\r\n\r\n    constructor(name, obj = null) {\r\n        this._name = name;\r\n        this._type = \"\";\r\n        this._is_primary = false;\r\n        this._is_parent = false;\r\n        this._valid = 1;\r\n        this._atts={}\r\n        this._confirm = false;\r\n        this._readonly = false;\r\n        this._placeholder = \"\";\r\n        this._conditions;\r\n        this._link = \"\";\r\n        this._reference = \"\";\r\n        this._error = 0;\r\n        this._label = \"\";\r\n        this._on = true;\r\n        this._store = reactive({ summary : 0, options : null});\r\n        this._default = null;\r\n        this._validator = new Validator();\r\n        this._multiple = false;\r\n      \r\n      \r\n        this.summary = computed({\r\n            get : () => {\r\n                return this._store.summary;\r\n            },\r\n            set : (val) => {\r\n                this._store.summary = val;\r\n            }\r\n        })\r\n\r\n        this.options = computed({\r\n            get : () => {\r\n                return this._store.options;\r\n            },\r\n            set : (options) => {\r\n                this._store.options = options;\r\n            }\r\n        });\r\n\r\n       \r\n        if (obj) {\r\n            for (let x in obj) {\r\n                if (x == \"summary\") this._store.summary = obj[x];\r\n                else if (x == \"field\" || x == \"validation\") continue;\r\n                else this[x] = obj[x];\r\n            }\r\n\r\n            if (obj.field) {\r\n                for(let x in obj.field) {\r\n                    if (x == \"summary\") this._store.summary = obj.field[x];\r\n                    else this[x] = obj.field[x];\r\n                }\r\n            }\r\n\r\n            if (obj.validation) {\r\n                for(let x in obj.validation) {\r\n                    this._validator[x] = obj.validation[x];\r\n                }\r\n            }\r\n        }\r\n\r\n        if (!this._reference && this._type == \"select\") {\r\n            this._store.options = [];\r\n            try {\r\n                for (let opt of this._atts.options) {\r\n                    this._store.options.push({ key: opt, value: opt });\r\n                }\r\n            } catch (e) {\r\n                console.log(\"options not set for \", this._name);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    set confirm(confirm) {\r\n        this._confirm = confirm;\r\n    }\r\n\r\n    set readonly(readonly) {\r\n        this._readonly = readonly;\r\n    }\r\n\r\n    set placeholder(placeholder) {\r\n        this._placeholder = placeholder;\r\n    }\r\n\r\n    set atts(atts) {\r\n        this._atts = atts;\r\n    }\r\n\r\n    set default(def) {\r\n        this._default = def;\r\n    }\r\n\r\n    set asset(asset) {\r\n        this._asset = asset;\r\n    }\r\n\r\n\r\n    set conditions(conditions) {\r\n        this._conditions = conditions;\r\n    }\r\n\r\n    set link(link) {\r\n        this._link = link;\r\n    }\r\n\r\n    set name(name) {\r\n        this._name = name;\r\n    }\r\n\r\n    set type(type) {\r\n        this._type = type;\r\n    }\r\n\r\n    set multiple(mult) {\r\n        this._multiple = mult;\r\n    }\r\n\r\n    set is_primary(val) {\r\n        this._is_primary = val;\r\n    }\r\n\r\n    set is_parent(val) {\r\n        this._is_parent = val;\r\n    }\r\n\r\n    set reference(ref) {\r\n        this._reference = ref;\r\n    }\r\n\r\n    set error(err) {\r\n        this._error = err;\r\n    }\r\n\r\n    set label(label) {\r\n        this._label = label;\r\n    }\r\n\r\n    \r\n    set on(on) {\r\n        this._on = on;\r\n    }\r\n\r\n    get name() {\r\n        return this._name;\r\n    }\r\n\r\n    get type() {\r\n        return this._type;\r\n    }\r\n\r\n\r\n    get on() {\r\n        return this._on;\r\n    }\r\n\r\n\r\n    get isprimary() {\r\n        return this._is_primary;\r\n    }\r\n\r\n    get required() {\r\n        return (this._min > 0) ? true : false;\r\n    }\r\n\r\n    get readonly() {\r\n        return this._readonly;\r\n    }\r\n\r\n    get placeholder() {\r\n        return this._placeholder;\r\n    }\r\n\r\n    get default() {\r\n        return this._default;\r\n    }\r\n\r\n    get atts() {\r\n        return this._atts;\r\n    }\r\n\r\n    get conditions() {\r\n        return this._conditions;\r\n    }\r\n\r\n    get link() {\r\n        return this._link;\r\n    }\r\n\r\n    get isparent() {\r\n        return this._is_parent\r\n    }\r\n\r\n    get multiple() {\r\n        return this._multiple;\r\n    }\r\n    \r\n    get confirm() {\r\n        return this._confirm;\r\n    }\r\n\r\n    get reference() {\r\n        return this._reference;\r\n    }\r\n\r\n    get asset() {\r\n        return this._asset;\r\n    }\r\n\r\n    get error() {\r\n        if (!this._error) return \"\";\r\n        else if (isNaN(this._error)) return this._error;\r\n        else return Errors.getError(this._error);\r\n    }\r\n\r\n\r\n    get label() {\r\n        return this._label;\r\n    }\r\n\r\n    isSummary() {\r\n        return this._store.summary;\r\n    }\r\n\r\n\r\n    saveAsset(id) {\r\n        if (this._asset) {\r\n            let file = this.val;\r\n            if (file) return this._asset.saveFile(this.val, id);\r\n        } \r\n        return Promise.resolve();\r\n    }\r\n\r\n\r\n    setReferenceOptions(url, params) {\r\n        this._store.options = [];\r\n        return Client.get(url, params)\r\n        .then(response => {\r\n            for (let i in response.__data) {\r\n                if (i.indexOf(\"__\") === 0) continue;\r\n                this._store.options.push({ key: response.__data[i].id, value: response.__data[i].value });\r\n            }\r\n        })\r\n        .catch(e => {\r\n            console.log(e);\r\n        });\r\n    }\r\n\r\n    clean(val) {\r\n        if (this._type == \"checkbox\") return (val) ? 1 : 0;\r\n        else return val;\r\n    }\r\n\r\n    validate(value) {\r\n        return this._validator.validate(value);\r\n    }\r\n\r\n    exp() {\r\n        return {\r\n            name : this._name,\r\n            type : this._type,\r\n            atts : this._atts\r\n        }\r\n    }\r\n\r\n    calcValue(value) {\r\n        if (!value) return \"\";\r\n        else return value;\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n","\r\nimport Client from \"./client.js\"\r\n\r\nexport class Asset {\r\n\r\n    constructor() {\r\n      this._size = 0;\r\n      this._blob = null;\r\n      this._uploaded = false;\r\n      this._chunk_size = 0;\r\n      this._url;\r\n      this._key = 0;\r\n      this._key_field;\r\n    }\r\n\r\n    set chunk_size(chunk) {\r\n      this._chunk_size = chunk;\r\n    }\r\n\r\n    set blob(blob) {\r\n      this._blob = blob;\r\n    }\r\n\r\n    set url(url) {\r\n        this._url = url;\r\n    }\r\n\r\n    set key(key) {\r\n        this._key = key;\r\n    }\r\n\r\n    set keyfield(field) {\r\n        this._key_field = field;\r\n    }\r\n\r\n    get blob() {\r\n      return this._blob;\r\n    }\r\n\r\n    get size() {\r\n      return this._size;\r\n    }\r\n\r\n    get uploaded() {\r\n      return this._uploaded;\r\n    }\r\n\r\n    get chunk_size() {\r\n      return this._chunk_size;\r\n    }\r\n\r\n\r\n    get url() {\r\n        return this._url;\r\n    }\r\n\r\n\r\n    getChunk(index) {\r\n      const start = (this._chunk_size == 0) ? 0 : index * this._chunk_size;\r\n      let end = (this._chunk_size == 0) ? this._size : (index + 1) * this._chunk_size;\r\n      if (end > this._size) end = this._size;\r\n      const view = new DataView(this._blob, start, end - start);\r\n      let buffer = [];\r\n      for(let i = 0, n=view.byteLength; i<n; ++i) {\r\n        buffer.push(view.getInt8(i));\r\n      }\r\n      return buffer.join('');\r\n    }\r\n\r\n\r\n    loadFile(id) {\r\n        let data = {};\r\n        data[this._key_field] = id;\r\n        return Client.get(this._url, data)\r\n        .catch(e => {\r\n            alert(e);\r\n        });\r\n    }\r\n\r\n    delFile(id) {\r\n        let data = {};\r\n        data[this._key_field] = id;\r\n        return Client.delete(this._url, data)\r\n        .catch(e => {\r\n            alert(e);\r\n        });\r\n    }\r\n\r\n    saveFile(file, id) {\r\n        //this needs to be a promise\r\n        this._size = file.size;\r\n        return new Promise(( resolve, reject) => {\r\n          const fr = new FileReader();\r\n          let _self = this;\r\n          fr.onload = function(e) {\r\n            _self.blob = e.target.result;\r\n            resolve(fr.result);\r\n          }\r\n          fr.onerror = reject;\r\n          fr.readAsArrayBuffer(file);  \r\n        })\r\n        .then(() => {\r\n          let promises = [];\r\n          //else, do we have any assets?\r\n          let chunks = (this.chunk_size == 0) ? 1 : Math.ceil(this.size / this.chunk_size);\r\n          for(let i=0; i<chunks; ++i) {\r\n              const data = {};\r\n              data.__chunk = i;\r\n              data.__blob = this.getChunk(i);\r\n              data[this._key_field] = id;\r\n              promises.push(Client.put(this._url, data));\r\n          }\r\n          return Promise.all(promises);\r\n        });\r\n      }\r\n\r\n}","import { Field } from \"./field.js\"\r\nimport { Asset } from \"./asset.js\"\r\n\r\nexport class MetaRow {\r\n\r\n    constructor() {\r\n        this._fields = {};\r\n        this._parent;\r\n        this._primary;\r\n        this._references = {};\r\n        this._children = {};\r\n    }\r\n\r\n    set field(field) {\r\n        this._fields[field.name] = field;\r\n    }\r\n\r\n    get fields() {\r\n        return this._fields;\r\n    }\r\n\r\n    addReference(name, ref) {\r\n        this._references[name] = ref;\r\n    }\r\n\r\n    addChild(name, child) {\r\n        this._children[name] = child;\r\n    }\r\n\r\n    get references() {\r\n        return this._references;\r\n    }\r\n\r\n    get children() {\r\n        return this._children;\r\n    }\r\n\r\n    get parent() {\r\n        return this._parent;\r\n    }\r\n\r\n \r\n    get primary() {\r\n        return this._primary;\r\n    }\r\n\r\n    map(fields) {\r\n        for (let i in fields) {\r\n            if (fields[i].is_primary) this._primary = new Field(i, fields[i]);\r\n            else if (fields[i].is_parent) this._parent = new Field(i, fields[i]);\r\n            else  this._fields[i] = new Field(i, fields[i]);\r\n        }\r\n    }\r\n\r\n\r\n    exportFields(state, store) {\r\n        let cfields = this._states[state].fields;\r\n        store.fields = [];\r\n        for(let i in cfields) {\r\n            if (this._limit_fields.length == 0 || this._limit_fields.contains(i)) {\r\n                store.fields.push(cfields[i]);\r\n            }\r\n        }\r\n    }\r\n\r\n    exportToStore(store) {\r\n       store.fields = this._fields;\r\n    }\r\n\r\n    getCellByType(type) {\r\n        let cells = {};\r\n        for(let i in this._fields) {\r\n            if (this._fields[i].type == type) cells[i] = this._fields[i];\r\n        }\r\n        return cells;\r\n    }\r\n}","let _ctarget = {\r\n    orig : 0,\r\n    target : 0,\r\n    state : null,\r\n    key : null,\r\n    to : null,\r\n    model: null,\r\n    end : null,\r\n    param_str : {}\r\n}\r\n\r\nfunction resetIntention() {\r\n    for(let i in _ctarget) {\r\n        _ctarget[i] = null;\r\n    }\r\n}\r\n\r\nfunction updateIntention(orig, vals) {\r\n    resetIntention();\r\n    _ctarget.orig = parseInt(orig);\r\n\r\n    for(let i in vals) {\r\n        _ctarget[i] = vals[i];\r\n    }\r\n}\r\n\r\nfunction convertMaps(omaps) {\r\n    let ni = _ctarget.orig + _ctarget.target;\r\n    if (ni < 0) omaps.unshift({ ...omaps[i] });\r\n    else if (ni >= omaps.length) omaps.push({ ... omaps[omaps.length - 1]});\r\n\r\n    for(let i in _ctarget) {\r\n        if (_ctarget[i] !== null) {\r\n            if (i == \"_end\") omaps.splice(ni + 1, omaps.length);\r\n            else omaps[ni][i] = _ctarget[i];\r\n        }\r\n    }\r\n}\r\n\r\nexport default {\r\n    updateIntention,\r\n    convertMaps\r\n}\r\n","import { DataRow } from \"./datarow.js\"\r\nimport { DataTemplate } from \"./datatemplate.js\"\r\nimport { MetaRow } from \"./metarow.js\"\r\nimport ChangeAction from \"./changeaction.js\"\r\nimport client from \"./client.js\"\r\nimport { Field } from \"./field.js\"\r\nimport { reactive } from \"vue\"\r\nimport { Asset } from \"./asset.js\"\r\n\r\nexport class ModelInstance {\r\n    constructor(stage) {\r\n        this._label = '';\r\n        this._title = '';\r\n        this._component = '';\r\n        this._rawcomponent = '';\r\n        this._actions = [];\r\n        this._next = null;\r\n        this._index = 0;\r\n        this._primary_key_name = \"\";\r\n        this._parent_key_name = \"\";\r\n        this._circular = '';\r\n        this._model= \"\";\r\n        this._siblings = [];\r\n        this._children = [];\r\n        this._groups = [];\r\n        this._classes= \"\";\r\n        this._states = {};\r\n        this._default_state = \"\";\r\n        this._settings = { hide_actions : {}};\r\n        this._meta_row = new MetaRow();\r\n        this._global_meta_row = new MetaRow();\r\n        this._data_template = null;\r\n        this._data = null;\r\n        this._global_data;\r\n        this._indexes = null;\r\n        this._stage = stage;\r\n        this._states;\r\n        this._to;\r\n        this._store = reactive({});\r\n    }\r\n\r\n    get currentstate() {\r\n        return (this._active_state) ? this._active_state : this._default_state;\r\n    }\r\n\r\n\r\n    get fields() {\r\n        return this._fields;\r\n    }\r\n\r\n    get default_state() {\r\n        return this._default_state;\r\n    }\r\n\r\n    get classes() {\r\n        return this._name.replace(\"_\", \"-\") + \" \" + this._state;\r\n    }\r\n\r\n    set to(to) {\r\n        this._to = to;\r\n    }\r\n\r\n    applySettings(settings) {\r\n        this._settings = settings;\r\n        if (!this._settings) this._settings = {};\r\n        if (!this._settings.hide_actions) this._settings.hide_actions = {};\r\n    }\r\n\r\n\r\n    \r\n    snakeCase(name) {\r\n        return name.replace(\"-\", \"_\");\r\n    }\r\n\r\n\r\n    buildMetaRow(response, state) {\r\n        this._meta_row = new MetaRow();\r\n\r\n        let cfields = response.states[state].fields;\r\n        if (!cfields) {\r\n            cfields = response.fields;\r\n        } else {\r\n            let use_fields = {};\r\n            for(let field of cfields) {\r\n                use_fields[field] = response.fields[field];\r\n            }\r\n            cfields = use_fields;\r\n        }\r\n        this._meta_row.map(cfields);\r\n\r\n        let global_fields = {};\r\n        for(let field in response.fields) {\r\n            if (response.fields[field].is_primary) global_fields[field] = response.fields[field];\r\n            else if (response.fields[field].is_parent) global_fields[field] = response.fields[field];\r\n        }\r\n\r\n        this._global_meta_row.map(global_fields);\r\n\r\n        let par = response.to;\r\n        while(par) {\r\n            let p_meta = new MetaRow();\r\n            p_meta.map(par.fields);\r\n            this._meta_row.addReference(par.model, p_meta);\r\n            par = par.to;\r\n        }\r\n    }\r\n\r\n\r\n    initState(response, state) {\r\n        if (!state) state = response.default_state;\r\n        this._model = response.model;\r\n        this._primary_key_name = response.primarykey;\r\n        this._parent_key_name = response.parentkey;\r\n        this._children = response.children;\r\n        this._siblings = response.siblings;\r\n        this._circular = response.circular;\r\n        this._states = response.states;\r\n        this._default_state = response.default_state;\r\n        this.buildMetaRow(response, state);\r\n        this._children = response.children;\r\n        this._siblings = response.siblings;\r\n        this._states = response.states;\r\n    }\r\n\r\n\r\n    loadURL(state) {\r\n        let url = \"/\" + this._model;\r\n        if (state == \"getprimary\" ||  state == \"put\") url += \"-primary\";\r\n        return url;\r\n    }\r\n\r\n    saveURL() {\r\n        let url = \"/\" + this._model;\r\n        return url;\r\n    }\r\n\r\n    initDataTemplate(map) {\r\n        this._to = map.to;\r\n        this._data_template = new DataTemplate(this._meta_row);\r\n\r\n        if (map.state == \"get\") {\r\n            if (map.key == \"first\") this._data_template.limit = 1;\r\n            else if (map.key) this._data_template.parent.setVal(map.key);\r\n        } else if (map.state == \"post\") {\r\n            this._global_data = new DataRow(this._global_meta_row);\r\n            if (map.key) {\r\n                this._data_template.parent.setVal(map.key);\r\n                this._global_data.parent.setVal(map.key);\r\n            }\r\n        } else if (map.state != \"login\") {\r\n            this._data_template.primary.setVal(map.key);\r\n        }\r\n    \r\n        if (map.param_str) {\r\n            this._data_template.convertFromParams(map.param_str);\r\n        }\r\n    \r\n        if (this._settings.groups) {\r\n            this._data_template.groups = this._settings.groups;\r\n        }\r\n\r\n        if (this._settings.limit) {\r\n            this._data_template.limit = this._settings.limit;\r\n        }\r\n    \r\n   \r\n    }\r\n\r\n\r\n    load(state) {\r\n        if (state == \"get\") {\r\n            let params = this._data_template.convertToAPIParams(state);\r\n            if (this._to) {\r\n                if (!params) params = {};\r\n                params.__to = this._to;\r\n            }\r\n\r\n            if (this._settings.fields) {\r\n                if (!params) params = {};\r\n                params.__fields = this._settings.fields;\r\n            }\r\n\r\n            if (this._data_template.limit > 0) {\r\n                return client.get(this.loadURL(\"get\") + \"-count\", params)\r\n                .then(response => {\r\n                    this._data_template.count = response.count;\r\n                    this._data_template.max_pages = Math.ceil(response.count / this._data_template.limit);\r\n                })\r\n                .then(() => {\r\n                    return client.get(this.loadURL(\"get\"), params);\r\n                })\r\n                .then(response => {\r\n                    if (response.__status != \"SUCCESS\") throw new Error(response);\r\n                    this._data = [];\r\n                    this.mapRepoData(response);\r\n                    return response;\r\n                });\r\n            } else {\r\n                return client.get(this.loadURL(\"get\"), params)\r\n                .then(response => {\r\n                    if (response.__status != \"SUCCESS\") throw new Error(response);\r\n                    this._data_template.count = response.__data.length;\r\n                    this._data = [];\r\n                    this.mapRepoData(response);\r\n                    return response;\r\n                });\r\n           \r\n            }\r\n\r\n        } else if (state == \"getprimary\" ||state == \"put\") {\r\n            let params = this._data_template.convertToAPIParams(state);\r\n            if(this._to) params.__to = this._to;\r\n            return client.get(this.loadURL(state), params)\r\n            .then(response => {\r\n                if (response.__status != \"SUCCESS\") throw new Error(response);\r\n                    this._data = {};\r\n                    this.mapData(response);\r\n                    return response;\r\n            })\r\n            .then(response => {\r\n                this._global_data = new DataRow(this._global_meta_row);\r\n                this._global_data.row = response;\r\n                if (state == \"put\") {\r\n                    return this.setReferences()\r\n                }\r\n            });\r\n        } else if (state == \"post\") {\r\n            this._data = new DataRow(this._meta_row);\r\n            if (this._data_template.parent) this._data.parent.setVal(this._data_template.parent.toVal());\r\n            return this.setReferences();\r\n        } else {\r\n            this._data = new DataRow(this._meta_row);\r\n            \r\n            return Promise.resolve();\r\n        }\r\n    }\r\n\r\n\r\n    reload() {\r\n        this._data_template.page = 0;\r\n        let params = this._data_template.convertToAPIParams(\"get\");\r\n        if (this._to) params.__to = this._to;\r\n        return client.get(this.loadURL(\"get\") + \"-count\", params)\r\n        .then(response => {\r\n            this._data_template.count = response.count;\r\n            this._data_template.max_pages = Math.ceil(response.count / this._data_template.limit);\r\n        })\r\n        .then(() => {\r\n            return client.get(this.loadURL(\"get\"), params)\r\n        }).then(response => {\r\n            if (response.__status != \"SUCCESS\") throw new Error(response);\r\n            this._data = [];\r\n            this.mapRepoData(response);\r\n            return response;\r\n        })\r\n        .then(() => {\r\n            this._store.data = this._data;\r\n            this._store.data_template = this._data_template.count;\r\n        });\r\n    }\r\n\r\n\r\n    rLoadObj(data) {\r\n        let obj= new DataRow(this._meta_row);\r\n        obj.row = data;\r\n\r\n        if (this._circular && data[this._model]) {\r\n            if (data[this._model]) {\r\n                for(const i in data[this._model]) {\r\n                    obj.addChild(this._model, this.rLoadObj(data[this._model][i]));\r\n                }\r\n            }\r\n        }\r\n\r\n        for(const i in this._active_children) {\r\n            const name = this._active_children[i];\r\n            if (data[name]) {\r\n                for(const x in data[name]) {\r\n                    obj.addChild(name, this.rLoadObj(data[name][x]));\r\n                }\r\n            }\r\n        }\r\n        return obj;\r\n    }\r\n\r\n    indexData(data) {\r\n        let indexes = {};\r\n        for(const key in data) {\r\n            const row = data[key];\r\n            for(let group of this._data_template.groups) {\r\n                group = this.snakeCase(group);\r\n                if (!indexes[group]) indexes[group] = {};\r\n                let ckey = row.getCell(group).toVal();\r\n                if (!indexes[group][ckey]) {\r\n                    indexes[group][ckey] = {\"display\": \"\", \"contains\":[]};\r\n                    indexes[group][ckey].display= row.getCell(group).display;\r\n                }\r\n                indexes[group][ckey].contains.push(key);\r\n            }\r\n        }\r\n        return indexes;\r\n    }\r\n\r\n\r\n    submit(state) {\r\n        let data = this._data.serialize(state);\r\n        return client[state](this.saveURL(), data)\r\n        .then(request=>{\r\n            if (request.__status!= \"SUCCESS\") {\r\n                throw { message : request.statusText }\r\n            }\r\n            if (state == \"post\") {\r\n                this._global_data.primary.setVal(request[this._global_meta_row.primary.name]);\r\n            }\r\n        })\r\n        .then(() => {\r\n            let promises = [];\r\n            let assets = this._store.data.getCellByType(\"asset\");\r\n            this._store.progress.total = 0;\r\n            for(let i in assets) {\r\n                const val = assets[i].toVal();\r\n                if (!val) continue;\r\n                ++this._store.progress.total;\r\n                const asset = new Asset();\r\n                asset.url = this.saveURL() + \"-\" + i;\r\n                asset.keyfield = this._store.data.primary.name;\r\n                let promise = asset.saveFile(assets[i].toVal(), this._store.data.primary.toVal())\r\n                .then(() => {\r\n                    ++this._store.progress.progress;\r\n                });\r\n                promises.push(promise);\r\n            }\r\n            return Promise.all(promises);\r\n        });\r\n    }\r\n\r\n\r\n    setReferences() {\r\n        let promises = [];\r\n        const cells = this._meta_row.getCellByType(\"select\");\r\n        for(let name in cells) {\r\n            if (cells[name].reference) {\r\n                let params = {};\r\n                if (this._global_meta_row.parent) params[this._global_meta_row.parent.name] = this._global_data.parent.toVal();\r\n                promises.push(cells[name].setReferenceOptions(\"/\" + this._model + \"-\" + name.replace(\"_\", \"-\") + \"-reference\", params));\r\n            } \r\n        }\r\n        return Promise.all(promises);\r\n    }\r\n\r\n    mapRepoData(response) {\r\n        this._data = [];\r\n        for (const i in response.__data) {\r\n            const data = this.rLoadObj(response.__data[i]);\r\n            this._data.push(data);\r\n        }\r\n\r\n        \r\n        //now we need to group the data by\r\n        if (this._data_template.groups.length > 0) this._indexes = this.indexData(this._data);\r\n    }\r\n\r\n    mapData(data) {\r\n        this._data = new DataRow(this._meta_row);\r\n        this._data.row = data;\r\n    }\r\n\r\n\r\n    buildLink = (intention) => {\r\n        return key => {\r\n            if (key) intention.key = key;\r\n            for(let setting in this._settings.change_intention) {\r\n                intention[setting] = this._settings.change_intention[setting];\r\n            }\r\n            ChangeAction.updateIntention(this._stage, intention);\r\n            return Promise.resolve();\r\n        }\r\n    }\r\n\r\n    \r\n    exportToStore(state) {\r\n        this._store.actions = [];\r\n        this._store.stage = this._stage;\r\n        this._store.component = \"\";\r\n        this._store.rawcomponent = \"\";\r\n        this._store.title = this._states[state].title;\r\n        this._store.label = this._states[state].label;\r\n        this._store.action = state;\r\n        this._store.method = this._store.action;\r\n        this._store.submiturl = this.saveurl;\r\n        this._store.model = this._model;\r\n        this._store.classes = this._model + \" \" + state;\r\n        this._store.groups = this._data_template.groups;\r\n        if (!this._store.settings) this._store.settings = {};\r\n\r\n        if (this._settings.disable_filter) {\r\n            this._store.disable_filter = true;\r\n        }\r\n\r\n        if (this._settings.disable_selectfields) {\r\n            this._store.disable_selectfields = true;\r\n        }\r\n       \r\n        let states = {\r\n            'get': () => {\r\n                this._store.rawcomponent = (this._data_template.groups.length > 0) ? \"ptj-list\" : (this._circular || this._data_template.children.length > 0) ? \"ptj-tree\" : \"ptj-table\";\r\n                this._store.component = \"ptj-repo\";\r\n                this._store.index = this._model + \"-get\";\r\n                this._store.submiturl = this.loadurl;\r\n                this._store.count = this._data_template.count;\r\n                this._store.reload = () => { \r\n                    this.buildLink({ param_str : this._data_template.convertToParams()})()\r\n                    .then(() => {\r\n                        this.reload();\r\n                    });\r\n                };\r\n\r\n                if (this._meta_row.parent && !this._settings.hide_actions.parent) {\r\n                    this._store.actions.push({\r\n                        r : this.buildLink({ model : this._meta_row.parent.reference, \"state\" : \"getprimary\" }),\r\n                        n: \"go back\"\r\n                    });\r\n                }\r\n\r\n                if (this._states.post && !this._settings.hide_actions.post) {\r\n                    this._store.actions.push({ r: this.buildLink({ \"state\" : \"post\"}), n: this._states.get.actions.post });\r\n                }\r\n\r\n\r\n                if (this._states.getprimary) {\r\n                    this._store.next = this.buildLink({ param_str : \"\", state : \"getprimary\"});\r\n                } else if (this._states.put) {\r\n                    this._store.next = this.buildLink({ param_str : \"\", state : \"put\"});\r\n                }\r\n\r\n                this._store.siblings = [];\r\n                if (!this._settings.hide_actions.children) {\r\n                    for (let sibling of this._siblings) {\r\n                        this._store.siblings.push({\r\n                            r: this.buildLink({ model: sibling.name, param_str: \"\" }),\r\n                            n: sibling.label\r\n                        });\r\n                    }\r\n                }\r\n\r\n                if (this._data_template.limit > 0) {\r\n                    this._store.setPage = (page) => {\r\n                        this._store.data_template.page = page;\r\n                        this.buildLink({ param_str : this._data_template.convertToParams()})()\r\n                        .then(() => { this.reload(); });\r\n                    }\r\n                }\r\n            },\r\n            'getprimary': () => {\r\n                this._store.component = \"ptj-single-item\";\r\n                this._store.actions = [];\r\n                this._store.index = this._model + \"-getprimary\";\r\n\r\n                if (this._meta_row.parent && !this._settings.hide_actions.parent) {\r\n                    this._store.actions.push({\r\n                        r : this.buildLink({ key : this._data.parent.toVal(), state : \"get\"}),\r\n                        n: this._states.getprimary.actions.get \r\n                    });\r\n                }\r\n\r\n                if (this._states.put && !this._settings.hide_actions.put) {\r\n                    this._store.actions.push({ \r\n                        r: this.buildLink({ state : \"put\"}), \r\n                        n: this._states.getprimary.actions.put \r\n                    });\r\n                }\r\n                if (this._states.delete && !this._settings.hide_actions.delete) {\r\n                    this._store.actions.push({\r\n                        r: () => {\r\n                            if (confirm(\"Are you sure you want to delete this record and all associated children?\")) {\r\n                                let data = {};\r\n                                data[this._meta_row.primary.name] = this._data.primary.toVal();\r\n                                return client.delete(this.saveURL(), data)\r\n                                .then(() => {\r\n                                    let map = { \"state\" : \"get\"};\r\n                                    if (this._global_data.parent) map.key = this._global_data.parent.toVal();\r\n                                    return this.buildLink(map)();\r\n                                })\r\n                            } \r\n                            return Promise.reject(\"Delete cancelled\");\r\n                        }, n: this._states.getprimary.actions.delete\r\n                    });\r\n                }\r\n\r\n                \r\n\r\n                this._store.children = [];\r\n                if (!this._settings.hide_actions.children) {\r\n                    for (let child of this._children) {\r\n                        this._store.children.push({\r\n                            r: this.buildLink({ state: \"get\", model: child.name }),\r\n                            n: child.label\r\n                        });\r\n                    }\r\n                }\r\n            },\r\n            'post': () => {\r\n                this._store.component = (this._states.login) ? \"ptj-account-handler\" : \"ptj-form\";\r\n                this._store.index = this._model + \"-post\";\r\n                this._store.progress = {total : 0, progress : 0};\r\n                this._store.actions = [];\r\n                if (this._states.login) {\r\n                    this._store.actions.push({r : this.buildLink({ state : \"login\"}), n: this._states.post.actions.login });\r\n                }\r\n\r\n                this._store.next = () => {\r\n                    return this.buildLink({ state : \"getprimary\", key : this._global_data.primary.toVal()})();\r\n                }\r\n\r\n                \r\n                this._store.submit = () => {\r\n                    return this.submit(\"post\");\r\n                }\r\n            },\r\n            'put': () => {\r\n                this._store.component = \"ptj-form\";\r\n                this._store.progress = {total : 0, progress : 0};\r\n                this._store.index = this._model + \"-put\";\r\n                this._store.actions = [];\r\n                if (this._states.getprimary) this._store.next = this.buildLink({ state : \"getprimary\"});\r\n                else {\r\n                    let map = { \"state\" : \"get\"};\r\n                    if (this._global_data.parent) map.key = this._global_data.parent.toVal();\r\n                    this._store.next = this.buildLink(map);\r\n                }\r\n                this._store.submit = () => {\r\n                    return this.submit(\"put\");\r\n                }\r\n            },\r\n            'login': () => {\r\n                this._store.component = \"ptj-account-handler\";\r\n                this._store.index = this._model + \"-login\";\r\n                this._store.progress = {total : 0, progress : 0};\r\n                this._store.submit = () => {\r\n                    let data = this._data.serialize(\"login\");\r\n                    return client.post(this.saveURL() + \"-login\", data)\r\n                    .then(request=>{\r\n                        if (request.__status!= \"SUCCESS\") {\r\n                            throw { message : request.statusText }\r\n                        }\r\n                        return request;\r\n                    });\r\n                } \r\n                this._store.actions = [];\r\n                if (this._states.post) {\r\n                    this._store.actions.push({ r: this.buildLink({ state : \"post\"}), n: this._states.login.actions.post });\r\n                }\r\n            }\r\n        }\r\n\r\n        states[state]();\r\n\r\n        this._store.data = this._data;\r\n        this._store.indexes = this._indexes;\r\n        this._store.data_template = this._data_template;\r\n        this._meta_row.exportToStore(this._store);\r\n        return this._store;\r\n    }\r\n\r\n}\r\n","import client from \"./client.js\"\r\n\r\nimport { reactive } from \"vue\"\r\nimport { ModelInstance } from \"./modelinstance.js\";\r\n\r\n\r\nexport class Model {\r\n    constructor(stage) {\r\n        this._settings = {};\r\n        this._map;\r\n        this._previous_map;\r\n        this._response;\r\n        this._instance;\r\n        this._stage = stage;\r\n        this.store = reactive({\r\n            stage : stage\r\n        });\r\n    }\r\n\r\n    \r\n    get map() {\r\n        return this._map;\r\n    }\r\n\r\n    set map(map) {\r\n        this._previous_map = { ...this._map };\r\n        if (Object.keys(this._previous_map).length == 0) this._previous_map = null;\r\n        this._map = map.copy();\r\n    }\r\n\r\n    get stage() {\r\n        return this.store.stage;\r\n    }\r\n\r\n  \r\n\r\n\r\n    injectCustomSettings(settings) {\r\n        this._settings = settings;\r\n    }\r\n\r\n   \r\n    initModel(map, pmap) {\r\n        if (!pmap || pmap.model != map.model) {\r\n            pmap = null; //can clear so everything else happens\r\n            let url = (!map.model) ? \"/route-core-default\" : \"/route-\" + map.model;\r\n            let data = {};\r\n            if (map.to) data.__to = map.to;\r\n            return client.get(url, data)\r\n            .then(response => {\r\n                if (response.__status != \"SUCCESS\") {\r\n                    throw new Error(response);\r\n                }\r\n                this._response = response;\r\n                if (!map.state) map.state = this._response.default_state;\r\n                this._instance = new ModelInstance(this.store.stage);\r\n                if (this._settings && this._settings[map.state]) {\r\n                    this._instance.applySettings(this._settings[map.state]);\r\n                }\r\n            });\r\n\r\n        } else {\r\n            return Promise.resolve();\r\n        }\r\n    }\r\n\r\n\r\n    init() {\r\n        return this.initModel(this._map, this._previous_map)\r\n        .then(() => {\r\n            if (!this._previous_map || this._previous_map.state != this._map.state) {\r\n                this._instance.initState(this._response, this._map.state);\r\n                this._previous_map = null;\r\n            }\r\n        })\r\n        .then(() => {\r\n            if (!this._previous_map || this._previous_map.key != this._map.key || this._previous_map.param_str != this._map.param_str) {\r\n                this._previous_map = null;\r\n                return this._instance.initDataTemplate(this._map);\r\n            }\r\n        })\r\n        .then(() => {\r\n            if (this._previous_map) {\r\n                if (this._previous_map.to != this._map.to) {\r\n                    this._instance.to = this._map.to;\r\n                    this._previous_map = null;\r\n                }\r\n            }\r\n        })\r\n        .then(() => {\r\n            if (!this._previous_map) return this._instance.load(this._map.state);\r\n        })\r\n    }\r\n    \r\n\r\n\r\n   \r\n    exportToStore() {\r\n        return this._instance.exportToStore(this.map.state);\r\n    }\r\n}","const action_map = {\r\n    'post' : '-create',\r\n    'put' : '-update',\r\n    'delete' : '-delete',\r\n    'login' : '-login',\r\n    'logout' : '-logout',\r\n    'getprimary' : '-primary',\r\n    'get' : ''\r\n};\r\n\r\nclass CtrlGroupMap {\r\n\r\n    constructor() {\r\n        this._model;\r\n        this._state = \"\";\r\n        this._key = 0;\r\n        this._to;\r\n        this._param_str;\r\n    }\r\n\r\n    set model(model) {\r\n        this._model = model;\r\n    }\r\n\r\n    get model() {\r\n        return this._model;\r\n    }\r\n\r\n    set state(state) {\r\n        this._state = state;\r\n    }\r\n    \r\n    get state() {\r\n        return this._state;\r\n    }\r\n\r\n    set key(key) {\r\n        this._key = key;\r\n    }\r\n\r\n    get key() {\r\n        return this._key;\r\n    }\r\n\r\n    set to(to) {\r\n        this._to = to;\r\n    }\r\n\r\n    get to() {\r\n        return this._to;\r\n    }\r\n\r\n    set param_str(str) {\r\n        this._param_str = str;\r\n    } \r\n\r\n    get param_str() {\r\n        return this._param_str;\r\n    }\r\n\r\n    copy() {\r\n        return {\r\n            model : this._model,\r\n            state : this._state,\r\n            key : this._key,\r\n            to : this._to,\r\n            param_str : this._param_str\r\n        }\r\n    }\r\n\r\n\r\n    convertToURL() {\r\n        let model = this._model;\r\n        let state = this._state;\r\n        let key = this._key;\r\n        let to = this._to;\r\n\r\n        let url = model + action_map[state];\r\n        if (key) url += \"-\" + key;\r\n        if (to) url += \"-to-\" + to;\r\n        return url;\r\n    }\r\n\r\n    convertFromURL(url) {\r\n        if (!url) return;\r\n        let parts = url.split(\"-to-\");\r\n        if (parts.length > 1) {\r\n            this._to = parts[1];\r\n            url = parts[0];\r\n        }\r\n        parts = url.split(\"-\");\r\n        let key = parts[parts.length - 1];\r\n        if (key == \"first\") {\r\n            this._key = key;\r\n            parts.pop();\r\n        } else if (!isNaN(key)) {\r\n            this._key = key;\r\n            parts.pop();\r\n        }\r\n        \r\n        if (parts.length == 0) {\r\n            throw new Error(\"Can't convert this url string: \" + url);\r\n        }\r\n        for(let i in action_map) {\r\n            if (action_map[i] == \"-\" + parts[parts.length - 1]) {\r\n                this._state = i\r\n                parts.pop();\r\n                break;\r\n            }\r\n        }\r\n        this._model = parts.join(\"-\");\r\n    }\r\n}\r\n\r\nlet maps = [];\r\nlet trigger_cb = null;\r\nlet route_base = \"/\";\r\n\r\n\r\nfunction decodeParams(param_str) {\r\n    const params = new URLSearchParams(param_str);\r\n    let param_obj = {};\r\n    params.forEach(function(value, key) {\r\n        param_obj[key] = value;\r\n    });\r\n    return param_obj;\r\n} \r\n\r\n\r\n\r\n\r\nfunction resetMaps() {\r\n    maps = [];\r\n}\r\n\r\nfunction trigger(trig) {\r\n    trigger_cb = trig;\r\n}\r\n\r\nfunction createMap() {\r\n    let map = new CtrlGroupMap();\r\n    maps.push(map);\r\n    return map;\r\n}\r\n\r\nfunction convertToURL() {\r\n    let str_parts = [];\r\n    for(let map of maps) {\r\n        str_parts.push(map.convertToURL());\r\n    }\r\n\r\n    const base = new URL(window.location.protocol + \"//\" + window.location.host + route_base);\r\n    const url_str = str_parts.join(\"/\");\r\n    const url = new URL(url_str, base);\r\n\r\n\r\n    let cstr = [];\r\n    for(let i in maps) {\r\n        if (maps[i].param_str) {\r\n            url.searchParams.set(\"stage_\" + i, maps[i].param_str);\r\n        }\r\n    }\r\n    return url;\r\n}\r\n\r\nfunction convertFromURL(url_obj) {\r\n    let url = url_obj.pathname.replace(route_base, \"\");\r\n    url = url.replace(/^\\/+|\\/+$/g, '');\r\n    let parts = url.split(\"/\");\r\n    maps = [];\r\n    for(let i in parts) {\r\n        let map = createMap();\r\n        map.convertFromURL(parts[i]);\r\n    }\r\n\r\n    const param_obj = url_obj.searchParams;\r\n    for(let i in maps) {\r\n        const param = param_obj.get(\"stage_\" + i);\r\n        if (param) maps[i].param_str = param;\r\n    }\r\n\r\n    if (trigger_cb) trigger_cb();\r\n}\r\n\r\n\r\nfunction setBase(base) {\r\n    //trim any leading or trailing / so we can be sure we are dealing with the correct format\r\n    base = base.replace(/^\\/+|\\/+$/g, '');\r\n    route_base = \"/\" + base + \"/\";\r\n}\r\n\r\nfunction getMaps() {\r\n    return maps;\r\n}\r\n\r\n\r\nexport default {\r\n    trigger,\r\n    resetMaps,\r\n    createMap,\r\n    convertToURL,\r\n    convertFromURL,\r\n    setBase,\r\n    getMaps\r\n}","let cb;\r\n\r\nfunction setRoute(uri, title = '') {\r\n    window.history.pushState({'name' : uri.pathname}, document.title, uri);\r\n    runRoute(uri);\r\n}\r\n\r\n\r\nfunction hardSetRoute(route) {\r\n    window.location = route;\r\n}\r\n\r\n\r\nwindow.onpopstate = function(event) {\r\n    runRoute(new URL(document.location.href));\r\n}\r\n\r\n\r\nfunction runRoute(uri) {\r\n    if (!uri) uri = new URL(window.location.href);\r\n    if (cb) cb(uri, window.location.search);\r\n}\r\n\r\nfunction softRoute(uri, title = '') {\r\n    window.history.pushState({'name' : uri.pathname}, document.title, uri);\r\n}\r\n\r\nfunction regCallback(callback) {\r\n    cb = callback;\r\n}\r\n\r\n\r\nexport default {\r\n    setRoute,\r\n    hardSetRoute,\r\n    runRoute,\r\n    regCallback,\r\n    softRoute\r\n}","import { reactive } from \"vue\"\r\nimport { Model } from \"./model.js\"\r\nimport Map from \"./ctrlmap.js\"\r\nimport Client from \"./client.js\"\r\nimport Router from \"./router.js\"\r\nimport ChangeAction from \"./changeaction.js\"\r\n\r\nlet _store = reactive({ 'models' : [], profile : null });\r\nlet _settings = {};\r\nlet _models = [];\r\nlet _seeker = -1;\r\n\r\n\r\nfunction setSettings(settings) {\r\n    if (settings.client) {\r\n        Client.setURL(settings.client.url);\r\n        if (settings.client.custom_headers) {\r\n            for(let i in settings.client.custom_headers) {\r\n                Client.regCustomHeader(i, settings.client.custom_headers[i]);\r\n            }\r\n        }\r\n    \r\n        if (settings.client.debug) {\r\n            Client.regDebug(true);\r\n        }\r\n    \r\n        Client.regStatusHandler(403, function() {\r\n            alert(\"Page not found\");\r\n        });\r\n    }\r\n    \r\n    if (settings.mapper) {\r\n        if (settings.mapper.base) Map.setBase(settings.mapper.base);\r\n    }\r\n\r\n    if (settings.models) _settings = settings.models;\r\n}\r\n\r\n\r\nfunction initProfile() {\r\n    return Client.get(\"/core-check-user\")\r\n    .then(response => {\r\n        _store.profile = response.__profile;\r\n        return _store.profile;\r\n    });\r\n}\r\n\r\nfunction assumeRole(role) {\r\n    return Client.post('/core-assume-role', { 'role' : role })\r\n    .then(request => {\r\n        _store.profile = request.__profile;\r\n        return _store.profile;\r\n    });\r\n}\r\n\r\nfunction removeRole() {\r\n    return Client.post('/core-remove-role')\r\n    .then(request => {\r\n        _store.profile = request.__profile;\r\n        return _store.profile;\r\n    });\r\n}\r\n\r\nfunction buildModel(map, stage) {\r\n    let model = new Model(stage);\r\n    model.map = map;\r\n    if (_settings[map.model]) model.injectCustomSettings(_settings[map.model]);\r\n    _models[stage] = model;\r\n    return _models[stage];\r\n   \r\n}\r\n\r\nfunction run() {\r\n    _seeker = -1;\r\n    let maps = Map.getMaps();\r\n    if (maps.length == 0) {\r\n        throw new Error(\"Error with controller run, no maps created\");\r\n    }\r\n    _store.models = [];\r\n    let promises = [];\r\n\r\n    if (_models.length > maps.length) _models.splice(maps.length, _models.length - maps.length);\r\n    for (let i in maps) {\r\n        const map = maps[i];\r\n        let model, promise;\r\n        if (i >= _models.length || _models[i].name != map.model) {\r\n            model = buildModel(map, i);\r\n        } else {\r\n            model = _models[i];\r\n        }\r\n        if (_settings && _settings[map.model]) {\r\n            model.injectCustomSettings(_settings[map.model]);\r\n        }\r\n        promise = model.init()\r\n        .catch(e => console.log(e));\r\n        promises.push(promise);\r\n    }\r\n\r\n    //check the last map to see if it needs a child group\r\n    //omap will be one before last\r\n    Promise.all(promises)\r\n    .then(() => {\r\n        for(let model of _models) {\r\n            _store.models.push(model.exportToStore());\r\n        }\r\n    })\r\n    .catch(e => {\r\n        console.log(e);\r\n    })    \r\n}\r\n\r\nfunction buildLink(soft = false) {\r\n    Map.resetMaps();\r\n    let omaps = [];\r\n    for(let i in _models) {\r\n        let model = _models[i];\r\n        omaps.push(model.map);\r\n    }\r\n\r\n    ChangeAction.convertMaps(omaps);\r\n\r\n    for(const omap of omaps) {\r\n        let cmap = Map.createMap();\r\n        for(let i in omap) {\r\n            cmap[i] = omap[i];\r\n        }\r\n    }\r\n    let url = Map.convertToURL();\r\n    if (!soft) Router.setRoute(url);\r\n    else Router.softRoute(url);\r\n}\r\n\r\nfunction runLink() {\r\n    Map.runRoute();\r\n}\r\n\r\n\r\nfunction runData(uri = null) {\r\n    if (!uri) uri = new URL(window.location.href);\r\n    Map.convertFromURL(uri);\r\n}\r\n\r\n\r\n\r\nfunction reloadFromBase() {\r\n    Map.resetMaps();\r\n    let url = Map.convertToURL();\r\n    Router.setRoute(url);\r\n}\r\n\r\n\r\nfunction getStore() {\r\n    return _store.models[_seeker];\r\n}\r\n\r\n\r\nfunction next() {\r\n    ++_seeker;\r\n}\r\n\r\nMap.trigger(() => {\r\n    run();\r\n});\r\n\r\n\r\nfunction runRoute(method, url, params) {\r\n    return Client[method](url, params);\r\n}\r\n\r\nRouter.regCallback(Map.convertFromURL)\r\n\r\nexport default {\r\n    store : _store,\r\n    models : _models,\r\n    setSettings,\r\n    initProfile,\r\n    assumeRole,\r\n    removeRole,\r\n    run,\r\n    buildModel,\r\n    buildLink,\r\n    runLink,\r\n    runData,\r\n    reloadFromBase,\r\n    getStore,\r\n    next,\r\n    runRoute\r\n}\r\n","let classes_dict = {\r\n    'ptj-account-details-logout' : \"ptj-account-details-logout\",\r\n    'ptj-account-handler' : 'ptj-account-handler',\r\n    'ptj-breadcrumbs' : 'ptj-breadcrumbs',\r\n    'ptj-card' : 'ptj-card',\r\n    'ptj-card-row' : 'ptj-card-row',\r\n    'ptj-card-label' : 'ptj-card-label',\r\n    'ptj-card-value' : 'ptj-card-value',\r\n    'ptj-form' : 'ptj-form',\r\n    'ptj-form-title' : 'ptj-form-title',\r\n    'ptj-form-error' : 'ptj-form-error',\r\n    'ptj-form-group' : 'ptj-form-group',\r\n    'ptj-form-submit' : 'ptj-form-submit',\r\n    'ptj-root' : 'ptj-root',\r\n    'ptj-tabs' : 'ptj-tabs',\r\n    'ptj-tabs-card' : 'ptj-tabs-card',\r\n    'ptj-tabs-tab' : 'ptj-tabs-tab',\r\n    'ptj-repo' : 'ptj-repo',\r\n    'ptj-nav' : 'ptj-nav',\r\n    'ptj-nav-link' : 'ptj-nav-link',\r\n    'ptj-single-item' : 'ptj-single-item',\r\n    'ptj-single-item-row' : 'ptj-single-item-row',\r\n    'ptj-single-item-label' : 'ptj-single-item-label',\r\n    'ptj-single-item-value' : 'ptj-single-item-value',\r\n    'ptj-single-item-actions' : 'ptj-single-item-actions',\r\n    'ptj-single-item-children' : 'ptj-single-item-children',\r\n    'ptj-widget-window' : 'ptj-widget-window',\r\n    'ptj-widget-window-header' : 'ptj-widget-window-header',\r\n    'ptj-widget-window-title' : 'ptj-widget-window-title',\r\n    'ptj-widget-window-toggle' : 'ptj-widget-window-toggle',\r\n    'ptj-widget-window-body' : 'ptj-widget-window-body',\r\n    'ptj-repo-header-title' : 'ptj-repo-header-title',\r\n    'ptj-repo-header-actions' : 'ptj-repo-header-actions',\r\n    'ptj-tree' : 'ptj-tree',\r\n    'ptj-form-row' : 'ptj-form-row',\r\n    'ptj-form-input-row' : 'ptj-form-input-row',\r\n    'ptj-form-input-label' : 'ptj-form-input-label',\r\n    'ptj-form-input' : 'ptj-form-input',\r\n    'ptj-table' : 'ptj-table',\r\n    'ptj-table-header' : 'ptj-table-header',\r\n    'ptj-table-header-cell' : 'ptj-table-header-cell',\r\n    'ptj-table-row' : 'ptj-table-row',\r\n    'ptj-table-cell' : 'ptj-table-cell',\r\n    'ptj-table-cell-sortable' : 'ptj-table-cell-sortable',\r\n    'ptj-form-confirm-row' : 'ptj-form-confirm-row',\r\n    'ptj-form-confirm-label' : 'ptj-form-confirm-label',\r\n    'ptj-form-confirm' : 'ptj-form-confirm',\r\n    'ptj-pagination' : 'ptj-pagination',\r\n    'ptj-filter-form' : 'ptj-filter-form',\r\n    'ptj-filter-form-group' : 'ptj-filter-form-group',\r\n    'ptj-filter-form-submit' : 'ptj-filter-form-submit',\r\n    'ptj-form-select-row' : 'ptj-form-select-row',\r\n    'ptj-form-select-label' : 'ptj-form-select-label',\r\n    'ptj-form-select' : 'ptj-form-select',\r\n    'ptj-tree-node' : 'ptj-tree-node',\r\n    'ptj-tree-node-row' : 'ptj-tree-node-row',\r\n    'ptj-selectfields' : 'ptj-selectfields',\r\n    'ptj-selectfields-checkbox' : 'ptj-selectfields-checkbox',\r\n    'ptj-selectfields-label' : 'ptj-selectfields-label',\r\n    'ptj-form-radio-row' : 'ptj-form-radio-row',\r\n    'ptj-form-radio-label' : 'ptj-form-radio-label',\r\n    'ptj-form-radio-option-label' : 'ptj-form-radio-option-label',\r\n    'ptj-checkbox-row' : 'ptj-checkbox-row',\r\n    'ptj-checkbox-label' : 'ptj-checkbox-label',\r\n    'ptj-checkbox' : 'ptj-checkbox',\r\n    'ptj-form-textarea-row' : 'ptj-form-textarea-row',\r\n    'ptj-form-textarea-label' : 'ptj-form-textarea-label',\r\n    'ptj-form-textarea' : 'ptj-form-textarea',\r\n    'ptj-form-asset-row' : 'ptj-form-asset-row',\r\n    'ptj-form-asset-label' : 'ptj-form-asset-label',\r\n    'ptj-form-asset' : 'ptj-form-asset',\r\n    'ptj-progress-bar-wrapper' : 'ptj-progress-bar-wrapper',\r\n    'ptj-progress-bar-holder' : 'ptj-progress-bar-holder',\r\n    'ptj-progress-bar' : 'ptj-progress-bar',\r\n    'ptj-error' : 'ptj-error',\r\n    'ptj-filter-form-time-row' : 'ptj-filter-form-time-row',\r\n    'ptj-filter-form-time-label' : 'ptj-filter-form-time-label',\r\n    'ptj-filter-form-time-1' : 'ptj-filter-form-time-1',\r\n    'ptj-filter-form-time-2' : 'ptj-filter-form-time-2',\r\n    'ptj-filter-form-checkbox-row' : 'ptj-filter-form-checkbox-row',\r\n    'ptj-filter-form-checkbox-label' : 'ptj-filter-form-checkbox-label',\r\n    'ptj-filter-form-checkbox' : 'ptj-filter-form-checkbox',\r\n    'ptj-account-details-logout' : 'ptj-account-details-logout',\r\n    'ptj-accounthandler' : 'ptj-accounthandler',\r\n    'ptj-list' : 'ptj-list'\r\n};\r\n\r\nfunction regClass(name, value) {\r\n    classes_dict[name] = value;\r\n}\r\n\r\nfunction getClass(name) {\r\n    return classes_dict[name];\r\n} \r\n\r\nexport default {\r\n    regClass,\r\n    getClass\r\n}","<template>\r\n    <p :class=\"Class.getClass('ptj-error')\">{{ error }}</p>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { defineComponent } from 'vue'\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n    name : 'ptj-error',\r\n    props : {\r\n        'error' : [Number, String]\r\n    },\r\n    setup() { \r\n        return { Class }\r\n    }\r\n});\r\n\r\n</script>\r\n\r\n<style>\r\n.error {\r\n  color : red;\r\n}\r\n</style>","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","<template>\r\n    <p :class=\"Class.getClass('ptj-error')\">{{ error }}</p>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { defineComponent } from 'vue'\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n    name : 'ptj-error',\r\n    props : {\r\n        'error' : [Number, String]\r\n    },\r\n    setup() { \r\n        return { Class }\r\n    }\r\n});\r\n\r\n</script>\r\n\r\n<style>\r\n.error {\r\n  color : red;\r\n}\r\n</style>","<template>\r\n  <div :class=\"Class.getClass('ptj-form-row') + ' ' + Class.getClass('ptj-form-input-row') + ' ' + field.meta.name\">\r\n    <label v-if=\"field.meta.atts.type != 'hidden'\" :class=\"Class.getClass('ptj-form-input-label')\">{{ field.meta.label }}</label>\r\n    <input \r\n        :class=\"Class.getClass('ptj-form-input')\" \r\n        :name=\"field.meta.name\" \r\n        :type=\"field.meta.atts.type\" \r\n        v-model=\"field.val\" \r\n        @blur=\"field.validateon = true\" :readonly=\"field.meta.readonly\">\r\n    <ptj-error v-show=\"field.showError\" :error=\"field.error\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from 'vue'\r\nimport GCError from \"./ptj-error.vue\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-input',\r\n  props : {\r\n    field : Object\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  },\r\n  components : {\r\n      'ptj-error' : GCError\r\n  }\r\n});\r\n</script>\r\n","<template>\r\n  <div :class=\"Class.getClass('ptj-form-row') + ' ' + Class.getClass('ptj-form-input-row') + ' ' + field.meta.name\">\r\n    <label v-if=\"field.meta.atts.type != 'hidden'\" :class=\"Class.getClass('ptj-form-input-label')\">{{ field.meta.label }}</label>\r\n    <input \r\n        :class=\"Class.getClass('ptj-form-input')\" \r\n        :name=\"field.meta.name\" \r\n        :type=\"field.meta.atts.type\" \r\n        v-model=\"field.val\" \r\n        @blur=\"field.validateon = true\" :readonly=\"field.meta.readonly\">\r\n    <ptj-error v-show=\"field.showError\" :error=\"field.error\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from 'vue'\r\nimport GCError from \"./ptj-error.vue\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-input',\r\n  props : {\r\n    field : Object\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  },\r\n  components : {\r\n      'ptj-error' : GCError\r\n  }\r\n});\r\n</script>\r\n","<template>\r\n  <div :class=\"Class.getClass('ptj-form-row') + ' ' + Class.getClass('ptj-form-confirm-row')\">\r\n    <label :class=\"Class.getClass('ptj-form-confirm-label')\">{{ field.meta.label }}</label>\r\n    <input :class=\"Class.getClass('ptj-form-confirm')\" \r\n    :name=\"name\" \r\n    :type=\"field.meta.atts.type\" v-model=\"cval\" @blur=\"field.setValidateOn()\">\r\n    <ptj-error v-show=\"error\" :error=\"error\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from 'vue'\r\nimport GCError from \"./ptj-error.vue\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-confirm',\r\n  props : {\r\n    field : Object\r\n  },\r\n  data() {\r\n      return {\r\n          cval : \"\"\r\n      }\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  },\r\n  computed : {\r\n    name() {\r\n        return this.field.name + \"_confirm\";\r\n    },\r\n    error() {\r\n        if (this.isvalidateon) {\r\n            if (this.field.val == this.cval) return \"\";\r\n            else return \"Doesn't match \" + this.field.name; \r\n        }      \r\n    }\r\n  },\r\n  components : {\r\n      'ptj-error' : GCError\r\n  }\r\n});\r\n</script>\r\n","<template>\r\n  <div :class=\"Class.getClass('ptj-form-row') + ' ' + Class.getClass('ptj-form-confirm-row')\">\r\n    <label :class=\"Class.getClass('ptj-form-confirm-label')\">{{ field.meta.label }}</label>\r\n    <input :class=\"Class.getClass('ptj-form-confirm')\" \r\n    :name=\"name\" \r\n    :type=\"field.meta.atts.type\" v-model=\"cval\" @blur=\"field.setValidateOn()\">\r\n    <ptj-error v-show=\"error\" :error=\"error\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from 'vue'\r\nimport GCError from \"./ptj-error.vue\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-confirm',\r\n  props : {\r\n    field : Object\r\n  },\r\n  data() {\r\n      return {\r\n          cval : \"\"\r\n      }\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  },\r\n  computed : {\r\n    name() {\r\n        return this.field.name + \"_confirm\";\r\n    },\r\n    error() {\r\n        if (this.isvalidateon) {\r\n            if (this.field.val == this.cval) return \"\";\r\n            else return \"Doesn't match \" + this.field.name; \r\n        }      \r\n    }\r\n  },\r\n  components : {\r\n      'ptj-error' : GCError\r\n  }\r\n});\r\n</script>\r\n","<template>\r\n  <div :class=\"Class.getClass('ptj-form-row') + ' ' + Class.getClass('ptj-form-select-row')\">\r\n  <label :class=\"Class.getClass('ptj-form-select-label')\">{{ field.meta.label }}</label>\r\n  <select :class=\"Class.getClass('ptj-form-select')\" v-model=\"field.val\" :readonly=\"field.meta.readonly\" :name=\"field.meta.name\" :multiple=\"field.meta.multiple\">\r\n    <option value=\"0\" selected disabled>Select Option</option>\r\n    <option v-for=\"option in field.meta.options\" :key=\"option.key\" :value=\"option.key\">{{ option.value }}</option>\r\n  </select>\r\n  <ptj-error v-show=\"field.showError\" :error=\"field.error\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, ref } from 'vue'\r\nimport GCError from \"./ptj-error.vue\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n   props : {\r\n    field : Object\r\n  },\r\n  setup(props) {\r\n       return { Class };\r\n  },\r\n  components : {\r\n      'ptj-error' : GCError\r\n  }\r\n});\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n</style>","<template>\r\n  <div :class=\"Class.getClass('ptj-form-row') + ' ' + Class.getClass('ptj-form-select-row')\">\r\n  <label :class=\"Class.getClass('ptj-form-select-label')\">{{ field.meta.label }}</label>\r\n  <select :class=\"Class.getClass('ptj-form-select')\" v-model=\"field.val\" :readonly=\"field.meta.readonly\" :name=\"field.meta.name\" :multiple=\"field.meta.multiple\">\r\n    <option value=\"0\" selected disabled>Select Option</option>\r\n    <option v-for=\"option in field.meta.options\" :key=\"option.key\" :value=\"option.key\">{{ option.value }}</option>\r\n  </select>\r\n  <ptj-error v-show=\"field.showError\" :error=\"field.error\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, ref } from 'vue'\r\nimport GCError from \"./ptj-error.vue\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n   props : {\r\n    field : Object\r\n  },\r\n  setup(props) {\r\n       return { Class };\r\n  },\r\n  components : {\r\n      'ptj-error' : GCError\r\n  }\r\n});\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n</style>","<template>\r\n    <div :class=\"Class.getClass('ptj-form-row') + ' ' + Class.getClass('ptj-form-radio-row')\">\r\n      <label :class=\"Class.getClass('ptj-form-radio-label')\">{{ field.label }}</label>\r\n        <div v-for=\"option in field.options\" :key=\"option\">\r\n            <label :class=\"Class.getClass('ptj-form-radio-option-label')\">{{ option.option }}</label>\r\n            <input :name=\"cfield.name\" type=\"radio\" :value=\"option.value\" v-model=\"field.val\">\r\n        </div>\r\n        <ptj-error v-show=\"field.error\" :error=\"field.error\" />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { defineComponent } from 'vue'\r\nimport GCError from \"./ptj-error.vue\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-radio',\r\n  props : {\r\n    field : Object\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  },\r\n  data() {\r\n      return {\r\n          isvalidateon : false\r\n      }\r\n  },\r\n  methods : {\r\n      setValidateOn() {\r\n          this.isvalidateon = true;\r\n      }\r\n  },\r\n  components : {\r\n      'ptj-error' : GCError\r\n  }\r\n});\r\n</script>\r\n\r\n\r\n","<template>\r\n    <div :class=\"Class.getClass('ptj-form-row') + ' ' + Class.getClass('ptj-form-radio-row')\">\r\n      <label :class=\"Class.getClass('ptj-form-radio-label')\">{{ field.label }}</label>\r\n        <div v-for=\"option in field.options\" :key=\"option\">\r\n            <label :class=\"Class.getClass('ptj-form-radio-option-label')\">{{ option.option }}</label>\r\n            <input :name=\"cfield.name\" type=\"radio\" :value=\"option.value\" v-model=\"field.val\">\r\n        </div>\r\n        <ptj-error v-show=\"field.error\" :error=\"field.error\" />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { defineComponent } from 'vue'\r\nimport GCError from \"./ptj-error.vue\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-radio',\r\n  props : {\r\n    field : Object\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  },\r\n  data() {\r\n      return {\r\n          isvalidateon : false\r\n      }\r\n  },\r\n  methods : {\r\n      setValidateOn() {\r\n          this.isvalidateon = true;\r\n      }\r\n  },\r\n  components : {\r\n      'ptj-error' : GCError\r\n  }\r\n});\r\n</script>\r\n\r\n\r\n","<template>\r\n  <div :class=\"Class.getClass('ptj-form-row') + ' ' + Class.getClass('ptj-checkbox-row')\">\r\n    <label :class=\"Class.getClass('ptj-checkbox-label')\">{{ field.meta.label }}</label>\r\n    <input :class=\"Class.getClass('ptj-checkbox')\" type=\"checkbox\" :true-value=\"1\" :false-value=\"0\" :name=\"field.meta.name\" v-model=\"field.val\">\r\n    <ptj-error v-show=\"field.showError\" :error=\"field.error\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { defineComponent } from 'vue'\r\nimport GCError from \"./ptj-error.vue\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-checkbox',\r\n   props : {\r\n    field : Object\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  },\r\n  components : {\r\n      'ptj-error' : GCError\r\n  }\r\n});\r\n</script>\r\n","<template>\r\n  <div :class=\"Class.getClass('ptj-form-row') + ' ' + Class.getClass('ptj-checkbox-row')\">\r\n    <label :class=\"Class.getClass('ptj-checkbox-label')\">{{ field.meta.label }}</label>\r\n    <input :class=\"Class.getClass('ptj-checkbox')\" type=\"checkbox\" :true-value=\"1\" :false-value=\"0\" :name=\"field.meta.name\" v-model=\"field.val\">\r\n    <ptj-error v-show=\"field.showError\" :error=\"field.error\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { defineComponent } from 'vue'\r\nimport GCError from \"./ptj-error.vue\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-checkbox',\r\n   props : {\r\n    field : Object\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  },\r\n  components : {\r\n      'ptj-error' : GCError\r\n  }\r\n});\r\n</script>\r\n","<template>\r\n    <div \r\n    :class=\"Class.getClass('ptj-form-row') + ' ' + Class.getClass('ptj-form-textarea-row') + ' ' + field.meta.name.replace('_', '-')\">\r\n       <label :class=\"Class.getClass('ptj-form-textarea-label')\">{{ field.meta.label }}</label>\r\n       <textarea :class=\"Class.getClass('ptj-form-textarea')\" :name=\"field.meta.name\" v-model=\"field.val\" :readonly=\"field.meta.readonly\" :data-html=\"field.meta.atts.html\"></textarea>        \r\n       <ptj-error v-show=\"field.error\" :error=\"field.error\" />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { defineComponent } from 'vue'\r\nimport GCError from \"./ptj-error.vue\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-textarea',\r\n  props : {\r\n    field : Object\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  },\r\n  components : {\r\n      'ptj-error' : GCError\r\n  }\r\n});\r\n</script>\r\n","<template>\r\n    <div \r\n    :class=\"Class.getClass('ptj-form-row') + ' ' + Class.getClass('ptj-form-textarea-row') + ' ' + field.meta.name.replace('_', '-')\">\r\n       <label :class=\"Class.getClass('ptj-form-textarea-label')\">{{ field.meta.label }}</label>\r\n       <textarea :class=\"Class.getClass('ptj-form-textarea')\" :name=\"field.meta.name\" v-model=\"field.val\" :readonly=\"field.meta.readonly\" :data-html=\"field.meta.atts.html\"></textarea>        \r\n       <ptj-error v-show=\"field.error\" :error=\"field.error\" />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { defineComponent } from 'vue'\r\nimport GCError from \"./ptj-error.vue\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-textarea',\r\n  props : {\r\n    field : Object\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  },\r\n  components : {\r\n      'ptj-error' : GCError\r\n  }\r\n});\r\n</script>\r\n","<template>\r\n <div :class=\"Class.getClass('ptj-form-row') + ' ' + Class.getClass('ptj-form-asset-row')\">\r\n  <label :class=\"Class.getClass('ptj-form-asset-label')\">{{ field.meta.label }}</label>\r\n  <input :class=\"Class.getClass('ptj-form-asset')\" ref=\"input\" @change=\"setFile\" :name=\"field.meta.name\" type=\"file\" >\r\n  <ptj-error v-show=\"field.showError\" :error=\"field.error\" />\r\n </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { defineComponent } from 'vue'\r\nimport GCError from \"./ptj-error.vue\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-asset-field',\r\n  props : {\r\n    field : {\r\n        type : Object,\r\n        required : true\r\n    }\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  },\r\n  methods : {\r\n      setFile(e) {\r\n          if (e.target.files.length > 0) {\r\n            this.field.val = e.target.files[0];\r\n          } else {\r\n            this.field.val = null;\r\n          }\r\n          this.field.validateon = true;\r\n      }\r\n  },\r\n  components : {\r\n      'ptj-error' : GCError\r\n  }\r\n});\r\n</script>","<template>\r\n <div :class=\"Class.getClass('ptj-form-row') + ' ' + Class.getClass('ptj-form-asset-row')\">\r\n  <label :class=\"Class.getClass('ptj-form-asset-label')\">{{ field.meta.label }}</label>\r\n  <input :class=\"Class.getClass('ptj-form-asset')\" ref=\"input\" @change=\"setFile\" :name=\"field.meta.name\" type=\"file\" >\r\n  <ptj-error v-show=\"field.showError\" :error=\"field.error\" />\r\n </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { defineComponent } from 'vue'\r\nimport GCError from \"./ptj-error.vue\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-asset-field',\r\n  props : {\r\n    field : {\r\n        type : Object,\r\n        required : true\r\n    }\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  },\r\n  methods : {\r\n      setFile(e) {\r\n          if (e.target.files.length > 0) {\r\n            this.field.val = e.target.files[0];\r\n          } else {\r\n            this.field.val = null;\r\n          }\r\n          this.field.validateon = true;\r\n      }\r\n  },\r\n  components : {\r\n      'ptj-error' : GCError\r\n  }\r\n});\r\n</script>","<template>\r\n    <div :class=\"Class.getClass('ptj-progress-bar-wrapper')\">\r\n        <div :class=\"Class.getClass('ptj-progress-bar-holder') + ' ptj-progress-holder'\">\r\n            <div :class=\"Class.getClass('ptj-progress-bar') + ' ptj-bar'\" :style=\"style\">&nbsp;</div> \r\n        </div>   \r\n        <span>{{ num }}%</span>\r\n    </div> \r\n</template>\r\n\r\n<script>\r\n\r\nimport { defineComponent} from \"vue\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-progress-bar',\r\n  props : {\r\n      total : Number,\r\n      progress : Number\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  },\r\n  computed : {\r\n      num() {\r\n          let num = Math.floor((this.progress / this.total) * 100);\r\n          return (isNaN(num)) ? 0 : num;\r\n      },\r\n      style() {\r\n          return \"width:\" +  this.num + \"%;\";\r\n      }\r\n  }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n .ptj-progress-holder {\r\n     width : 100%;\r\n     min-height : 10px;\r\n     position : relative;\r\n     display : flex;\r\n     align-items: stretch;\r\n     padding : 2px;\r\n }\r\n\r\n .ptj-bar {\r\n     width : 0;\r\n     height : 100%;\r\n     position : relative;\r\n     line-height : 100%;\r\n }\r\n\r\n\r\n</style>\r\n","<template>\r\n    <div :class=\"Class.getClass('ptj-progress-bar-wrapper')\">\r\n        <div :class=\"Class.getClass('ptj-progress-bar-holder') + ' ptj-progress-holder'\">\r\n            <div :class=\"Class.getClass('ptj-progress-bar') + ' ptj-bar'\" :style=\"style\">&nbsp;</div> \r\n        </div>   \r\n        <span>{{ num }}%</span>\r\n    </div> \r\n</template>\r\n\r\n<script>\r\n\r\nimport { defineComponent} from \"vue\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-progress-bar',\r\n  props : {\r\n      total : Number,\r\n      progress : Number\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  },\r\n  computed : {\r\n      num() {\r\n          let num = Math.floor((this.progress / this.total) * 100);\r\n          return (isNaN(num)) ? 0 : num;\r\n      },\r\n      style() {\r\n          return \"width:\" +  this.num + \"%;\";\r\n      }\r\n  }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n .ptj-progress-holder {\r\n     width : 100%;\r\n     min-height : 10px;\r\n     position : relative;\r\n     display : flex;\r\n     align-items: stretch;\r\n     padding : 2px;\r\n }\r\n\r\n .ptj-bar {\r\n     width : 0;\r\n     height : 100%;\r\n     position : relative;\r\n     line-height : 100%;\r\n }\r\n\r\n\r\n</style>\r\n","<template>\r\n <form @submit.prevent=\"submit\" v-show=\"fstate==0\" :class=\"Class.getClass('ptj-form') + ' ' + store.classes\">\r\n    <div :class=\"Class.getClass('ptj-form-error')\" v-show=\"globalerror\">{{ globalerror }}</div>\r\n    <div v-for=\"field in store.data.cells\" :key=\"field.meta.name\" :class=\"Class.getClass('ptj-form-group')\">\r\n          <ptj-select v-if=\"field.meta.type=='select'\" :field=\"field\" :stores=\"store\" />\r\n          <ptj-radio v-else-if=\"field.meta.type=='radio'\" :field=\"field\" :stores=\"store\" />\r\n          <ptj-checkbox v-else-if=\"field.meta.type=='checkbox'\" :field=\"field\" :stores=\"store\" />\r\n          <ptj-textarea v-else-if=\"field.meta.type=='textarea'\" :field=\"field\" :stores=\"store\" />\r\n          <ptj-asset-field v-else-if=\"field.meta.type=='asset'\" :field=\"field\" :stores=\"store\" />\r\n          <ptj-input v-else :field=\"field\" :stores=\"store\" />\r\n          <div v-if=\"field.meta.confirm\">\r\n            <ptj-confirm :field=\"field\" :stores=\"store\"/> \r\n          </div>\r\n          <!-- REMOVED: -->\r\n    </div>\r\n    <input type=\"submit\" value=\"Submit\" :class=\"Class.getClass('ptj-form-submit')\">\r\n\r\n  </form>\r\n  <ptj-progress-bar v-show=\"fstate == 1\" :total=\"store.progress.total\" :progress=\"store.progress.progress\" />\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport { defineComponent } from 'vue'\r\nimport GCInput from \"./ptj-form-input.vue\"\r\nimport GCConfirm from \"./ptj-form-confirm.vue\"\r\nimport GCSelect from \"./ptj-form-select.vue\"\r\nimport GCRadio from \"./ptj-form-radio.vue\"\r\nimport GCCheckbox from \"./ptj-form-checkbox.vue\"\r\nimport GCTextarea from \"./ptj-form-textarea.vue\"\r\nimport GCAssetField from \"./ptj-form-asset.vue\"\r\nimport GCProgressBar from \"./ptj-progress-bar.vue\"\r\nimport Errors from \"../js/error.js\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n \r\nexport default defineComponent({\r\n  name: 'ptj-form',\r\n  data() {\r\n      return {\r\n          fstate : 0,\r\n          globalerror : ''\r\n      }\r\n  },\r\n  setup() {\r\n      return { store : Ctrl.getStore(), Class }\r\n  },\r\n  methods : {\r\n    clearErrors() {\r\n        this.globalerror = \"\";\r\n        for(let i in this.store.data.cells) {\r\n            this.store.data.cells[i].error = 0;\r\n        }\r\n    },\r\n    submit() {\r\n        this.fstate = (this.total > 0) ? 1 : 2;\r\n        this.clearErrors();\r\n        return this.store.submit()\r\n        .then(() => {\r\n            this.store.next();\r\n            Ctrl.buildLink();\r\n        })\r\n        .catch(err => {\r\n            //show error fields, mark fields as invalidated\r\n            this.fstate = 0;\r\n            console.log(err);\r\n            if (typeof err == \"string\") {\r\n                this.globalerror = err;\r\n            } else {\r\n                for(let i in err) {\r\n                    if (i.indexOf(\"__\") === 0) continue;\r\n                    const cell = this.store.data.cells[i];\r\n                    if (cell) {\r\n                        cell.error = Errors.getError(err[i]);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n  },\r\n  components : \r\n    {\r\n      \"ptj-input\" : GCInput,\r\n      \"ptj-confirm\" : GCConfirm,\r\n      \"ptj-select\" : GCSelect,\r\n      \"ptj-radio\" : GCRadio,\r\n      \"ptj-checkbox\" : GCCheckbox,\r\n      \"ptj-textarea\": GCTextarea,\r\n      \"ptj-asset-field\" : GCAssetField,\r\n      \"ptj-progress-bar\" : GCProgressBar\r\n    }\r\n       \r\n  \r\n});\r\n</script>\r\n\r\n\r\n","<template>\r\n <form @submit.prevent=\"submit\" v-show=\"fstate==0\" :class=\"Class.getClass('ptj-form') + ' ' + store.classes\">\r\n    <div :class=\"Class.getClass('ptj-form-error')\" v-show=\"globalerror\">{{ globalerror }}</div>\r\n    <div v-for=\"field in store.data.cells\" :key=\"field.meta.name\" :class=\"Class.getClass('ptj-form-group')\">\r\n          <ptj-select v-if=\"field.meta.type=='select'\" :field=\"field\" :stores=\"store\" />\r\n          <ptj-radio v-else-if=\"field.meta.type=='radio'\" :field=\"field\" :stores=\"store\" />\r\n          <ptj-checkbox v-else-if=\"field.meta.type=='checkbox'\" :field=\"field\" :stores=\"store\" />\r\n          <ptj-textarea v-else-if=\"field.meta.type=='textarea'\" :field=\"field\" :stores=\"store\" />\r\n          <ptj-asset-field v-else-if=\"field.meta.type=='asset'\" :field=\"field\" :stores=\"store\" />\r\n          <ptj-input v-else :field=\"field\" :stores=\"store\" />\r\n          <div v-if=\"field.meta.confirm\">\r\n            <ptj-confirm :field=\"field\" :stores=\"store\"/> \r\n          </div>\r\n          <!-- REMOVED: -->\r\n    </div>\r\n    <input type=\"submit\" value=\"Submit\" :class=\"Class.getClass('ptj-form-submit')\">\r\n\r\n  </form>\r\n  <ptj-progress-bar v-show=\"fstate == 1\" :total=\"store.progress.total\" :progress=\"store.progress.progress\" />\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport { defineComponent } from 'vue'\r\nimport GCInput from \"./ptj-form-input.vue\"\r\nimport GCConfirm from \"./ptj-form-confirm.vue\"\r\nimport GCSelect from \"./ptj-form-select.vue\"\r\nimport GCRadio from \"./ptj-form-radio.vue\"\r\nimport GCCheckbox from \"./ptj-form-checkbox.vue\"\r\nimport GCTextarea from \"./ptj-form-textarea.vue\"\r\nimport GCAssetField from \"./ptj-form-asset.vue\"\r\nimport GCProgressBar from \"./ptj-progress-bar.vue\"\r\nimport Errors from \"../js/error.js\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n \r\nexport default defineComponent({\r\n  name: 'ptj-form',\r\n  data() {\r\n      return {\r\n          fstate : 0,\r\n          globalerror : ''\r\n      }\r\n  },\r\n  setup() {\r\n      return { store : Ctrl.getStore(), Class }\r\n  },\r\n  methods : {\r\n    clearErrors() {\r\n        this.globalerror = \"\";\r\n        for(let i in this.store.data.cells) {\r\n            this.store.data.cells[i].error = 0;\r\n        }\r\n    },\r\n    submit() {\r\n        this.fstate = (this.total > 0) ? 1 : 2;\r\n        this.clearErrors();\r\n        return this.store.submit()\r\n        .then(() => {\r\n            this.store.next();\r\n            Ctrl.buildLink();\r\n        })\r\n        .catch(err => {\r\n            //show error fields, mark fields as invalidated\r\n            this.fstate = 0;\r\n            console.log(err);\r\n            if (typeof err == \"string\") {\r\n                this.globalerror = err;\r\n            } else {\r\n                for(let i in err) {\r\n                    if (i.indexOf(\"__\") === 0) continue;\r\n                    const cell = this.store.data.cells[i];\r\n                    if (cell) {\r\n                        cell.error = Errors.getError(err[i]);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n  },\r\n  components : \r\n    {\r\n      \"ptj-input\" : GCInput,\r\n      \"ptj-confirm\" : GCConfirm,\r\n      \"ptj-select\" : GCSelect,\r\n      \"ptj-radio\" : GCRadio,\r\n      \"ptj-checkbox\" : GCCheckbox,\r\n      \"ptj-textarea\": GCTextarea,\r\n      \"ptj-asset-field\" : GCAssetField,\r\n      \"ptj-progress-bar\" : GCProgressBar\r\n    }\r\n       \r\n  \r\n});\r\n</script>\r\n\r\n\r\n","<template>\r\n  <span :class=\"Class.getClass('ptj-nav') + ' ' + classes\">\r\n  <a v-for=\"route in actions\" v-bind:key=\"route\" @click=\"setRoute(route);\" :class=\"Class.getClass('ptj-nav-link')\">\r\n    {{ route.n }}\r\n  </a> \r\n  </span>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from 'vue'\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-nav',\r\n  props: {\r\n    actions : Array,\r\n    classes : {\r\n        type : String,\r\n        default : \"\"\r\n    }\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  },\r\n  methods : {\r\n      setRoute(route) {\r\n          route.r().\r\n          then(() => {\r\n            Ctrl.buildLink();\r\n          })\r\n          .catch(e => console.log(e));\r\n      }\r\n  }   \r\n});\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n</style>","<template>\r\n  <span :class=\"Class.getClass('ptj-nav') + ' ' + classes\">\r\n  <a v-for=\"route in actions\" v-bind:key=\"route\" @click=\"setRoute(route);\" :class=\"Class.getClass('ptj-nav-link')\">\r\n    {{ route.n }}\r\n  </a> \r\n  </span>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from 'vue'\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-nav',\r\n  props: {\r\n    actions : Array,\r\n    classes : {\r\n        type : String,\r\n        default : \"\"\r\n    }\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  },\r\n  methods : {\r\n      setRoute(route) {\r\n          route.r().\r\n          then(() => {\r\n            Ctrl.buildLink();\r\n          })\r\n          .catch(e => console.log(e));\r\n      }\r\n  }   \r\n});\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n</style>","<template>\r\n <div :class=\"Class.getClass('ptj-form-row') + ' ' + Class.getClass('ptj-filter-form-time-row')\">\r\n  <label :class=\"Class.getClass('ptj-filter-form-time-label')\">{{ field.meta.label }}</label>\r\n  <input :class=\"Class.getClass('ptj-filter-form-time-1')\" type=\"datetime-local\" v-model=\"field.val1\">\r\n  <input :class=\"Class.getClass('ptj-filter-form-time-2')\" type=\"datetime-local\" v-model=\"field.val2\">\r\n  <ptj-error v-show=\"field.error\" :error=\"field.error\" />\r\n </div>\r\n</template>\r\n\r\n<script>\r\nimport GCError from \"./ptj-error.vue\"\r\nimport { defineComponent } from 'vue'\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-time-range',\r\n props : {\r\n    field : Object\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  },\r\n  components : {\r\n      'ptj-error' : GCError\r\n  }\r\n});\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n</style>","<template>\r\n <div :class=\"Class.getClass('ptj-form-row') + ' ' + Class.getClass('ptj-filter-form-time-row')\">\r\n  <label :class=\"Class.getClass('ptj-filter-form-time-label')\">{{ field.meta.label }}</label>\r\n  <input :class=\"Class.getClass('ptj-filter-form-time-1')\" type=\"datetime-local\" v-model=\"field.val1\">\r\n  <input :class=\"Class.getClass('ptj-filter-form-time-2')\" type=\"datetime-local\" v-model=\"field.val2\">\r\n  <ptj-error v-show=\"field.error\" :error=\"field.error\" />\r\n </div>\r\n</template>\r\n\r\n<script>\r\nimport GCError from \"./ptj-error.vue\"\r\nimport { defineComponent } from 'vue'\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-time-range',\r\n props : {\r\n    field : Object\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  },\r\n  components : {\r\n      'ptj-error' : GCError\r\n  }\r\n});\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n</style>","<template>\r\n <div :class=\"Class.getClass('ptj-form-row') + ' ' + Class.getClass('ptj-filter-form-checkbox-row')\">\r\n    <label :class=\"Class.getClass('ptj-filter-form-checkbox-label')\">{{ field.meta.label }}</label>\r\n    <select :name=\"field.meta.name\" v-model=\"field.val\" :class=\"Class.getClass('ptj-filter-form-checkbox')\">\r\n        <option :value='0'>{{ \"All\" }}</option>\r\n        <option :value='1'>{{ \"Checked\" }}</option>\r\n        <option :value='2'>{{ \"Unchecked\" }}</option>\r\n    </select>\r\n </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { defineComponent } from 'vue'\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-checkbox',\r\n   props : {\r\n    field : Object\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  }\r\n});\r\n</script>\r\n","<template>\r\n <div :class=\"Class.getClass('ptj-form-row') + ' ' + Class.getClass('ptj-filter-form-checkbox-row')\">\r\n    <label :class=\"Class.getClass('ptj-filter-form-checkbox-label')\">{{ field.meta.label }}</label>\r\n    <select :name=\"field.meta.name\" v-model=\"field.val\" :class=\"Class.getClass('ptj-filter-form-checkbox')\">\r\n        <option :value='0'>{{ \"All\" }}</option>\r\n        <option :value='1'>{{ \"Checked\" }}</option>\r\n        <option :value='2'>{{ \"Unchecked\" }}</option>\r\n    </select>\r\n </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { defineComponent } from 'vue'\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-checkbox',\r\n   props : {\r\n    field : Object\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  }\r\n});\r\n</script>\r\n","<template>\r\n    <div :class=\"Class.getClass('ptj-widget-window') + ' ' +  classes\">\r\n        <div :class=\"Class.getClass('ptj-widget-window-header')\">\r\n            <h1 :class=\"Class.getClass('ptj-widget-window-title')\">{{ title }}\r\n            <a :class=\"Class.getClass('ptj-widget-window-toggle')\" @click=\"toggleWidget\"><span class=\"material-icons\">more_horiz</span></a>\r\n            </h1>\r\n        </div>\r\n        <div class=\"Class.getClass('ptj-widget-window-body')\" v-show=\"show\">\r\n            <slot :toggleWidget=\"toggleWidget\" />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent  } from 'vue'\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n    props : {\r\n        title : String,\r\n        active : {\r\n            type : Boolean,\r\n            default : false\r\n        },\r\n        classes : {\r\n            type : String,\r\n            default : ''\r\n        }\r\n    },\r\n    setup() {\r\n       return { Class };\r\n    },\r\n    data() {\r\n        return {\r\n            show : this.active\r\n        }\r\n    },\r\n    methods : {\r\n        toggleWidget() {\r\n            this.show = (this.show) ? false : true;\r\n        }\r\n    }\r\n});\r\n\r\n</script>","<template>\r\n    <div :class=\"Class.getClass('ptj-widget-window') + ' ' +  classes\">\r\n        <div :class=\"Class.getClass('ptj-widget-window-header')\">\r\n            <h1 :class=\"Class.getClass('ptj-widget-window-title')\">{{ title }}\r\n            <a :class=\"Class.getClass('ptj-widget-window-toggle')\" @click=\"toggleWidget\"><span class=\"material-icons\">more_horiz</span></a>\r\n            </h1>\r\n        </div>\r\n        <div class=\"Class.getClass('ptj-widget-window-body')\" v-show=\"show\">\r\n            <slot :toggleWidget=\"toggleWidget\" />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent  } from 'vue'\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n    props : {\r\n        title : String,\r\n        active : {\r\n            type : Boolean,\r\n            default : false\r\n        },\r\n        classes : {\r\n            type : String,\r\n            default : ''\r\n        }\r\n    },\r\n    setup() {\r\n       return { Class };\r\n    },\r\n    data() {\r\n        return {\r\n            show : this.active\r\n        }\r\n    },\r\n    methods : {\r\n        toggleWidget() {\r\n            this.show = (this.show) ? false : true;\r\n        }\r\n    }\r\n});\r\n\r\n</script>","<template>\r\n <ptj-widget title=\"search\" v-slot=\"slotScope\">\r\n   <form @submit.prevent=\"submit\" :class=\"Class.getClass('ptj-filter-form')\">\r\n      <h1>Search {{ store.title }}</h1>\r\n      <div v-for=\"field in store.data_template.cells\" :key=\"field.meta.name\" :class=\"Class.getClass('ptj-filter-form-group')\">\r\n          <ptj-select v-if=\"field.meta.type=='select'\" :field=\"field\" :multiple=\"true\"  :stores=\"store\"/>\r\n          <ptj-filter-checkbox v-else-if=\"field.meta.type=='checkbox'\" :field=\"field\"  :stores=\"store\"/>\r\n          <ptj-time-range v-else-if=\"field.meta.atts.type=='datetime'\" :field=\"field\"  :stores=\"store\"/>\r\n          <ptj-input v-else :field=\"field\" :stores=\"store\" />\r\n               \r\n          <!-- REMOVED: -->\r\n      </div>\r\n      <input type=\"submit\" value=\"Submit\" :class=\"Class.getClass('ptj-filter-form-submit')\" @click=\"slotScope.toggleWidget\">\r\n  </form>\r\n </ptj-widget>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport { defineComponent } from 'vue'\r\nimport GCInput from \"./ptj-form-input.vue\"\r\nimport GCFormSelect from \"./ptj-form-select.vue\"\r\nimport GCCheckbox from \"./ptj-form-checkbox.vue\"\r\nimport GCFilterFormTime from \"./ptj-filter-form-time.vue\"\r\nimport GCFilterFormCheckbox from \"./ptj-filter-form-checkbox.vue\"\r\nimport GCWidget from \"./ptj-widget-window.vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\n \r\nexport default defineComponent({\r\n  name: 'ptj-filter-form',\r\n  setup() {\r\n      return { store : Ctrl.getStore(), Class }\r\n  },\r\n  methods : {\r\n    submit() {\r\n      this.store.reload();\r\n      Ctrl.buildLink(true);\r\n    }\r\n  },\r\n  components : \r\n    {\r\n      \"ptj-input\" : GCInput,\r\n      \"ptj-select\" : GCFormSelect,\r\n      \"ptj-checkbox\" : GCCheckbox,\r\n      \"ptj-time-range\" : GCFilterFormTime,\r\n      \"ptj-filter-checkbox\" : GCFilterFormCheckbox,\r\n      \"ptj-widget\" : GCWidget\r\n    }\r\n       \r\n  \r\n});\r\n</script>\r\n<style scoped>\r\n.error {\r\n  color : red;\r\n}\r\n\r\n</style>\r\n\r\n","<template>\r\n <ptj-widget title=\"search\" v-slot=\"slotScope\">\r\n   <form @submit.prevent=\"submit\" :class=\"Class.getClass('ptj-filter-form')\">\r\n      <h1>Search {{ store.title }}</h1>\r\n      <div v-for=\"field in store.data_template.cells\" :key=\"field.meta.name\" :class=\"Class.getClass('ptj-filter-form-group')\">\r\n          <ptj-select v-if=\"field.meta.type=='select'\" :field=\"field\" :multiple=\"true\"  :stores=\"store\"/>\r\n          <ptj-filter-checkbox v-else-if=\"field.meta.type=='checkbox'\" :field=\"field\"  :stores=\"store\"/>\r\n          <ptj-time-range v-else-if=\"field.meta.atts.type=='datetime'\" :field=\"field\"  :stores=\"store\"/>\r\n          <ptj-input v-else :field=\"field\" :stores=\"store\" />\r\n               \r\n          <!-- REMOVED: -->\r\n      </div>\r\n      <input type=\"submit\" value=\"Submit\" :class=\"Class.getClass('ptj-filter-form-submit')\" @click=\"slotScope.toggleWidget\">\r\n  </form>\r\n </ptj-widget>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport { defineComponent } from 'vue'\r\nimport GCInput from \"./ptj-form-input.vue\"\r\nimport GCFormSelect from \"./ptj-form-select.vue\"\r\nimport GCCheckbox from \"./ptj-form-checkbox.vue\"\r\nimport GCFilterFormTime from \"./ptj-filter-form-time.vue\"\r\nimport GCFilterFormCheckbox from \"./ptj-filter-form-checkbox.vue\"\r\nimport GCWidget from \"./ptj-widget-window.vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\n \r\nexport default defineComponent({\r\n  name: 'ptj-filter-form',\r\n  setup() {\r\n      return { store : Ctrl.getStore(), Class }\r\n  },\r\n  methods : {\r\n    submit() {\r\n      this.store.reload();\r\n      Ctrl.buildLink(true);\r\n    }\r\n  },\r\n  components : \r\n    {\r\n      \"ptj-input\" : GCInput,\r\n      \"ptj-select\" : GCFormSelect,\r\n      \"ptj-checkbox\" : GCCheckbox,\r\n      \"ptj-time-range\" : GCFilterFormTime,\r\n      \"ptj-filter-checkbox\" : GCFilterFormCheckbox,\r\n      \"ptj-widget\" : GCWidget\r\n    }\r\n       \r\n  \r\n});\r\n</script>\r\n<style scoped>\r\n.error {\r\n  color : red;\r\n}\r\n\r\n</style>\r\n\r\n","<template>\r\n <div :class=\"Class.getClass('ptj-pagination')\">\r\n     <a v-for=\"index in store.data_template.max_pages\" :key=\"index\" @click=\"setPage(index)\" :class=\"getActiveClass(index)\">{{ index }}</a>\r\n </div>\r\n</template>\r\n<script>\r\nimport { defineComponent } from 'vue'\r\nimport Class from \"../js/classinjection.js\"\r\nimport Ctrl from \"../js/controller.js\"\r\n\r\n\r\nexport default defineComponent({\r\n    setup() {\r\n        return { store : Ctrl.getStore(), Class }\r\n    },\r\n    methods : {\r\n        setPage(index) {\r\n            this.store.setPage(index - 1);\r\n            Ctrl.buildLink(true);\r\n        },\r\n        getActiveClass(index) {\r\n            return (index - 1 == this.store.data_template.page) ? \"ptj-pagination-active\" : \"\";\r\n        }\r\n    }\r\n});\r\n</script>","<template>\r\n <div :class=\"Class.getClass('ptj-pagination')\">\r\n     <a v-for=\"index in store.data_template.max_pages\" :key=\"index\" @click=\"setPage(index)\" :class=\"getActiveClass(index)\">{{ index }}</a>\r\n </div>\r\n</template>\r\n<script>\r\nimport { defineComponent } from 'vue'\r\nimport Class from \"../js/classinjection.js\"\r\nimport Ctrl from \"../js/controller.js\"\r\n\r\n\r\nexport default defineComponent({\r\n    setup() {\r\n        return { store : Ctrl.getStore(), Class }\r\n    },\r\n    methods : {\r\n        setPage(index) {\r\n            this.store.setPage(index - 1);\r\n            Ctrl.buildLink(true);\r\n        },\r\n        getActiveClass(index) {\r\n            return (index - 1 == this.store.data_template.page) ? \"ptj-pagination-active\" : \"\";\r\n        }\r\n    }\r\n});\r\n</script>","<template>\r\n    <ptj-widget title=\"select fields\" :classes=\"Class.getClass('ptj-selectfields')\">\r\n        <div v-for=\"field, name in store.fields\" :key=\"name\"> \r\n            <input \r\n                type=\"checkbox\" \r\n                v-model=\"field.summary\" \r\n                :true-value=\"1\" :false-value=\"0\"\r\n                :class=\"Class.getClass('ptj-selectfields-checkbox')\"> \r\n            <label :class=\"Class.getClass('ptj-selectfields-label')\">{{ field.name }}</label>\r\n        </div>\r\n    </ptj-widget>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from 'vue'\r\nimport GCWidget from \"./ptj-widget-window.vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n    setup() {\r\n        return { store : Ctrl.getStore(), Class }\r\n    },   \r\n    components : {\r\n        \"ptj-widget\" : GCWidget\r\n    }\r\n});\r\n</script>\r\n\r\n","<template>\r\n    <ptj-widget title=\"select fields\" :classes=\"Class.getClass('ptj-selectfields')\">\r\n        <div v-for=\"field, name in store.fields\" :key=\"name\"> \r\n            <input \r\n                type=\"checkbox\" \r\n                v-model=\"field.summary\" \r\n                :true-value=\"1\" :false-value=\"0\"\r\n                :class=\"Class.getClass('ptj-selectfields-checkbox')\"> \r\n            <label :class=\"Class.getClass('ptj-selectfields-label')\">{{ field.name }}</label>\r\n        </div>\r\n    </ptj-widget>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from 'vue'\r\nimport GCWidget from \"./ptj-widget-window.vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n    setup() {\r\n        return { store : Ctrl.getStore(), Class }\r\n    },   \r\n    components : {\r\n        \"ptj-widget\" : GCWidget\r\n    }\r\n});\r\n</script>\r\n\r\n","<template>\r\n    <h1 :class=\"Class.getClass('ptj-repo-header-title')\">{{ store.title }}</h1>\r\n    <p>Number of rows: {{ store.count }}</p>\r\n    <ptj-nav :actions=\"store.actions\" :class=\"Class.getClass('ptj-repo-header-actions')\"/>\r\n    <ptj-filter-form  v-if=\"store.disable_filter != true\"/>\r\n    <ptj-selectfields v-if=\"store.disable_selectfields != true\" />\r\n</template>\r\n\r\n<script>\r\n\r\nimport GCNav from \"./ptj-nav.vue\"\r\nimport GCFilterForm from \"./ptj-filter-form.vue\"\r\nimport GCPagination from \"./ptj-pagination.vue\"\r\nimport GCSelectFields from \"./ptj-selectfields.vue\"\r\nimport { defineComponent} from \"vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-header',\r\n  setup() {\r\n      return { store : Ctrl.getStore(), Class }\r\n  },\r\n    components : {\r\n        \"ptj-nav\" : GCNav,\r\n        \"ptj-filter-form\" : GCFilterForm,\r\n        \"ptj-pagination\" : GCPagination,\r\n        \"ptj-selectfields\" : GCSelectFields\r\n    }\r\n});\r\n</script>\r\n","<template>\r\n    <h1 :class=\"Class.getClass('ptj-repo-header-title')\">{{ store.title }}</h1>\r\n    <p>Number of rows: {{ store.count }}</p>\r\n    <ptj-nav :actions=\"store.actions\" :class=\"Class.getClass('ptj-repo-header-actions')\"/>\r\n    <ptj-filter-form  v-if=\"store.disable_filter != true\"/>\r\n    <ptj-selectfields v-if=\"store.disable_selectfields != true\" />\r\n</template>\r\n\r\n<script>\r\n\r\nimport GCNav from \"./ptj-nav.vue\"\r\nimport GCFilterForm from \"./ptj-filter-form.vue\"\r\nimport GCPagination from \"./ptj-pagination.vue\"\r\nimport GCSelectFields from \"./ptj-selectfields.vue\"\r\nimport { defineComponent} from \"vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-header',\r\n  setup() {\r\n      return { store : Ctrl.getStore(), Class }\r\n  },\r\n    components : {\r\n        \"ptj-nav\" : GCNav,\r\n        \"ptj-filter-form\" : GCFilterForm,\r\n        \"ptj-pagination\" : GCPagination,\r\n        \"ptj-selectfields\" : GCSelectFields\r\n    }\r\n});\r\n</script>\r\n","<template >\r\n    <div :class=\"Class.getClass('ptj-tree-node') + ' ptj-draggable' + this.getRowClass()\" :id=\"branch.primary.toVal()\" draggable=\"false\">\r\n        <div :class=\"Class.getClass('ptj-tree-node-row')\" @click=\"selectRow(branch);\">  \r\n            <div>\r\n                <a v-if=\"ischild\" data-action=\"more\" class=\"button\" @click.prevent.stop=\"toggle(branch.primary.toVal(), false)\">\r\n                    <span class=\"material-icons\">subdirectory_arrow_right</span>\r\n                </a>\r\n                <a v-else data-action=\"more\" class=\"button\" @click.prevent.stop=\"toggle(branch.primary.toVal(), true)\">\r\n                    <span class=\"material-icons\">keyboard_arrow_right</span>\r\n                </a>\r\n            </div>\r\n            <div v-if=\"sortable\">\r\n                <a data-action=\"more\" class=\"button\" @click=\"prevent.stop\" @mousedown=\"setDraggable\" @mouseup=\"endDraggable\">\r\n                    <span class=\"material-icons\">drag_handle</span>\r\n                </a>\r\n            </div>\r\n            <div>{{ branch.getSummary() }}</div>\r\n            \r\n        </div>\r\n        <ptj-tree-node v-for=\"(obj, index) in children\" :branch=\"obj\" :ischild=\"true\"  :key=\"index\" v-show=\"toggle_state[branch.primary.toVal()]\" :store=\"store\" />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent} from \"vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n\tname : \"ptj-tree-node\",\r\n\tprops : {\r\n\t\tbranch : {\r\n            type : Object,\r\n            required : true\r\n        },\r\n        draggable : Boolean,\r\n        ischild : {\r\n            type : Boolean,\r\n            default : false\r\n        }\r\n\r\n\t},\r\n    data() {\r\n        return {\r\n            toggle_state : {}\r\n        }\r\n    },\r\n    setup() {\r\n        return { store : Ctrl.getStore(), Class }\r\n    },\r\n\tmethods : {\r\n        toggle(index) {\r\n            this.toggle_state[index] = (this.toggle_state[index]) ? false : true;\r\n        },\r\n        setDraggable(e) {\r\n            e.target.closest(\".ptj-draggable\").setAttribute(\"draggable\", true);\r\n        },\r\n        endDraggable(e) {\r\n            e.target.closest(\".ptj-draggable\").setAttribute(\"draggable\", false);\r\n        },\r\n        selectRow(branch) {\r\n            let key = branch.primary.toVal();\r\n            this.store.next(key);\r\n            Ctrl.buildLink();\r\n        },\r\n        getRowClass() {\r\n            let str = [];\r\n            for(let name of this.store.groups) {\r\n                str.push(this.store.model + \"-\" + name.replace(\"_\", \"-\") + \"-\" + this.branch[name]);\r\n            }\r\n            return str.join(\" \");\r\n        }\r\n\t},\r\n    computed : {\r\n        sortable() {\r\n            return true;\r\n        },\r\n        children() {\r\n            let arr = [];\r\n            let children = this.branch.children;\r\n            for(let i in children) {\r\n                const carr = children[i];\r\n                arr.push(...carr);\r\n            }\r\n            return arr;\r\n        }\r\n    },\r\n\tcomponents : {\r\n\t\r\n\t}\r\n});\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.model-tree.branch {\r\n  padding-left: 8px;\r\n  padding-right: 8px;\r\n  margin: 6px 0;\r\n  background-color:#111111;\r\n}\r\n\r\n.tree .ide-block {\r\n\tdisplay : none;\r\n}\r\n\r\n.dragArea {\r\n  min-height: 50px;\r\n  outline: 1px solid #777777;\r\n}\r\n\r\n\r\n</style>","<template >\r\n    <div :class=\"Class.getClass('ptj-tree-node') + ' ptj-draggable' + this.getRowClass()\" :id=\"branch.primary.toVal()\" draggable=\"false\">\r\n        <div :class=\"Class.getClass('ptj-tree-node-row')\" @click=\"selectRow(branch);\">  \r\n            <div>\r\n                <a v-if=\"ischild\" data-action=\"more\" class=\"button\" @click.prevent.stop=\"toggle(branch.primary.toVal(), false)\">\r\n                    <span class=\"material-icons\">subdirectory_arrow_right</span>\r\n                </a>\r\n                <a v-else data-action=\"more\" class=\"button\" @click.prevent.stop=\"toggle(branch.primary.toVal(), true)\">\r\n                    <span class=\"material-icons\">keyboard_arrow_right</span>\r\n                </a>\r\n            </div>\r\n            <div v-if=\"sortable\">\r\n                <a data-action=\"more\" class=\"button\" @click=\"prevent.stop\" @mousedown=\"setDraggable\" @mouseup=\"endDraggable\">\r\n                    <span class=\"material-icons\">drag_handle</span>\r\n                </a>\r\n            </div>\r\n            <div>{{ branch.getSummary() }}</div>\r\n            \r\n        </div>\r\n        <ptj-tree-node v-for=\"(obj, index) in children\" :branch=\"obj\" :ischild=\"true\"  :key=\"index\" v-show=\"toggle_state[branch.primary.toVal()]\" :store=\"store\" />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent} from \"vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n\tname : \"ptj-tree-node\",\r\n\tprops : {\r\n\t\tbranch : {\r\n            type : Object,\r\n            required : true\r\n        },\r\n        draggable : Boolean,\r\n        ischild : {\r\n            type : Boolean,\r\n            default : false\r\n        }\r\n\r\n\t},\r\n    data() {\r\n        return {\r\n            toggle_state : {}\r\n        }\r\n    },\r\n    setup() {\r\n        return { store : Ctrl.getStore(), Class }\r\n    },\r\n\tmethods : {\r\n        toggle(index) {\r\n            this.toggle_state[index] = (this.toggle_state[index]) ? false : true;\r\n        },\r\n        setDraggable(e) {\r\n            e.target.closest(\".ptj-draggable\").setAttribute(\"draggable\", true);\r\n        },\r\n        endDraggable(e) {\r\n            e.target.closest(\".ptj-draggable\").setAttribute(\"draggable\", false);\r\n        },\r\n        selectRow(branch) {\r\n            let key = branch.primary.toVal();\r\n            this.store.next(key);\r\n            Ctrl.buildLink();\r\n        },\r\n        getRowClass() {\r\n            let str = [];\r\n            for(let name of this.store.groups) {\r\n                str.push(this.store.model + \"-\" + name.replace(\"_\", \"-\") + \"-\" + this.branch[name]);\r\n            }\r\n            return str.join(\" \");\r\n        }\r\n\t},\r\n    computed : {\r\n        sortable() {\r\n            return true;\r\n        },\r\n        children() {\r\n            let arr = [];\r\n            let children = this.branch.children;\r\n            for(let i in children) {\r\n                const carr = children[i];\r\n                arr.push(...carr);\r\n            }\r\n            return arr;\r\n        }\r\n    },\r\n\tcomponents : {\r\n\t\r\n\t}\r\n});\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.model-tree.branch {\r\n  padding-left: 8px;\r\n  padding-right: 8px;\r\n  margin: 6px 0;\r\n  background-color:#111111;\r\n}\r\n\r\n.tree .ide-block {\r\n\tdisplay : none;\r\n}\r\n\r\n.dragArea {\r\n  min-height: 50px;\r\n  outline: 1px solid #777777;\r\n}\r\n\r\n\r\n</style>","class GCDragNDrop {\r\n\r\n    constructor(props = {}) {\r\n        this._handle = props.handle;\r\n        this._drop_target = props.drop_target;\r\n        this._drag_target = props.drag_target;\r\n        this._call_back = props.callback;\r\n        this._x = 0;\r\n        this._y = 0;\r\n        this._offset_x = 0;\r\n        this._offset_y = 0;\r\n        this._judder = (props.judder) ? props.judder : 5;\r\n        this._drag_node;\r\n        this._drop_node;\r\n        this._tree = props.tree;\r\n    }\r\n\r\n    isJudder(x, y) {\r\n        const dx = x - this._x;\r\n        const dy = y - this._y;\r\n      \r\n        if (dx < -5 || dx > 5) return false;\r\n        else if (dy < -5 || dy > 5) return false;\r\n        else return true;\r\n    }\r\n\r\n    getDirection(x, y) {\r\n        const dir_x = (x == this._x) ? 0 : (x > this._x) ? 1 : -1;\r\n        const dir_y = (y == this._y) ? 0 : (y > this._y) ? 1 : -1;\r\n      \r\n        return { x : dir_x, y : dir_y };\r\n    }\r\n\r\n    offset(elem) {\r\n        var rect = elem.getBoundingClientRect();\r\n        var win = elem.ownerDocument.defaultView;\r\n\r\n        return {\r\n            top: rect.top + win.pageYOffset,\r\n            left: rect.left + win.pageXOffset\r\n        };\r\n    }\r\n\r\n    insertAfter() {\r\n        let drag_id = this._drag_node.getAttribute(\"id\");\r\n        let drop_id = this._drop_node.getAttribute(\"id\");\r\n\r\n        let circular = 0;\r\n        let sort = 0;\r\n        if (this._drop_node.nextElementSibling) {\r\n            for(let i in this._tree) {\r\n                let node = this._tree[i];\r\n                if (node.id == drop_id) {\r\n                    circular = node.circular;\r\n                    sort = node.sort;\r\n                    break;\r\n                } \r\n            }\r\n\r\n            for(let i in this._tree) {\r\n                let node = this._tree[i];\r\n                if (node.id == drag_id) {\r\n                    node.circular = circular;\r\n                    node.sort = sort + 1;\r\n                } else if (node.circular == circular && node.sort > sort) {\r\n                    ++node.sort;\r\n                }\r\n            }\r\n        } else {\r\n            for(let i in this._tree) {\r\n                let node = this._tree[i];\r\n                if (node.id == drag_id) {\r\n                    node.circular = circular;\r\n                    node.sort = 0;\r\n                } \r\n            }\r\n        }\r\n    }\r\n\r\n    insertBefore() {\r\n        let drag_id = this._drag_node.getAttribute(\"id\");\r\n        let drop_id = this._drop_node.getAttribute(\"id\");\r\n\r\n        let circular = 0;\r\n        let sort = 0;\r\n        for(let i in this._tree) {\r\n            let node = this._tree[i];\r\n            if (node.id == drop_id) {\r\n                circular = node.circular;\r\n                sort = node.sort;\r\n                ++node.sort;\r\n                break;\r\n            } \r\n        }\r\n\r\n        for(let i in this._tree) {\r\n            let node = this._tree[i];\r\n            if (node.id == drag_id) {\r\n                node.circular = circular;\r\n                node.sort = sort;\r\n            } else if (node.circular == circular && node.sort > sort) {\r\n                ++node.sort;\r\n            }\r\n        }\r\n    }\r\n\r\n    dragStart(ev) {\r\n        const targ = ev.target.closest('[id]');\r\n        this._drag_node = targ;\r\n        const { top, left } = this.offset(targ);\r\n\r\n        ev.dataTransfer.dropEffect = \"move\";\r\n\r\n        this._x = ev.clientX;\r\n        this._y = ev.clientY;\r\n    \r\n        this._offset_x = ev.clientX - left;\r\n        this._offset_y = ev.clientY - top;\r\n    }\r\n\r\n    isDroppable(ev) {\r\n        let cont = ev.target.closest(this._drop_target);\r\n        return (cont) ? true : false;\r\n    }\r\n\r\n    dragEnter(ev) {\r\n        if (!this.isDroppable(ev)) return true;\r\n        ev.preventDefault();\r\n        ev.dataTransfer.dropEffect = \"move\";\r\n\r\n        this._drop_node = ev.target.closest(this._drag_target);\r\n\r\n        if (!this._drop_node || this._drop_node.getAttribute(\"id\") == this._drag_node.getAttribute(\"id\")) {\r\n            return;\r\n        }\r\n\r\n        const dir = this.getDirection(ev.clientX, ev.clientY);\r\n\r\n        if (dir.y == 1) {\r\n            this.insertAfter();\r\n        } else if (dir.y == -1) {\r\n            this.insertBefore();\r\n        }\r\n        this._x = ev.clientX;\r\n        this._y = ev.clientY;\r\n    }\r\n\r\n    dragOver(ev) {\r\n        if (!this.isDroppable(ev)) return true;\r\n        ev.preventDefault();\r\n        ev.dataTransfer.dropEffect = \"move\";\r\n    }\r\n\r\n\r\n    dragEnd() {\r\n        if (this._drag_node) this._drag_node.setAttribute(\"draggable\", false);\r\n        this._drag_node = null;\r\n    }\r\n\r\n    drop(ev) {\r\n        if (!this._drop_node) return true;\r\n        ev.preventDefault();\r\n        if (this._call_back) this._call_back(this._tree);\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nfunction initDD(props) {\r\n    let drag = new GCDragNDrop(props);\r\n    let handles = document.querySelectorAll(props.handle);\r\n    handles.forEach(el => el.addAttribute(\"draggable\", true));\r\n\r\n    if (props.handle) {\r\n\r\n        let handles = document.querySelectorAll(props.handle);\r\n\r\n        handles.forEach(el => {\r\n            el.addEventListener(\"mousedown\", e => {\r\n                let cont = e.target.closest(props.drag_target);\r\n                cont.addAttribute(\"draggable\", true);\r\n            });            \r\n        });\r\n    }\r\n\r\n    props.main.addEventListener(\"dragstart\", e => drag.dragStart(e));\r\n    props.main.addEventListener(\"dragenter\", e => drag.dragEnter(e));\r\n    props.main.addEventListener(\"dragover\", e => drag.dragOver(e));\r\n    props.main.addEventListener(\"drop\", e => drag.drop(e));\r\n    props.main.addEventListener(\"dragend\", e => drag.dragEnd(e));\r\n}\r\n\r\nexport default {\r\n    initDD\r\n}","<template >\r\n  <div :class=\"Class.getClass('ptj-tree') + ' ' + store.classes + ' ptj-drop-target'\" ref=\"treeroot\">\r\n    <ptj-tree-node v-for=\"(obj, index) in store.data\" :key=\"index\" :branch=\"obj\"  />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted, defineComponent } from 'vue'\r\nimport GCNav from \"./ptj-nav.vue\"\r\nimport GCTreeNode from \"./ptj-tree-node.vue\"\r\nimport GCDragDrop from \"../js/dragndrop.js\"\r\nimport GCFilterForm from \"./ptj-filter-form.vue\"\r\nimport GCSelectFields from \"./ptj-selectfields.vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n\tname : \"ptj-tree\",\r\n    setup(props) {\r\n        let base = { store : Ctrl.getStore(), treeroot : ref(null), Class };\r\n        onMounted(() => {\r\n           //if (ctrl.sort) {\r\n             GCDragDrop.initDD({\r\n               handle : '.ptj-drag-handle',\r\n               drag_target : '.ptj-draggable',\r\n               drop_target : '.ptj-drop-target',\r\n               main : base.treeroot.value,\r\n               tree : base.store.data,\r\n               callback : base.store.saveSort\r\n             });\r\n           //}\r\n        });\r\n\r\n       return base;\r\n   },\r\n    components : {\r\n        \"ptj-nav\" : GCNav,\r\n        \"ptj-tree-node\" : GCTreeNode,\r\n        \"ptj-filter-form\" : GCFilterForm,\r\n        \"ptj-selectfields\" : GCSelectFields\r\n    }\r\n});\r\n\r\n\r\n</script>\r\n","<template >\r\n  <div :class=\"Class.getClass('ptj-tree') + ' ' + store.classes + ' ptj-drop-target'\" ref=\"treeroot\">\r\n    <ptj-tree-node v-for=\"(obj, index) in store.data\" :key=\"index\" :branch=\"obj\"  />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted, defineComponent } from 'vue'\r\nimport GCNav from \"./ptj-nav.vue\"\r\nimport GCTreeNode from \"./ptj-tree-node.vue\"\r\nimport GCDragDrop from \"../js/dragndrop.js\"\r\nimport GCFilterForm from \"./ptj-filter-form.vue\"\r\nimport GCSelectFields from \"./ptj-selectfields.vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n\tname : \"ptj-tree\",\r\n    setup(props) {\r\n        let base = { store : Ctrl.getStore(), treeroot : ref(null), Class };\r\n        onMounted(() => {\r\n           //if (ctrl.sort) {\r\n             GCDragDrop.initDD({\r\n               handle : '.ptj-drag-handle',\r\n               drag_target : '.ptj-draggable',\r\n               drop_target : '.ptj-drop-target',\r\n               main : base.treeroot.value,\r\n               tree : base.store.data,\r\n               callback : base.store.saveSort\r\n             });\r\n           //}\r\n        });\r\n\r\n       return base;\r\n   },\r\n    components : {\r\n        \"ptj-nav\" : GCNav,\r\n        \"ptj-tree-node\" : GCTreeNode,\r\n        \"ptj-filter-form\" : GCFilterForm,\r\n        \"ptj-selectfields\" : GCSelectFields\r\n    }\r\n});\r\n\r\n\r\n</script>\r\n","<template>\r\n    <table :class=\"Class.getClass('ptj-table') + ' ' + store.classes\">\r\n    <thead>\r\n        <tr :class=\"Class.getClass('ptj-table-header')\">\r\n        <th v-for=\"cell in store.fields\" \r\n            v-show=\"cell.summary\" \r\n            :key=\"cell.name\" \r\n            :class=\"Class.getClass('ptj-table-header-cell') + ' ' + cell.name.replace('_', '-')\"\r\n            @click=\"orderBy(cell.name);\"\r\n        >{{ cell.label }}\r\n            <span v-if=\"this.order.name == cell.name && this.order.dir == 'asc'\" \r\n                class=\"material-icons\" \r\n                >keyboard_arrow_up</span>\r\n            <span v-if=\"this.order.name == cell.name && this.order.dir == 'desc'\" \r\n                class=\"material-icons\" \r\n                >keyboard_arrow_down</span>\r\n        </th>\r\n        <th v-if=\"sortable\">&nbsp;</th>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr v-for=\"(obj, rindex) in store.data\" :key=\"rindex\" :class=\"Class.getClass('ptj-table-row') + ' ' + this.getRowClass(obj)\" @click=\"next(obj.primary.toVal());\">\r\n        <td v-for=\"(field, name) in obj.cells\" :key=\"name\" v-show=\"field.meta.summary\" :class=\"Class.getClass('ptj-table-cell') + ' ' + name.replace('_', '-')\">{{ field.display }}</td>\r\n        <td :class=\"Class.getClass('ptj-table-cell-sortable')\" v-if=\"sortable\">\r\n            <a data-action=\"more\" class=\"button\" @click.prevent=\"toggle\" draggable=\"true\">\r\n                <span class=\"material-icons\">drag</span>\r\n            </a>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n    </table>\r\n    <ptj-pagination v-if=\"store.data_template.limit > 0\" />\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport GCPagination from \"./ptj-pagination.vue\"\r\nimport { defineComponent} from \"vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n    name: 'ptj-table',\r\n    setup() {\r\n        return { store : Ctrl.getStore(), Class, order : { name : '', dir : ''}}\r\n    },\r\n    methods : {\r\n        next(key) {\r\n            this.store.next(key);\r\n            Ctrl.buildLink();\r\n        },\r\n        orderBy(name) {\r\n            if (this.store.pages > 0) {\r\n                this.order.dir = (!this.order.name != name || this.order.dir  == \"desc\") ? \"asc\" : \"desc\";\r\n                this.order.name = name;\r\n                let sort = [];\r\n                sort[this.order.name] = this.order.dir;\r\n                this.store.data_template.sort = sort;\r\n                this.store.reload();\r\n            } else {\r\n                //custom sort on the table\r\n                if (this.order.name != name || this.order.dir == \"desc\") {\r\n                    this.store.data.sort(function(x, y) {\r\n                        let xval = x.getCell(name).toVal();\r\n                        let yval = y.getCell(name).toVal();\r\n                        if (xval < yval) {\r\n                            return -1;\r\n                        } else if (xval > yval) {\r\n                            return 1;\r\n                        } else {\r\n                            return 0;\r\n                        }\r\n                    });\r\n                    this.order.name = name;\r\n                    this.order.dir = \"asc\";\r\n                } else {\r\n                    this.store.data.sort(function(x, y) {\r\n                        let xval = x.getCell(name).toVal();\r\n                        let yval = y.getCell(name).toVal();\r\n                        if (xval < yval) {\r\n                            return 1;\r\n                        } else if (xval > yval) {\r\n                            return -1;\r\n                        } else {\r\n                            return 0;\r\n                        }\r\n                    });\r\n                    this.order.name = name;\r\n                    this.order.dir = \"desc\";\r\n                }\r\n            }\r\n        },\r\n        getRowClass(obj) {\r\n            let str = [];\r\n            for(let name of this.store.groups) {\r\n                str.push(this.store.model + \"-\" + name.replace(\"_\", \"-\") + \"-\" + obj[name]);\r\n            }\r\n            return str.join(\" \");\r\n        }\r\n    },\r\n    computed : {\r\n        sortable() {\r\n            return (this.store.sort) ? true : false;\r\n        },\r\n        overlimit() {\r\n            return false;\r\n        },\r\n        rowclass() {\r\n\r\n        }\r\n    },\r\n    components : {\r\n        \"ptj-pagination\" : GCPagination,\r\n    }\r\n\r\n   \r\n});\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n\r\n.table, .thead, .tbody, .tr {\r\n    width : 100%;\r\n}\r\n\r\n\r\n</style>","<template>\r\n    <table :class=\"Class.getClass('ptj-table') + ' ' + store.classes\">\r\n    <thead>\r\n        <tr :class=\"Class.getClass('ptj-table-header')\">\r\n        <th v-for=\"cell in store.fields\" \r\n            v-show=\"cell.summary\" \r\n            :key=\"cell.name\" \r\n            :class=\"Class.getClass('ptj-table-header-cell') + ' ' + cell.name.replace('_', '-')\"\r\n            @click=\"orderBy(cell.name);\"\r\n        >{{ cell.label }}\r\n            <span v-if=\"this.order.name == cell.name && this.order.dir == 'asc'\" \r\n                class=\"material-icons\" \r\n                >keyboard_arrow_up</span>\r\n            <span v-if=\"this.order.name == cell.name && this.order.dir == 'desc'\" \r\n                class=\"material-icons\" \r\n                >keyboard_arrow_down</span>\r\n        </th>\r\n        <th v-if=\"sortable\">&nbsp;</th>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr v-for=\"(obj, rindex) in store.data\" :key=\"rindex\" :class=\"Class.getClass('ptj-table-row') + ' ' + this.getRowClass(obj)\" @click=\"next(obj.primary.toVal());\">\r\n        <td v-for=\"(field, name) in obj.cells\" :key=\"name\" v-show=\"field.meta.summary\" :class=\"Class.getClass('ptj-table-cell') + ' ' + name.replace('_', '-')\">{{ field.display }}</td>\r\n        <td :class=\"Class.getClass('ptj-table-cell-sortable')\" v-if=\"sortable\">\r\n            <a data-action=\"more\" class=\"button\" @click.prevent=\"toggle\" draggable=\"true\">\r\n                <span class=\"material-icons\">drag</span>\r\n            </a>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n    </table>\r\n    <ptj-pagination v-if=\"store.data_template.limit > 0\" />\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport GCPagination from \"./ptj-pagination.vue\"\r\nimport { defineComponent} from \"vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n    name: 'ptj-table',\r\n    setup() {\r\n        return { store : Ctrl.getStore(), Class, order : { name : '', dir : ''}}\r\n    },\r\n    methods : {\r\n        next(key) {\r\n            this.store.next(key);\r\n            Ctrl.buildLink();\r\n        },\r\n        orderBy(name) {\r\n            if (this.store.pages > 0) {\r\n                this.order.dir = (!this.order.name != name || this.order.dir  == \"desc\") ? \"asc\" : \"desc\";\r\n                this.order.name = name;\r\n                let sort = [];\r\n                sort[this.order.name] = this.order.dir;\r\n                this.store.data_template.sort = sort;\r\n                this.store.reload();\r\n            } else {\r\n                //custom sort on the table\r\n                if (this.order.name != name || this.order.dir == \"desc\") {\r\n                    this.store.data.sort(function(x, y) {\r\n                        let xval = x.getCell(name).toVal();\r\n                        let yval = y.getCell(name).toVal();\r\n                        if (xval < yval) {\r\n                            return -1;\r\n                        } else if (xval > yval) {\r\n                            return 1;\r\n                        } else {\r\n                            return 0;\r\n                        }\r\n                    });\r\n                    this.order.name = name;\r\n                    this.order.dir = \"asc\";\r\n                } else {\r\n                    this.store.data.sort(function(x, y) {\r\n                        let xval = x.getCell(name).toVal();\r\n                        let yval = y.getCell(name).toVal();\r\n                        if (xval < yval) {\r\n                            return 1;\r\n                        } else if (xval > yval) {\r\n                            return -1;\r\n                        } else {\r\n                            return 0;\r\n                        }\r\n                    });\r\n                    this.order.name = name;\r\n                    this.order.dir = \"desc\";\r\n                }\r\n            }\r\n        },\r\n        getRowClass(obj) {\r\n            let str = [];\r\n            for(let name of this.store.groups) {\r\n                str.push(this.store.model + \"-\" + name.replace(\"_\", \"-\") + \"-\" + obj[name]);\r\n            }\r\n            return str.join(\" \");\r\n        }\r\n    },\r\n    computed : {\r\n        sortable() {\r\n            return (this.store.sort) ? true : false;\r\n        },\r\n        overlimit() {\r\n            return false;\r\n        },\r\n        rowclass() {\r\n\r\n        }\r\n    },\r\n    components : {\r\n        \"ptj-pagination\" : GCPagination,\r\n    }\r\n\r\n   \r\n});\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n\r\n.table, .thead, .tbody, .tr {\r\n    width : 100%;\r\n}\r\n\r\n\r\n</style>","<template>\r\n  <div :class=\"Class.getClass('ptj-list') + ' ' + store.classes\">\r\n    <div v-for=\"(combinations, index) in getIndexCombinations\" :key=\"index\">\r\n      <h3><span\r\n              v-for=\"(tag, index) in combinations.tags\"\r\n              :key=\"index\"\r\n              >{{ tag }}&nbsp;</span></h3>\r\n      <ul>\r\n        <li v-for=\"ckey in combinations.data\" :key=\"ckey\">\r\n          <a @click=\"next(store.data[ckey].primary.toVal())\">\r\n            {{ store.data[ckey].getSummary() }}\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport Ctrl from \"../js/controller.js\";\r\nimport Class from \"../js/classinjection.js\";\r\n\r\nexport default defineComponent({\r\n  name: \"ptj-list\",\r\n  setup() {\r\n    return { store: Ctrl.getStore(), Class };\r\n  },\r\n  methods: {\r\n    next(key) {\r\n      this.store.next(key);\r\n      Ctrl.buildLink();\r\n    },\r\n    getCombinations(tag, data, combos) {\r\n      const ncombos = [];\r\n      if (combos.length == 0) {\r\n          for(let d in data) {\r\n            ncombos.push({ tags : [ data[d].display ], data : data[d].contains});\r\n          }\r\n      } else {\r\n        for (let c of combos) {\r\n          for(let d in data) {\r\n            let tags = c.tags;\r\n            tags.push(d.display);\r\n            ncombos.push({ tags : tags, data : c.data.filter( value => data[d].contains.includes(value))});\r\n          }\r\n        }\r\n      }\r\n      return ncombos;\r\n    }\r\n  },\r\n  computed: {\r\n    getIndexCombinations() {\r\n      let combos = [];\r\n      for (let group in this.store.indexes) {\r\n          combos = this.getCombinations(group, this.store.indexes[group], combos);\r\n      }\r\n      return combos;\r\n    },\r\n  },\r\n});\r\n</script>\r\n\r\n","<template>\r\n  <div :class=\"Class.getClass('ptj-list') + ' ' + store.classes\">\r\n    <div v-for=\"(combinations, index) in getIndexCombinations\" :key=\"index\">\r\n      <h3><span\r\n              v-for=\"(tag, index) in combinations.tags\"\r\n              :key=\"index\"\r\n              >{{ tag }}&nbsp;</span></h3>\r\n      <ul>\r\n        <li v-for=\"ckey in combinations.data\" :key=\"ckey\">\r\n          <a @click=\"next(store.data[ckey].primary.toVal())\">\r\n            {{ store.data[ckey].getSummary() }}\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport Ctrl from \"../js/controller.js\";\r\nimport Class from \"../js/classinjection.js\";\r\n\r\nexport default defineComponent({\r\n  name: \"ptj-list\",\r\n  setup() {\r\n    return { store: Ctrl.getStore(), Class };\r\n  },\r\n  methods: {\r\n    next(key) {\r\n      this.store.next(key);\r\n      Ctrl.buildLink();\r\n    },\r\n    getCombinations(tag, data, combos) {\r\n      const ncombos = [];\r\n      if (combos.length == 0) {\r\n          for(let d in data) {\r\n            ncombos.push({ tags : [ data[d].display ], data : data[d].contains});\r\n          }\r\n      } else {\r\n        for (let c of combos) {\r\n          for(let d in data) {\r\n            let tags = c.tags;\r\n            tags.push(d.display);\r\n            ncombos.push({ tags : tags, data : c.data.filter( value => data[d].contains.includes(value))});\r\n          }\r\n        }\r\n      }\r\n      return ncombos;\r\n    }\r\n  },\r\n  computed: {\r\n    getIndexCombinations() {\r\n      let combos = [];\r\n      for (let group in this.store.indexes) {\r\n          combos = this.getCombinations(group, this.store.indexes[group], combos);\r\n      }\r\n      return combos;\r\n    },\r\n  },\r\n});\r\n</script>\r\n\r\n","<template>\r\n<div :class=\"Class.getClass('ptj-repo') + ' ' + store.classes\">\r\n    <ptj-repo-header  />\r\n    <component :key=\"store.key\" :is=\"store.rawcomponent\" />\r\n</div>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport PTJRepoHeader from \"./ptj-repo-header.vue\"\r\nimport PTJTree from \"./ptj-tree.vue\"\r\nimport PTJTable from \"./ptj-table.vue\"\r\nimport PTJList from \"./ptj-list.vue\"\r\nimport { defineComponent} from \"vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-repo',\r\n  setup() {\r\n      return { store : Ctrl.getStore(), Class }\r\n  },\r\n    components : {\r\n        \"ptj-repo-header\" : PTJRepoHeader,\r\n        \"ptj-tree\" : PTJTree,\r\n        \"ptj-table\" : PTJTable,\r\n        \"ptj-list\" : PTJList\r\n    }\r\n});\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n\r\n.table, .thead, .tbody, .tr {\r\n    width : 100%;\r\n}\r\n\r\n\r\n\r\n.ptj-data-row:nth-child(odd) {background : #CCC}\r\n\r\n</style>","<template>\r\n<div :class=\"Class.getClass('ptj-repo') + ' ' + store.classes\">\r\n    <ptj-repo-header  />\r\n    <component :key=\"store.key\" :is=\"store.rawcomponent\" />\r\n</div>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport PTJRepoHeader from \"./ptj-repo-header.vue\"\r\nimport PTJTree from \"./ptj-tree.vue\"\r\nimport PTJTable from \"./ptj-table.vue\"\r\nimport PTJList from \"./ptj-list.vue\"\r\nimport { defineComponent} from \"vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-repo',\r\n  setup() {\r\n      return { store : Ctrl.getStore(), Class }\r\n  },\r\n    components : {\r\n        \"ptj-repo-header\" : PTJRepoHeader,\r\n        \"ptj-tree\" : PTJTree,\r\n        \"ptj-table\" : PTJTable,\r\n        \"ptj-list\" : PTJList\r\n    }\r\n});\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n\r\n.table, .thead, .tbody, .tr {\r\n    width : 100%;\r\n}\r\n\r\n\r\n\r\n.ptj-data-row:nth-child(odd) {background : #CCC}\r\n\r\n</style>","<template>\r\n    <div :class=\"Class.getClass('ptj-single-item') + ' ' + store.classes\">\r\n        <h1>{{ store.title }}</h1>\r\n        <ptj-nav :actions=\"store.actions\" :class=\"Class.getClass('ptj-single-item-actions')\" />\r\n        <div v-for=\"(field, index) in store.data.cells\" :key=\"index\" :class=\"Class.getClass('ptj-single-item-row') + ' ' + field.name\">\r\n            <span :class=\"Class.getClass('ptj-single-item-label')\">{{ field.meta.label }}</span>&nbsp;\r\n            <span v-if=\"field.meta.atts.html\" :class=\"Class.getClass('ptj-single-item-value')\"  v-html=\"field.val\"></span>\r\n            <span v-else :class=\"Class.getClass('ptj-single-item-value')\">{{ field.val }}</span>\r\n        </div>\r\n    </div>\r\n    <ptj-nav :actions=\"store.children\" :class=\"Class.getClass('ptj-single-item-children')\" />\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent  } from 'vue'\r\nimport GCNav from \"./ptj-nav.vue\"\r\nimport GCWidget from \"./ptj-widget-window.vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-single-item',\r\n  props : {\r\n      active : {\r\n          type : Boolean,\r\n          default : false\r\n      }\r\n  },\r\n  setup() {\r\n      return { store : Ctrl.getStore(), Class }\r\n  },\r\n  computed : {\r\n      editnav() {\r\n          return this.store.actions.put;\r\n      },\r\n      delnav() {\r\n          return this.store.actions.delete;\r\n      },\r\n      title() {\r\n          return this.store.title + \" \" + this.store.summary();\r\n      }\r\n  },\r\n  methods : {\r\n      runDel() {\r\n          this.store.runDelete();\r\n      }\r\n  },\r\n  components : {\r\n    \"ptj-nav\" : GCNav, \"ptj-widget\" : GCWidget\r\n  }\r\n});\r\n    \r\n\r\n</script>","<template>\r\n    <div :class=\"Class.getClass('ptj-single-item') + ' ' + store.classes\">\r\n        <h1>{{ store.title }}</h1>\r\n        <ptj-nav :actions=\"store.actions\" :class=\"Class.getClass('ptj-single-item-actions')\" />\r\n        <div v-for=\"(field, index) in store.data.cells\" :key=\"index\" :class=\"Class.getClass('ptj-single-item-row') + ' ' + field.name\">\r\n            <span :class=\"Class.getClass('ptj-single-item-label')\">{{ field.meta.label }}</span>&nbsp;\r\n            <span v-if=\"field.meta.atts.html\" :class=\"Class.getClass('ptj-single-item-value')\"  v-html=\"field.val\"></span>\r\n            <span v-else :class=\"Class.getClass('ptj-single-item-value')\">{{ field.val }}</span>\r\n        </div>\r\n    </div>\r\n    <ptj-nav :actions=\"store.children\" :class=\"Class.getClass('ptj-single-item-children')\" />\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent  } from 'vue'\r\nimport GCNav from \"./ptj-nav.vue\"\r\nimport GCWidget from \"./ptj-widget-window.vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-single-item',\r\n  props : {\r\n      active : {\r\n          type : Boolean,\r\n          default : false\r\n      }\r\n  },\r\n  setup() {\r\n      return { store : Ctrl.getStore(), Class }\r\n  },\r\n  computed : {\r\n      editnav() {\r\n          return this.store.actions.put;\r\n      },\r\n      delnav() {\r\n          return this.store.actions.delete;\r\n      },\r\n      title() {\r\n          return this.store.title + \" \" + this.store.summary();\r\n      }\r\n  },\r\n  methods : {\r\n      runDel() {\r\n          this.store.runDelete();\r\n      }\r\n  },\r\n  components : {\r\n    \"ptj-nav\" : GCNav, \"ptj-widget\" : GCWidget\r\n  }\r\n});\r\n    \r\n\r\n</script>","<template>\r\n <div :class=\"Class.getClass('ptj-accounthandler')\">\r\n    <h1>{{ store.title }}</h1>\r\n    <ptj-form />\r\n    <ptj-nav :action=\"store.actions\" />\r\n </div>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport { defineComponent } from 'vue'\r\nimport GCForm from \"./ptj-form.vue\"\r\nimport GCNav from \"./ptj-nav.vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"./../js/classinjection.js\"\r\n\r\n \r\nexport default defineComponent({\r\n  name: 'ptj-login',\r\n  setup() {\r\n      let store = Ctrl.getStore()\r\n      store.next = () => {\r\n           Ctrl.reloadFromBase();\r\n      }\r\n      return { store : store, Class }\r\n  },\r\n  components : \r\n    {\r\n      \"ptj-form\" : GCForm, \"ptj-nav\" : GCNav\r\n    }\r\n});\r\n</script>\r\n\r\n\r\n","<template>\r\n <div :class=\"Class.getClass('ptj-accounthandler')\">\r\n    <h1>{{ store.title }}</h1>\r\n    <ptj-form />\r\n    <ptj-nav :action=\"store.actions\" />\r\n </div>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport { defineComponent } from 'vue'\r\nimport GCForm from \"./ptj-form.vue\"\r\nimport GCNav from \"./ptj-nav.vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"./../js/classinjection.js\"\r\n\r\n \r\nexport default defineComponent({\r\n  name: 'ptj-login',\r\n  setup() {\r\n      let store = Ctrl.getStore()\r\n      store.next = () => {\r\n           Ctrl.reloadFromBase();\r\n      }\r\n      return { store : store, Class }\r\n  },\r\n  components : \r\n    {\r\n      \"ptj-form\" : GCForm, \"ptj-nav\" : GCNav\r\n    }\r\n});\r\n</script>\r\n\r\n\r\n","<template>\r\n    <ptj-widget :title=\"title\" :active=\"active\">\r\n        <div :class=\"classes\">\r\n            <a @click=\"next\"><span class=\"material-icons\">view_carousel</span></a>\r\n            <div v-for=\"(field, index) in store.fields\" :key=\"index\" :class=\"rowclass + ' ' + field.name\">\r\n                <span :class=\"labelclass\">{{ field.label }}</span>&nbsp;<span :class=\"rowclass\">{{ field.val }}</span>\r\n            </div>\r\n        </div>\r\n    </ptj-widget>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent  } from 'vue'\r\nimport GCWidget from \"./ptj-widget-window.vue\"\r\nimport Class from \"../js/classinjection.js\"\r\nimport Ctrl from \"../js/controller.js\"\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-card',\r\n  props : {\r\n      store : Object,\r\n      active : {\r\n          type : Boolean,\r\n          default : false\r\n      }\r\n  },\r\n  methods : {\r\n      next() {\r\n          this.store.next();\r\n          Ctrl.buildLink();\r\n      }\r\n  },\r\n  computed : {\r\n      title() {\r\n          return this.store.title;\r\n      },\r\n      classes() {\r\n          return Class.getClass(\"ptj-card\")  + \" \" + this.store.classes;\r\n      },\r\n      rowclass() {\r\n          return Class.getClass(\"ptj-card-row\");\r\n      },\r\n      labelclass() {\r\n          return Class.getClass(\"ptj-card-label\");\r\n      },\r\n      valueclass() {\r\n          return Class.getClass(\"ptj-card-value\");\r\n      }\r\n  },\r\n  components : {\r\n    \"ptj-widget\" : GCWidget\r\n  }\r\n});\r\n    \r\n\r\n</script>","<template>\r\n    <ptj-widget :title=\"title\" :active=\"active\">\r\n        <div :class=\"classes\">\r\n            <a @click=\"next\"><span class=\"material-icons\">view_carousel</span></a>\r\n            <div v-for=\"(field, index) in store.fields\" :key=\"index\" :class=\"rowclass + ' ' + field.name\">\r\n                <span :class=\"labelclass\">{{ field.label }}</span>&nbsp;<span :class=\"rowclass\">{{ field.val }}</span>\r\n            </div>\r\n        </div>\r\n    </ptj-widget>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent  } from 'vue'\r\nimport GCWidget from \"./ptj-widget-window.vue\"\r\nimport Class from \"../js/classinjection.js\"\r\nimport Ctrl from \"../js/controller.js\"\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-card',\r\n  props : {\r\n      store : Object,\r\n      active : {\r\n          type : Boolean,\r\n          default : false\r\n      }\r\n  },\r\n  methods : {\r\n      next() {\r\n          this.store.next();\r\n          Ctrl.buildLink();\r\n      }\r\n  },\r\n  computed : {\r\n      title() {\r\n          return this.store.title;\r\n      },\r\n      classes() {\r\n          return Class.getClass(\"ptj-card\")  + \" \" + this.store.classes;\r\n      },\r\n      rowclass() {\r\n          return Class.getClass(\"ptj-card-row\");\r\n      },\r\n      labelclass() {\r\n          return Class.getClass(\"ptj-card-label\");\r\n      },\r\n      valueclass() {\r\n          return Class.getClass(\"ptj-card-value\");\r\n      }\r\n  },\r\n  components : {\r\n    \"ptj-widget\" : GCWidget\r\n  }\r\n});\r\n    \r\n\r\n</script>","<template>\r\n    <div :class=\"Class.getClass('ptj-tabs')\">\r\n        <div :class=\"Class.getClass('ptj-tabs-card')\" v-for=\"parent in parents\" :key=\"parent.name + '-parent'\">\r\n            <ptj-card :store=\"parent.store\" />\r\n        </div>\r\n      \r\n        <div :class=\"Class.getClass('ptj-tabs-tab')\" >\r\n            <component :key=\"store.index\" :is=\"store.component\" />\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n\r\nimport GCForm from \"./ptj-form.vue\"\r\nimport GCRepo from \"./ptj-repo.vue\"\r\nimport GCNav from \"./ptj-nav.vue\"\r\nimport GCSingleItem from \"./ptj-single-item.vue\"\r\nimport GCAccountHandler from \"./ptj-accounthandler.vue\"\r\nimport GCCard from \"./ptj-card.vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nimport { defineComponent } from 'vue'\r\n\r\nexport default defineComponent({\r\n    props : {\r\n        index: {\r\n            type : Boolean,\r\n        }\r\n    },\r\n    setup(props) {\r\n        if (props.index) Ctrl.next();\r\n        return { store : Ctrl.getStore(), Class }\r\n    },\r\n    computed : {\r\n        parents() {\r\n            return [];\r\n        }\r\n    },\r\n    components : {\r\n        'ptj-form' : GCForm,\r\n        'ptj-nav' : GCNav,\r\n        'ptj-single-item' : GCSingleItem,\r\n        'ptj-account-handler' : GCAccountHandler,\r\n        'ptj-repo' : GCRepo,\r\n        'ptj-card' : GCCard\r\n    }\r\n\r\n});\r\n</script>","<template>\r\n    <div :class=\"Class.getClass('ptj-tabs')\">\r\n        <div :class=\"Class.getClass('ptj-tabs-card')\" v-for=\"parent in parents\" :key=\"parent.name + '-parent'\">\r\n            <ptj-card :store=\"parent.store\" />\r\n        </div>\r\n      \r\n        <div :class=\"Class.getClass('ptj-tabs-tab')\" >\r\n            <component :key=\"store.index\" :is=\"store.component\" />\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n\r\nimport GCForm from \"./ptj-form.vue\"\r\nimport GCRepo from \"./ptj-repo.vue\"\r\nimport GCNav from \"./ptj-nav.vue\"\r\nimport GCSingleItem from \"./ptj-single-item.vue\"\r\nimport GCAccountHandler from \"./ptj-accounthandler.vue\"\r\nimport GCCard from \"./ptj-card.vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nimport { defineComponent } from 'vue'\r\n\r\nexport default defineComponent({\r\n    props : {\r\n        index: {\r\n            type : Boolean,\r\n        }\r\n    },\r\n    setup(props) {\r\n        if (props.index) Ctrl.next();\r\n        return { store : Ctrl.getStore(), Class }\r\n    },\r\n    computed : {\r\n        parents() {\r\n            return [];\r\n        }\r\n    },\r\n    components : {\r\n        'ptj-form' : GCForm,\r\n        'ptj-nav' : GCNav,\r\n        'ptj-single-item' : GCSingleItem,\r\n        'ptj-account-handler' : GCAccountHandler,\r\n        'ptj-repo' : GCRepo,\r\n        'ptj-card' : GCCard\r\n    }\r\n\r\n});\r\n</script>","<template>\r\n    <Teleport to=\"#ptj-accountdetails\">\r\n    <a :class=\"Class.getClass('ptj-account-details-logout')\" @click=\"logout\">Logout</a>\r\n    </Teleport>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from 'vue'\r\nimport Client from \"./../js/client.js\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"./../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n    setup() {\r\n        return { Class }\r\n    },\r\n    methods : {\r\n        logout() {\r\n            Client.post(\"/core-logout\")\r\n            .then(() => {\r\n                Ctrl.reloadFromBase();\r\n            });\r\n        }\r\n    }\r\n})\r\n</script>\r\n","<template>\r\n    <Teleport to=\"#ptj-accountdetails\">\r\n    <a :class=\"Class.getClass('ptj-account-details-logout')\" @click=\"logout\">Logout</a>\r\n    </Teleport>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from 'vue'\r\nimport Client from \"./../js/client.js\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"./../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n    setup() {\r\n        return { Class }\r\n    },\r\n    methods : {\r\n        logout() {\r\n            Client.post(\"/core-logout\")\r\n            .then(() => {\r\n                Ctrl.reloadFromBase();\r\n            });\r\n        }\r\n    }\r\n})\r\n</script>\r\n","<template>\r\n  <ptj-account-details v-if=\"isaccount\" />\r\n  <div :class=\"Class.getClass('ptj-root')\" v-for=\"group in groups\" :key=\"group.index\">\r\n    <ptj-tabs  :index=\"true\"  />\r\n </div>\r\n</template>\r\n<script>\r\n\r\nimport { defineComponent } from 'vue'\r\nimport GCTabs from \"./ptj-tabs.vue\"\r\nimport GCAccountDetails from \"./ptj-account-details.vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n    name : 'ptj-root',\r\n    setup() {\r\n        return { Class }\r\n    },\r\n    computed : {\r\n        groups() {\r\n            return Ctrl.store.models;\r\n        },\r\n        isaccount() {\r\n            return Ctrl.store.profile == \"public\" ? false : true;\r\n        }\r\n    },\r\n    components : {\r\n        'ptj-tabs' : GCTabs, \"ptj-account-details\" : GCAccountDetails\r\n\r\n    }\r\n});\r\n</script>","<template>\r\n  <ptj-account-details v-if=\"isaccount\" />\r\n  <div :class=\"Class.getClass('ptj-root')\" v-for=\"group in groups\" :key=\"group.index\">\r\n    <ptj-tabs  :index=\"true\"  />\r\n </div>\r\n</template>\r\n<script>\r\n\r\nimport { defineComponent } from 'vue'\r\nimport GCTabs from \"./ptj-tabs.vue\"\r\nimport GCAccountDetails from \"./ptj-account-details.vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n    name : 'ptj-root',\r\n    setup() {\r\n        return { Class }\r\n    },\r\n    computed : {\r\n        groups() {\r\n            return Ctrl.store.models;\r\n        },\r\n        isaccount() {\r\n            return Ctrl.store.profile == \"public\" ? false : true;\r\n        }\r\n    },\r\n    components : {\r\n        'ptj-tabs' : GCTabs, \"ptj-account-details\" : GCAccountDetails\r\n\r\n    }\r\n});\r\n</script>","import Ctrl from \"./presstojam/src/js/controller.js\"\r\nimport PTJRoot from \"./presstojam/src/components/ptj-root.vue\"\r\nimport { createApp } from \"vue\"\r\n\r\nfunction runApp(mount) {\r\n    const app = createApp(PTJRoot);\r\n    app.mount(mount);\r\n    return app;\r\n}\r\n\r\nexport default { \r\n    Ctrl, runApp\r\n}\r\n\r\n\r\n"],"names":["main_url","last_status","last_ok","custom_headers","status_handlers","debug","regCustomHeader","name","value","regStatusHandler","status","handler","setURL","url","regDebug","is_debug","run","headers","mode","cache","credentials","fetch","then","response","ok","json","val","omethod","method","Error","catch","err","console","log","setDebug","data","get","this","params","URLSearchParams","graph","i","Array","isArray","append","JSON","stringify","indexOf","toString","getprimary","post","body","put","patch","delete","DataCell","constructor","meta","_meta","_store","reactive","display","error","is_validate_on","computed","set","clean","validate","showError","default","type","validateon","on","toVal","setVal","DataRow","metarow","_cells","_references","_children","_parent","_primary","applyMetaRow","primary","parent","fields","field","references","children","appendPrimary","addChild","child","push","row","ref","reference","getSummary","cell","cells","getCell","str","isSummary","join","serialize","state","getCellByType","DataTemplateCell","atts","min","max","val1","val2","addParam","obj","cobj","Object","keys","length","DataTemplate","_limit","_page","_fields","_sort","_groups","_active","_max_pages","_count","initField","_data","limit","sort","page","groups","active","max_pages","pages","count","convertToParams","param","convertDataToParams","convertFromParams","parse","hasOwnProperty","convertToAPIParams","__limit","__page","__fields","__sort","error_invalid_map","getError","code","Validator","_min","_max","_has","_has_not","_errors","has","nothas","nhas","validateSize","MIN_VALUE","MAX_VALUE","OK","isNaN","match","HAS_NOT","HAS","Field","_name","_type","_is_primary","_is_parent","_valid","_atts","_confirm","_readonly","_placeholder","_conditions","_link","_reference","_error","_label","_on","summary","options","_default","_validator","_multiple","x","validation","opt","key","e","confirm","readonly","placeholder","def","asset","_asset","conditions","link","multiple","mult","is_primary","is_parent","label","isprimary","required","isparent","Errors","saveAsset","id","saveFile","Promise","resolve","setReferenceOptions","Client","__data","exp","calcValue","Asset","_size","_blob","_uploaded","_chunk_size","_url","_key","_key_field","chunk_size","chunk","blob","keyfield","size","uploaded","getChunk","index","start","end","view","DataView","buffer","n","byteLength","getInt8","loadFile","alert","delFile","file","reject","fr","FileReader","_self","onload","target","result","onerror","readAsArrayBuffer","promises","chunks","Math","ceil","__chunk","__blob","all","MetaRow","addReference","map","exportFields","store","cfields","_states","_limit_fields","contains","exportToStore","_ctarget","orig","to","model","param_str","updateIntention","vals","resetIntention","parseInt","convertMaps","omaps","ni","unshift","splice","ModelInstance","stage","_title","_component","_rawcomponent","_actions","_next","_index","_primary_key_name","_parent_key_name","_circular","_model","_siblings","_classes","_default_state","_settings","hide_actions","_meta_row","_global_meta_row","_data_template","_global_data","_indexes","_stage","_to","currentstate","_active_state","default_state","classes","replace","_state","applySettings","settings","snakeCase","buildMetaRow","states","use_fields","global_fields","par","p_meta","initState","primarykey","parentkey","siblings","circular","loadURL","saveURL","initDataTemplate","load","__to","client","__status","mapRepoData","mapData","setReferences","reload","data_template","rLoadObj","_active_children","indexData","indexes","group","ckey","submit","request","message","statusText","assets","progress","total","promise","buildLink","intention","setting","change_intention","ChangeAction","actions","component","rawcomponent","title","action","submiturl","saveurl","disable_filter","disable_selectfields","loadurl","r","next","sibling","setPage","login","Model","_map","_previous_map","_response","_instance","copy","injectCustomSettings","initModel","pmap","init","action_map","CtrlGroupMap","_param_str","convertToURL","convertFromURL","parts","split","pop","maps","trigger_cb","route_base","createMap","trigger","trig","resetMaps","str_parts","base","URL","window","location","protocol","host","url_str","searchParams","url_obj","pathname","param_obj","setBase","getMaps","cb","runRoute","uri","href","search","onpopstate","event","document","setRoute","history","pushState","hardSetRoute","route","regCallback","callback","softRoute","profile","_models","_seeker","buildModel","Map","models","Router","setSettings","mapper","initProfile","__profile","assumeRole","role","removeRole","soft","omap","cmap","runLink","runData","reloadFromBase","getStore","classes_dict","regClass","getClass","defineComponent","props","Number","String","setup","Class","styleInject","css","insertAt","head","getElementsByTagName","style","createElement","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","_createElementBlock","class","_ctx","components","GCError","_createElementVNode","onBlur","_createVNode","cval","isvalidateon","setValidateOn","selected","disabled","_hoisted_2","option","methods","html","setFile","files","onChange","num","floor","fstate","globalerror","Ctrl","clearErrors","GCInput","GCConfirm","GCSelect","GCRadio","GCCheckbox","GCTextarea","GCAssetField","GCProgressBar","onSubmit","_createBlock","stores","_createCommentVNode","onClick","Boolean","show","toggleWidget","_hoisted_3","_renderSlot","GCFormSelect","GCFilterFormTime","GCFilterFormCheckbox","GCWidget","slotScope","getActiveClass","GCNav","GCFilterForm","GCPagination","GCSelectFields","branch","draggable","ischild","toggle_state","toggle","setDraggable","closest","setAttribute","endDraggable","selectRow","getRowClass","sortable","arr","carr","stop","onMousedown","onMouseup","GCDragNDrop","_handle","handle","_drop_target","drop_target","_drag_target","drag_target","_call_back","_x","_y","_offset_x","_offset_y","_judder","judder","_drag_node","_drop_node","_tree","tree","isJudder","y","dx","dy","getDirection","offset","elem","rect","getBoundingClientRect","win","ownerDocument","defaultView","top","pageYOffset","left","pageXOffset","insertAfter","drag_id","getAttribute","drop_id","nextElementSibling","node","dragStart","ev","targ","dataTransfer","dropEffect","clientX","clientY","isDroppable","dragEnter","preventDefault","dir","dragOver","dragEnd","drop","initDD","drag","querySelectorAll","forEach","el","addAttribute","addEventListener","main","treeroot","onMounted","GCDragDrop","saveSort","GCTreeNode","order","orderBy","xval","yval","overlimit","rowclass","rindex","getCombinations","tag","combos","ncombos","d","tags","c","filter","includes","getIndexCombinations","combinations","_Fragment","PTJRepoHeader","PTJTree","PTJTable","PTJList","editnav","delnav","runDel","runDelete","innerHTML","GCForm","labelclass","valueclass","parents","GCSingleItem","GCAccountHandler","GCRepo","GCCard","logout","isaccount","GCTabs","GCAccountDetails","runApp","mount","app","createApp","PTJRoot"],"mappings":"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"}