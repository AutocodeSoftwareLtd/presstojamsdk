{"version":3,"file":"ptj.min.js","sources":["../presstojam/src/js/client.js","../presstojam/src/js/validator.js","../presstojam/src/js/error.js","../presstojam/src/js/field.js","../presstojam/src/js/asset.js","../presstojam/src/js/model.js","../presstojam/src/js/params.js","../presstojam/src/js/ctrlmap.js","../presstojam/src/js/router.js","../presstojam/src/js/controller.js","../presstojam/src/js/classinjection.js","../presstojam/src/components/ptj-error.vue","../node_modules/style-inject/dist/style-inject.es.js","../presstojam/src/components/ptj-error.vue?vue&type=template&id=c05300a8&lang.js","../presstojam/src/components/ptj-form-input.vue","../presstojam/src/components/ptj-form-input.vue?vue&type=template&id=64b3afe6&lang.js","../presstojam/src/components/ptj-form-confirm.vue","../presstojam/src/components/ptj-form-confirm.vue?vue&type=template&id=62754d43&lang.js","../presstojam/src/components/ptj-form-select.vue","../presstojam/src/components/ptj-form-select.vue?vue&type=template&id=34644c49&lang.js","../presstojam/src/components/ptj-form-radio.vue","../presstojam/src/components/ptj-form-radio.vue?vue&type=template&id=2e1363be&lang.js","../presstojam/src/components/ptj-form-checkbox.vue","../presstojam/src/components/ptj-form-checkbox.vue?vue&type=template&id=0f4b9e50&lang.js","../presstojam/src/components/ptj-form-textarea.vue","../presstojam/src/components/ptj-form-textarea.vue?vue&type=template&id=0aa8b372&lang.js","../presstojam/src/components/ptj-form-asset.vue","../presstojam/src/components/ptj-form-asset.vue?vue&type=template&id=93648f9a&lang.js","../presstojam/src/components/ptj-progress-bar.vue","../presstojam/src/components/ptj-progress-bar.vue?vue&type=template&id=460b10ff&lang.js","../presstojam/src/components/ptj-form.vue","../presstojam/src/components/ptj-form.vue?vue&type=template&id=523d6cd0&lang.js","../presstojam/src/components/ptj-nav.vue","../presstojam/src/components/ptj-nav.vue?vue&type=template&id=262eb772&lang.js","../presstojam/src/components/ptj-filter-form-time.vue","../presstojam/src/components/ptj-filter-form-time.vue?vue&type=template&id=697f55ad&lang.js","../presstojam/src/components/ptj-filter-form-checkbox.vue","../presstojam/src/components/ptj-filter-form-checkbox.vue?vue&type=template&id=0743e0ba&lang.js","../presstojam/src/components/ptj-widget-window.vue","../presstojam/src/components/ptj-widget-window.vue?vue&type=template&id=da476e86&lang.js","../presstojam/src/components/ptj-filter-form.vue","../presstojam/src/components/ptj-filter-form.vue?vue&type=template&id=71ada21d&lang.js","../presstojam/src/components/ptj-pagination.vue","../presstojam/src/components/ptj-pagination.vue?vue&type=template&id=43dcd5a6&lang.js","../presstojam/src/components/ptj-selectfields.vue","../presstojam/src/components/ptj-selectfields.vue?vue&type=template&id=89ff5b7e&lang.js","../presstojam/src/components/ptj-repo-header.vue","../presstojam/src/components/ptj-repo-header.vue?vue&type=template&id=ba19bc28&lang.js","../presstojam/src/components/ptj-tree-node.vue","../presstojam/src/components/ptj-tree-node.vue?vue&type=template&id=1dcaa9f5&lang.js","../presstojam/src/js/dragndrop.js","../presstojam/src/components/ptj-tree.vue","../presstojam/src/components/ptj-tree.vue?vue&type=template&id=eebe52ac&lang.js","../presstojam/src/components/ptj-table.vue","../presstojam/src/components/ptj-table.vue?vue&type=template&id=15ab9672&lang.js","../presstojam/src/components/ptj-list.vue","../presstojam/src/components/ptj-list.vue?vue&type=template&id=f392d8ac&lang.js","../presstojam/src/components/ptj-repo.vue","../presstojam/src/components/ptj-repo.vue?vue&type=template&id=1c7fb47e&lang.js","../presstojam/src/components/ptj-breadcrumbs.vue","../presstojam/src/components/ptj-breadcrumbs.vue?vue&type=template&id=f4193d18&lang.js","../presstojam/src/components/ptj-single-item.vue","../presstojam/src/components/ptj-single-item.vue?vue&type=template&id=4f4c821c&lang.js","../presstojam/src/components/ptj-accounthandler.vue","../presstojam/src/components/ptj-accounthandler.vue?vue&type=template&id=fdfae9ee&lang.js","../presstojam/src/components/ptj-card.vue","../presstojam/src/components/ptj-card.vue?vue&type=template&id=3583d51c&lang.js","../presstojam/src/components/ptj-tabs.vue","../presstojam/src/components/ptj-tabs.vue?vue&type=template&id=00fda68a&lang.js","../presstojam/src/components/ptj-account-details.vue","../presstojam/src/components/ptj-account-details.vue?vue&type=template&id=c7cf5774&lang.js","../presstojam/src/components/ptj-root.vue","../presstojam/src/components/ptj-root.vue?vue&type=template&id=2c0fa1ee&lang.js","../import.js"],"sourcesContent":["let custom_headers  = {};\r\nlet main_url;\r\nlet status_handlers = {};\r\nlet debug = true;\r\nlet last_status;\r\nlet last_ok;\r\n\r\nexport default {\r\n\r\n    regCustomHeader(name, value) {\r\n        custom_headers[name] = value;\r\n    },\r\n\r\n    regStatusHandler(status, handler) {\r\n        status_handlers[status] = handler;\r\n    },\r\n\r\n    setURL(url) {\r\n        main_url = url;\r\n    },\r\n    regDebug(is_debug) {\r\n        debug = is_debug;\r\n    },\r\n\r\n    run(url, headers) {\r\n        \r\n        headers.mode = 'cors';\r\n        headers.cache = 'no-cache';\r\n        headers.credentials = 'include';\r\n        headers['Content-Type'] = 'application/json';\r\n        headers.headers = custom_headers;\r\n\r\n        const _self = this;\r\n\r\n        return fetch(main_url + url, headers)\r\n        .then(response => {\r\n            last_status = response.status;\r\n            last_ok = response.ok;\r\n            if (status_handlers[response.status]) {\r\n                status_handlers[response.status](response);\r\n            } else if (response.status == 401) {\r\n                return response.status;\r\n            } else {\r\n                return response.json();\r\n            }\r\n        })\r\n        .then(val => {\r\n            if (!last_ok) throw val;\r\n\r\n            if (last_status == 401) {\r\n                let omethod = headers.method;\r\n                headers.method = 'PUT';\r\n                return fetch(main_url + \"/core-switch-tokens\", headers)\r\n                .then(response => {\r\n                    if (response.ok) {\r\n                        headers.method = omethod;\r\n                        return fetch(main_url + url, headers)\r\n                        .then(response=> {\r\n                            if (response.status == 401) {\r\n                                throw new Error(\"Issue with refresh token\");\r\n                            } else if (response.ok) {\r\n                                return response.json();\r\n                            } else {\r\n                              //  profile.updateUser(\"public\", 0);\r\n                              //  throw Error(\"Logged out\");\r\n                            }\r\n                        });\r\n                    } else {\r\n                       // profile.updateUser(\"public\", 0);\r\n                       // throw Error(\"Logged out\");\r\n                    }\r\n                });\r\n            } else return val;\r\n        })\r\n        .catch(err => {\r\n            if (debug) console.log(err);\r\n            throw err;\r\n        });\r\n    }, \r\n    setDebug(data) {\r\n        if (!data) {\r\n            data = {\"__debug\" : true}\r\n        } else {\r\n            data[\"__debug\"] = true;\r\n        }\r\n        return data;\r\n    },\r\n    get(url, data) {\r\n        if (debug) data = this.setDebug(data);\r\n        if (data) {\r\n            const params = new URLSearchParams();\r\n            let graph = {};\r\n            for(let i in data) {\r\n                if (Array.isArray(data[i]) || (typeof data[i] == 'object' && data[i] !== null)) graph[i] = data[i];\r\n                else params.append(i, data[i]);\r\n            }\r\n\r\n            if (graph) {\r\n                params.append(\"graph\", JSON.stringify(graph));\r\n            }\r\n            if (url.indexOf(\"?\") == -1) url += \"?\";\r\n            else url += \"&\";\r\n            url += params.toString();\r\n        }\r\n        let headers = {};\r\n        headers.method = 'GET';\r\n        return  this.run(url, headers);\r\n    },\r\n\r\n    getprimary(url, data) {\r\n        return this.get(url, data);\r\n    },\r\n\r\n    post(url, data) {\r\n        //call our fetch response and return\r\n        if (debug) data = this.setDebug(data);\r\n        let headers = {};\r\n        headers.method = 'POST';\r\n        headers.body = JSON.stringify(data);\r\n        return this.run(url, headers);\r\n    },\r\n\r\n    put(url, data) {\r\n        if (debug) data = this.setDebug(data);\r\n        let headers = {};\r\n        headers.method = 'PUT';\r\n        headers.body = JSON.stringify(data);\r\n        return this.run(url, headers);\r\n    },\r\n\r\n    patch(url, data) {\r\n        if (debug) data = this.setDebug(data);\r\n        let headers = {};\r\n        headers.method = 'PATCH';\r\n        headers.body = JSON.stringify(data);\r\n        return this.run(url, headers);\r\n    },\r\n\r\n    delete(url, data) {\r\n        if (debug) data = this.setDebug(data);\r\n        let headers = {};\r\n        headers.method = 'DELETE';\r\n        headers.body = JSON.stringify(data);\r\n        return this.run(url, headers);\r\n    }\r\n}\r\n","export class Validator {\r\n\r\n    constructor() {\r\n        this._min;\r\n        this._max;\r\n        this._has = [];\r\n        this._has_not = [];\r\n        this._errors = {\r\n            'OK' : 0,\r\n            'MIN_VALUE' : 1,\r\n            'MAX_VALUE' : 2,\r\n            'HAS' : 3,\r\n            'HAS_NOT' : 4\r\n        }\r\n    }\r\n\r\n    set min(min) {\r\n        this._min = min;\r\n    }\r\n\r\n    set max(max) {\r\n        this._max = max;\r\n    }\r\n\r\n    set has(has) {\r\n        this._has.push(has);\r\n    }\r\n\r\n    set nothas(nhas) {\r\n        this._has_not.push(nhas);\r\n    }\r\n\r\n\r\n    validateSize(val) {\r\n        if (val < this._min) return this._errors.MIN_VALUE;\r\n        else if (val > this._max) return this._errors.MAX_VALUE;\r\n        else return this._errors.OK;\r\n    }\r\n\r\n\r\n    validate(val) {\r\n        let err;\r\n        if (isNaN(val)) {\r\n            const length = (val) ? val.length : 0;\r\n            err = this.validateSize(length);\r\n        } else {\r\n            err = this.validateSize(val);\r\n        }\r\n        if (err != this._errors.OK) return err;\r\n\r\n        for(let nhas of this._has_not) {\r\n            if (val.match(nhas)) return this._errors.HAS_NOT;\r\n        }\r\n\r\n        if (this._has.length == 0) return this._errors.OK;\r\n        \r\n        for(let has of this._has) {\r\n            if (val.match(this._has)) return this._errors.OK;\r\n        }\r\n        return this._errors.HAS;\r\n    }\r\n\r\n}","const error_invalid_map = {\r\n            1 : \"too small\",\r\n            2 : \"too large\",\r\n            3 : \"contains incorrect characters\",\r\n            4 : \"doesn't contain required characters\",\r\n            5 : \"not unique\"\r\n}\r\n\r\nfunction getError(code) {\r\n    return error_invalid_map[code];\r\n}\r\n\r\nexport default {\r\n    getError\r\n}","import { Validator } from \"./validator.js\"\r\nimport Errors from \"./error.js\"\r\nimport { reactive, computed, ref } from \"vue\"\r\nimport Client from \"./client.js\"\r\n\r\nexport class Field  {\r\n\r\n    constructor(name, obj = null) {\r\n        this._name = name;\r\n        this._type;\r\n        this._is_primary = false;\r\n        this._is_parent = false;\r\n        this._valid = 1;\r\n        this._atts={}\r\n        this._confirm = false;\r\n        this._readonly = false;\r\n        this._placeholder = \"\";\r\n        this._conditions;\r\n        this._link;\r\n        this._reference;\r\n        this._error = 0;\r\n        this._label = \"\";\r\n        this.on = ref(true);\r\n        this._summary = false;\r\n        this._default = null;\r\n        this._validator = new Validator();\r\n        this._value = ref(null);\r\n        this._multiple;\r\n        this._is_validate_on = false;\r\n        this._options = reactive([]);\r\n        this._asset = null;\r\n\r\n        this.val = computed({ \r\n            get : () =>  {\r\n                return this._value.value;\r\n            },\r\n            set : (val) => {\r\n                this._value.value = (this._type == \"checkbox\") ? (val) ? 1 : 0 : val;\r\n                this._error = this.validate(val);\r\n            }     \r\n        });\r\n\r\n       \r\n        if (obj) {\r\n            for (let x in obj) {\r\n                if (x == \"field\" || x == \"validator\") continue;\r\n                this[x] = obj[x];\r\n            }\r\n\r\n            if (obj.field) {\r\n                for(let x in obj.field) {\r\n                    this[x] = obj.field[x];\r\n                }\r\n            }\r\n\r\n            if (obj.validation) {\r\n                for(let x in obj.validation) {\r\n                    this._validator[x] = obj.validation[x];\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    set confirm(confirm) {\r\n        this._confirm = confirm;\r\n    }\r\n\r\n    set readonly(readonly) {\r\n        this._readonly = readonly;\r\n    }\r\n\r\n    set placeholder(placeholder) {\r\n        this._placeholder = placeholder;\r\n    }\r\n\r\n    set atts(atts) {\r\n        this._atts = atts;\r\n    }\r\n\r\n    set default(def) {\r\n        this._default = def;\r\n    }\r\n\r\n    set asset(asset) {\r\n        this._asset = asset;\r\n    }\r\n\r\n\r\n    set conditions(conditions) {\r\n        this._conditions = conditions;\r\n    }\r\n\r\n    set link(link) {\r\n        this._link = link;\r\n    }\r\n\r\n    set name(name) {\r\n        this._name = name;\r\n    }\r\n\r\n    set type(type) {\r\n        this._type = type;\r\n    }\r\n\r\n    set multiple(mult) {\r\n        this._multiple = mult;\r\n    }\r\n\r\n    set is_primary(val) {\r\n        this._is_primary = val;\r\n    }\r\n\r\n    set is_parent(val) {\r\n        this._is_parent = val;\r\n    }\r\n\r\n    set reference(ref) {\r\n        this._reference = ref;\r\n    }\r\n\r\n    set error(err) {\r\n        this._error = err;\r\n    }\r\n\r\n    set label(label) {\r\n        this._label = label;\r\n    }\r\n\r\n    set summary(summary) {\r\n        this._summary = summary;\r\n    }\r\n\r\n    set validateon(on) {\r\n        this._is_validate_on = on;\r\n    }\r\n\r\n\r\n    get name() {\r\n        return this._name;\r\n    }\r\n\r\n    get type() {\r\n        return this._type;\r\n    }\r\n\r\n    get options() {\r\n        return this._options;\r\n    }\r\n\r\n    get isprimary() {\r\n        return this._is_primary;\r\n    }\r\n\r\n    get required() {\r\n        return (this._min > 0) ? true : false;\r\n    }\r\n\r\n    get summary() {\r\n        return this._summary;\r\n    }\r\n\r\n    get readonly() {\r\n        return this._readonly;\r\n    }\r\n\r\n    get placeholder() {\r\n        return this._placeholder;\r\n    }\r\n\r\n    get default() {\r\n        return this._default;\r\n    }\r\n\r\n    get atts() {\r\n        return this._atts;\r\n    }\r\n\r\n    get conditions() {\r\n        return this._conditions;\r\n    }\r\n\r\n    get link() {\r\n        return this._link;\r\n    }\r\n\r\n    get isparent() {\r\n        return this._is_parent\r\n    }\r\n\r\n    get multiple() {\r\n        return this._multiple;\r\n    }\r\n    \r\n    get confirm() {\r\n        return this._confirm;\r\n    }\r\n\r\n    get reference() {\r\n        return this._reference;\r\n    }\r\n\r\n    get error() {\r\n        if (!this._error) return \"\";\r\n        else if (isNaN(this._error)) return this._error;\r\n        else return Errors.getError(this._error);\r\n    }\r\n\r\n    get showError() {\r\n        return (this._is_validate_on && this._error) ? true : false;\r\n    }\r\n\r\n    get label() {\r\n        return this._label;\r\n    }\r\n\r\n\r\n    saveAsset(id) {\r\n        if (this._asset) {\r\n            let file = this.val;\r\n            if (file) return this._asset.saveFile(this.val, id);\r\n        } \r\n        return Promise.resolve();\r\n    }\r\n\r\n\r\n    setOptions(params) {\r\n        this._options.length = 0;\r\n        if (this._reference) {\r\n            Client.get(this._reference, params)\r\n                .then(response => {\r\n                    for (let i in response.__data) {\r\n                        if (i.indexOf(\"__\") === 0) continue;\r\n                        this._options.push({ key: response.__data[i].id, value: response.__data[i].value });\r\n                    }\r\n                })\r\n                .catch(e => {\r\n                    console.log(e);\r\n                });\r\n        } else {\r\n            try {\r\n                for (let opt of this._atts.options) {\r\n                    this._options.push({ key: opt, value: opt });\r\n                }\r\n            } catch (e) {\r\n                console.log(\"options not set for \", this._name);\r\n            }\r\n        }\r\n    }\r\n\r\n    clean(val) {\r\n        return (this._type == \"checkbox\") ? Boolean(val) : val;\r\n    }\r\n\r\n    validate(value) {\r\n        return this._validator.validate(value);\r\n    }\r\n\r\n    exp() {\r\n        return {\r\n            name : this._name,\r\n            type : this._type,\r\n            atts : this._atts\r\n        }\r\n    }\r\n\r\n    calcValue(value) {\r\n        if (!value) return \"\";\r\n        else return value;\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n","\r\nimport Client from \"./client.js\"\r\n\r\nexport class Asset {\r\n\r\n    constructor() {\r\n      this._size = 0;\r\n      this._blob = null;\r\n      this._uploaded = false;\r\n      this._chunk_size = 0;\r\n      this._url;\r\n      this._key = 0;\r\n      this._key_field;\r\n    }\r\n\r\n    set chunk_size(chunk) {\r\n      this._chunk_size = chunk;\r\n    }\r\n\r\n    set blob(blob) {\r\n      this._blob = blob;\r\n    }\r\n\r\n    set url(url) {\r\n        this._url = url;\r\n    }\r\n\r\n    set key(key) {\r\n        this._key = key;\r\n    }\r\n\r\n    set keyfield(field) {\r\n        this._key_field = field;\r\n    }\r\n\r\n    get blob() {\r\n      return this._blob;\r\n    }\r\n\r\n    get size() {\r\n      return this._size;\r\n    }\r\n\r\n    get uploaded() {\r\n      return this._uploaded;\r\n    }\r\n\r\n    get chunk_size() {\r\n      return this._chunk_size;\r\n    }\r\n\r\n\r\n    get url() {\r\n        return this._url;\r\n    }\r\n\r\n\r\n    getChunk(index) {\r\n      const start = (this._chunk_size == 0) ? 0 : index * this._chunk_size;\r\n      let end = (this._chunk_size == 0) ? this._size : (index + 1) * this._chunk_size;\r\n      if (end > this._size) end = this._size;\r\n      const view = new DataView(this._blob, start, end - start);\r\n      let buffer = [];\r\n      for(let i = 0, n=view.byteLength; i<n; ++i) {\r\n        buffer.push(view.getInt8(i));\r\n      }\r\n      return buffer.join('');\r\n    }\r\n\r\n\r\n    loadFile(id) {\r\n        let data = {};\r\n        data[this._key_field] = id;\r\n        return Client.get(this._url, data)\r\n        .catch(e => {\r\n            alert(e);\r\n        });\r\n    }\r\n\r\n    delFile(id) {\r\n        let data = {};\r\n        data[this._key_field] = id;\r\n        return Client.delete(this._url, data)\r\n        .catch(e => {\r\n            alert(e);\r\n        });\r\n    }\r\n\r\n    saveFile(file, id) {\r\n        //this needs to be a promise\r\n        this._size = file.size;\r\n        return new Promise(( resolve, reject) => {\r\n          const fr = new FileReader();\r\n          let _self = this;\r\n          fr.onload = function(e) {\r\n            _self.blob = e.target.result;\r\n            resolve(fr.result);\r\n          }\r\n          fr.onerror = reject;\r\n          fr.readAsArrayBuffer(file);  \r\n        })\r\n        .then(() => {\r\n          let promises = [];\r\n          //else, do we have any assets?\r\n          let chunks = (this.chunk_size == 0) ? 1 : Math.ceil(this.size / this.chunk_size);\r\n          for(let i=0; i<chunks; ++i) {\r\n              const data = {};\r\n              data.__chunk = i;\r\n              data.__blob = this.getChunk(i);\r\n              data.id = id;\r\n              promises.push(Client.put(this._url, data));\r\n          }\r\n          return Promise.all(promises);\r\n        });\r\n      }\r\n\r\n}","import client from \"./client.js\"\r\nimport { Field } from \"./field.js\"\r\nimport { reactive } from \"vue\"\r\nimport { Asset } from \"./asset.js\"\r\n\r\n\r\nexport class Model {\r\n    constructor() {\r\n        this._name;\r\n        this._states = {};\r\n        this._default_state;\r\n     \r\n        this._primary_key;\r\n        this._parent_key;\r\n        this._circular;\r\n        this._children = [];\r\n        this._active_children = [];\r\n        this._key_states = { parent_key : null, primary_key : null };\r\n        this._settings = {};\r\n        this._active_state;\r\n        this._change_intention;\r\n    \r\n        this.store = reactive({\r\n            fields : {},\r\n            parent_models : [],\r\n            label : '',\r\n            title : '',\r\n            data : [],\r\n            component : '',\r\n            rawcomponent : '',\r\n            actions : [],\r\n            next : null,\r\n            index : '',\r\n            primarykeyname : '',\r\n            parentkeyname : '',\r\n            circular : '',\r\n            model :  this._name,\r\n            siblings : [],\r\n            children : [],\r\n            stage : 0,\r\n            groups : []\r\n        });\r\n    }\r\n\r\n    get name() {\r\n        return this._name;\r\n    }\r\n\r\n    get currentstate() {\r\n        return (this._active_state) ? this._active_state : this._default_state;\r\n    }\r\n\r\n\r\n    get children() {\r\n        return this._children;\r\n    }\r\n\r\n    get siblings() {\r\n        if (this._siblings.length > 1) return this._siblings;\r\n        else return [];\r\n    }\r\n\r\n    set state(state) {\r\n        this._active_state = (state) ? state : this._default_state;\r\n        this._change_intention = null;\r\n        this.loadState();\r\n    }\r\n\r\n    set groups(groups) {\r\n        console.log(\"Set groups \", groups);\r\n        this.store.groups = groups;\r\n    }\r\n\r\n    get key() {\r\n        if (this._active_state == \"post\" || this._active_state == \"get\") {\r\n            return this._key_states.parent_key;\r\n        } else {\r\n            return this._key_states.primary_key;\r\n        }\r\n    }\r\n\r\n    set to(to) {\r\n        this._to = to;\r\n    }\r\n\r\n    set key(key) {\r\n        if (this._active_state == \"get\" || this._active_state == \"post\") {\r\n            this._key_states.parent_key = key;\r\n        } else {\r\n            this._key_states.primary_key = key;\r\n        }\r\n\r\n        if (this._active_state == \"post\" || this._active_state == \"put\") {\r\n            for(let name in this.store.fields) {\r\n                if (this.store.fields[name].on && this.store.fields[name].type == \"select\") {\r\n                    this.store.fields[name].setOptions(this.params);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    set stage(stage) {\r\n        this.store.stage = stage;\r\n    }\r\n\r\n    set name(name) {\r\n        this._name = name;\r\n    }\r\n\r\n    injectCustomSettings(settings) {\r\n        for(let i in settings) {\r\n            if (this[i]) this[i] = settings[i];\r\n            else if (this.store[i]) this.store[i] = settings[i];\r\n        }\r\n        this._settings = settings;\r\n    }\r\n\r\n \r\n    get loadurl() {\r\n        let url = \"/\" + this._name;\r\n        if (this._active_state == \"getprimary\" ||  this._active_state == \"put\") url += \"-primary\";\r\n        return url;\r\n    }\r\n\r\n    get saveurl() {\r\n        let url = \"/\" + this._name;\r\n        return url;\r\n    }\r\n\r\n    get params() {\r\n        let params = {};\r\n        if (this._active_state == \"get\" || this._active_state == \"post\") {\r\n            if (this._key_states.parent_key) {\r\n                params[this._parent_key] = this._key_states.parent_key;\r\n            }\r\n        } else if (this._active_state == \"put\" || this._active_state == \"getprimary\" || this._active_state == \"delete\") {\r\n            params[this._primary_key] = this._key_states.primary_key;\r\n        }\r\n        if (this._to) params.__to = this._to;\r\n        return params;\r\n    }\r\n\r\n    get classes() {\r\n        return this._name.replace(\"_\", \"-\") + \" \" + this._state;\r\n    }\r\n\r\n    get to() {\r\n        return this._to;\r\n    }\r\n\r\n    get state() {\r\n        return this._active_state;\r\n    }\r\n\r\n    get parentkey() {\r\n        return this._parent_key;\r\n    }\r\n\r\n    get primarykey() {\r\n        return this._primary_key;\r\n    }\r\n\r\n    get index() {\r\n        return this._name + \"-\" + this._active_state;\r\n    }\r\n\r\n    get stage() {\r\n        return this.store.stage;\r\n    }\r\n\r\n    get change_intention() {\r\n        return this._change_intention;\r\n    }\r\n\r\n    get map() {\r\n        return {\r\n            model : this._name,\r\n            key : this.key,\r\n            state : this._active_state,\r\n            to : this._to,\r\n            stage : this._stage\r\n        }\r\n    }\r\n\r\n    buildIntention(state, key = null) {\r\n        if (!key) key = this._key;\r\n        this._change_intention = {state : state, key : key, intent : 0};\r\n        if (this._settings.intentions && this._settings.intentions.state) {\r\n            for(let i in this._settings.intentions.state) {\r\n                this._change_intention[i] = this._settings.intentions.state[i];\r\n            }\r\n        }\r\n        //now set any extra values\r\n\r\n    }\r\n\r\n    /*\r\n    init() {\r\n        console.log(\"Groups are \", this.store.groups);\r\n        this._init = true;\r\n        let url = \"/route-\" + this._name;\r\n        let data = {};\r\n        if (this._to) data.__to = this._to;\r\n        return client.get(url, data)\r\n        .then(response => {\r\n            if (response.__status != \"SUCCESS\") {\r\n                throw new Error(response);\r\n            }\r\n\r\n            this.mapResponse(response);\r\n           \r\n            //build parent states\r\n            this._parent_models = [];\r\n            let par = response.to;\r\n            while(par) {\r\n                let pmodel = new Model();\r\n                pmodel.mapResponse(par);\r\n                pmodel.state = \"getprimary\";\r\n                this.store.parent_models.push(pmodel);\r\n                par = par.to;\r\n            }\r\n            this._parent_models = this._parent_models.reverse();\r\n            return response;\r\n        });\r\n    }\r\n*/\r\n\r\n    mapResponse(response) {\r\n        this._name = response.model;\r\n        this.store.model = this._name;\r\n        this._primary_key = response.primarykey;\r\n        this._parent_key = response.parentkey;\r\n        this._children = response.children;\r\n        this.store.children = [];\r\n        for(let child of response.children) {\r\n            this.store.children.push({ r : () => {\r\n                this.buildIntention(\"get\", this._key_states.primary_key);\r\n                this._change_intention.model = child.name;\r\n                this._change_intention.to = this._name;\r\n            }, n : child.label });\r\n        }\r\n\r\n        this.store.siblings = [];\r\n        for(let sibling of response.siblings) {\r\n            this.store.siblings.push({ r : () => {\r\n                this.buildIntention(\"get\", this._key_states.parent_key);\r\n                this._change_intention.model = sibling.name;\r\n            }, n : sibling.label });\r\n        }\r\n\r\n        this._circular = response.circular;\r\n\r\n        this.store.primarykeyname = response.primarykey;\r\n        this.store.parentkeyname = response.parentkey;\r\n        this.store.circular = response.circular;\r\n\r\n        //build parent states\r\n        this.store.fields = {};\r\n        for (let i in response.fields) {\r\n            this.store.fields[i] = new Field(i, response.fields[i]);\r\n            if (this.store.fields[i].type == \"asset\") {\r\n                let asset = new Asset();\r\n                asset.url = this._name + \"-\" + i;\r\n                asset.keyfield = this.store.primarykeyname; \r\n                this.store.fields[i].asset = asset;\r\n            } \r\n        }\r\n\r\n        this._states = response.states;\r\n        this._default_state = response.default_state;\r\n\r\n        this._parent_models = [];\r\n        let par = response.to;\r\n        while(par) {\r\n            let pmodel = new Model({ model : par.model, key : 0 });\r\n            pmodel.mapResponse(par);\r\n            pmodel.state = \"getprimary\";\r\n            this.store.parent_models.push(pmodel);\r\n            par = par.to;\r\n        }\r\n        this._parent_models = this._parent_models.reverse();\r\n    }\r\n\r\n\r\n    load() {\r\n        this.store.data = [];\r\n        for(let field in this.store.fields) {\r\n            this.store.fields[field].val = null;\r\n        }\r\n        if (this._active_state == \"get\") {\r\n            return client.get(this.loadurl, this.params)\r\n            .then(response => {\r\n                if (response.__status != \"SUCCESS\") throw new Error(response);\r\n                this.mapRepoData(response);\r\n            })\r\n            .then(() => {\r\n                if (this.store.parent_models.length > 0) {\r\n                    let parent = this.store.parent_models[0];\r\n                    parent.key = this.key;\r\n                    parent.to = this._to;\r\n                    return client.get(parent.loadurl, parent.params)\r\n                    .then(response => {\r\n                        if (response.__status != \"SUCCESS\") throw new Error(response);\r\n                        let parent = this.store.parent_models[this.store.parent_models.length - 1];\r\n                        parent.mapData(response);\r\n                        for(let i =0, n=this.store.parent_models.length - 1; i<n; ++i) {\r\n                            let parent = this.store.parent_models[i];\r\n                            parent.mapData(response[parent.name]);\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n\r\n        } else if (this._active_state == \"getprimary\" || this._active_state == \"put\") {\r\n            return client.get(this.loadurl, this.params)\r\n            .then(response => {\r\n                if (response.__status != \"SUCCESS\") throw new Error(response);\r\n                \r\n                    this.mapData(response);\r\n\r\n                    for(let parent in this.store.parent_models) {\r\n                        if (response[parent.name]) {\r\n                                //need to set the field data for this\r\n                            parent.mapData(response[parent.name]);\r\n                        }\r\n                    }\r\n            });\r\n        } else if (this._active_state == \"post\" && this.store.parent_models.length > 0) {\r\n            let parent = this.store.parent_models[0];\r\n            parent.keymanager = this._key_states.parent_key;\r\n            parent.to = this._to;\r\n            return client.get(parent.loadurl, parent.params)\r\n            .then(response => {\r\n                if (response.__status != \"SUCCESS\") throw new Error(response);\r\n                let parent = this.store.parent_models[this.store.parent_models.length - 1];\r\n                parent.mapData(response);\r\n                for(let i =0, n=this.store.parent_models.length - 1; i<n; ++i) {\r\n                    let parent = this.store.parent_models[i];\r\n                    parent.mapData(response[parent.name]);\r\n                }\r\n            })\r\n            .catch(e => {\r\n                console.log(e);\r\n            });\r\n        } else {\r\n            return Promise.resolve();\r\n        }\r\n    }\r\n\r\n\r\n    rLoadObj(data) {\r\n        let obj={};\r\n        for(const field in this.store.fields) {\r\n            obj[field] =  data[field];\r\n        }\r\n        if (this._circular && data[this._name]) {\r\n            if (data[this._name]) {\r\n                obj[this._name] = [];\r\n                for(const i in data[this._name]) {\r\n                    obj[this._name].push(this.rLoadObj(data[this._name][i]));\r\n                }\r\n            }\r\n        }\r\n\r\n        for(const i in this._active_children) {\r\n            const name = this._active_children[i];\r\n            if (data[name]) {\r\n                obj[name] = [];\r\n                for(const x in data[name]) {\r\n                    obj[name].push(this.rLoadObj(data[name][x]));\r\n                }\r\n            }\r\n        }\r\n        return obj;\r\n    }\r\n\r\n    rGroupData(data, group) {\r\n        let groups = {};\r\n        for(const key in data) {\r\n            const row = data[key];\r\n            if (Array.isArray(row)) groups[key] = this.rGroupData(row, group);\r\n            else {\r\n                if (!groups[row[group]]) groups[row[group]] = [];\r\n                groups[row[group]].push(row);\r\n            }\r\n        }\r\n        return groups;\r\n    }\r\n\r\n    mapRepoData(response) {\r\n        this.store.data = [];\r\n        for (const i in response.__data) {\r\n            const data = this.rLoadObj(response.__data[i]);\r\n            this.store.data.push(data);\r\n        }\r\n\r\n        \r\n        //now we need to group the data by\r\n        for(const group of this.store.groups) {\r\n            this.store.data = this.rGroupData(this.store.data, group);\r\n        }\r\n    }\r\n\r\n    mapData(data) {\r\n        for(const i in this.store.fields) {\r\n            this.store.fields[i].val = (data[i]) ? data[i] : null;\r\n        }\r\n    }\r\n\r\n    buildlink = (state) => {\r\n        return () => {\r\n            this.buildIntention(state);\r\n        }\r\n    }\r\n\r\n\r\n    loadState() {\r\n        this.store.actions = [];\r\n        this.store.component = \"\";\r\n        this.store.rawcomponent = \"\";\r\n        this.store.data = [];\r\n        this.store.title = this._states[this._active_state].title;\r\n        this.store.label = this._states[this._active_state].label;\r\n        this.store.action = this._active_state;\r\n        this.store.method = this.store.action;\r\n        this.store.submiturl = this.saveurl;\r\n        this.store.primarykey = () => {\r\n            return this._key_states.primary_key;\r\n        }\r\n\r\n        this.store.addKeys = () => {};\r\n        this.store.resolveKeys = () => {};\r\n\r\n        for(let i in this.store.fields) {\r\n            this.store.fields[i].on = false;\r\n        }\r\n    \r\n        let states = {\r\n            'get': () => {\r\n                this.store.actions = [];\r\n                if (this._states.post) {\r\n                    this.store.actions.push({ r: this.buildlink(\"post\"), n: this._states.get.actions.post });\r\n                }\r\n\r\n                this.store.rawcomponent = (this.store.groups.length > 0) ? \"ptj-list\" : (this._circular || this._active_children.length > 0) ? \"ptj-tree\" : \"ptj-table\";\r\n                /*\r\n                if (this._states.getprimary) {\r\n                    actions.getprimary = { r : this.buildlink(\"getprimary\", params), n : this._states.getprimary.label };\r\n                } else {\r\n                    if (this._states.put) {\r\n                        actions.push({ r : this.buildlink(\"put\", params), n : this._states.put.label });\r\n                    }\r\n                    if (this._states.delete) {\r\n                        actions.push({ r : this.buildlink(\"delete\", params), n : this._states.delete.label });\r\n                    }\r\n                }\r\n                */\r\n               this.store.component = \"ptj-repo\";\r\n               this.store.index = this._name + \"-get\";\r\n               this.store.reload = () => { this.load(); };\r\n\r\n               this.store.next = (key) => {\r\n                    if (this._states.getprimary) {\r\n                        this.buildIntention(\"getprimary\", key);\r\n                    } else if (this._states.put) {\r\n                        this.buildIntention(\"put\", key);\r\n                    }\r\n                    this.store.active_repo = [];\r\n                }\r\n\r\n                this.store.addKeys = data => {\r\n\r\n                };\r\n\r\n                for(let i in this.store.fields) {\r\n                    if (i == this.primarykey || this.store.fields[i].summary) {\r\n                        this.store.fields[i].on = true;\r\n                    }\r\n                }\r\n\r\n\r\n                this.store.submiturl = this.loadurl;\r\n            },\r\n            'getprimary': () => {\r\n                this.store.actions = [];\r\n                this.store.index = this._name + \"-getprimary\";\r\n                if (this._states.put) {\r\n                    this.store.actions.push({ r: this.buildlink(\"put\"), n: this._states.getprimary.actions.put });\r\n                }\r\n                if (this._states.delete) {\r\n                    this.store.actions.push({ r: async () => {\r\n                        if (confirm(\"Are you sure you want to delete this record and all associated children?\")) {\r\n                            let data = {};\r\n                            data[this._primary_key] = this._key_states.primary_key;\r\n                            await client.delete(\"/\" + this._name, data);\r\n                            this.buildIntention(\"get\", this._key_states.parent_key);\r\n                        }\r\n                    }, n: this._states.getprimary.actions.delete });\r\n                }\r\n                this.store.component = \"ptj-single-item\";\r\n                for(let i in this.store.fields) {\r\n                    this.store.fields[i].on = true;\r\n                }\r\n\r\n            },\r\n            'post': () => {\r\n                this.store.component = (this._states.login) ? \"ptj-account-handler\" : \"ptj-form\";\r\n                this.store.index = this._name + \"-post\";\r\n                this.store.actions = [];\r\n                if (this._states.login) {\r\n                    this.store.actions.push({ r: this.buildlink(\"login\"), n: this._states.post.actions.login });\r\n                }\r\n\r\n                this.store.next = () => {\r\n                    this.buildIntention(\"get\");\r\n                };\r\n\r\n                for(let name of this._states.post.fields) {\r\n                    this.store.fields[name].on = true;\r\n                }\r\n\r\n                this.store.addKeys = data => {\r\n                    data[this._parent_key] = this._key_states.parent_key;\r\n                };\r\n\r\n                this.store.resolveKeys = data => {\r\n                    this._key_states.primary_key = data[this._primary_key];\r\n                }\r\n            },\r\n            'put': () => {\r\n                this.store.component = \"ptj-form\";\r\n                this.store.index = this._name + \"-put\";\r\n                this.store.actions = [];\r\n                this.store.next = () => {\r\n                    if (this._states.getprimary) {\r\n                        this.buildIntention(\"getprimary\");\r\n                    } else {\r\n                        this.buildIntention(\"get\");\r\n                    }\r\n                }\r\n                for(let name of this._states.put.fields) {\r\n                    this.store.fields[name].on = true;\r\n                }\r\n\r\n                this.store.addKeys = data => {\r\n                    data[this._primary_key] = this._key_states.primary_key;\r\n                };\r\n            },\r\n            'login': () => {\r\n                this.store.component = \"ptj-account-handler\";\r\n                this.store.index = this._name + \"-login\";\r\n                this.store.actions = [];\r\n                if (this._states.post) {\r\n                    this.store.actions.push({ r: this.buildlink(\"post\"), n: this._states.login.actions.post });\r\n                }\r\n                for(let name of this._states.login.fields) {\r\n                    this.store.fields[name].on = true;\r\n                }\r\n                this.store.method = \"post\";\r\n                this.store.submiturl += \"-login\";\r\n                this.store.next = null;\r\n            }\r\n        }\r\n\r\n        states[this._active_state]();\r\n    }\r\n    \r\n}","function decodeParams() {\r\n    const params = new URLSearchParams(window.location.search);\r\n    let param_obj = {};\r\n    params.forEach(function(value, key) {\r\n        if (key == \"graph\") {\r\n            let graph_obj = JSON.parse(decodeURIComponent(value));\r\n            param_obj = { ...param_obj, ...graph_obj};\r\n        } else {\r\n            param_obj[key] = value;\r\n        }\r\n    });\r\n    return param_obj;\r\n} \r\n\r\n\r\nfunction encodeParams(params) {\r\n    let graph = {};\r\n    let cstr = [];\r\n    for(let i in params) {\r\n        if (typeof params[i] === 'object' && params[i]) {\r\n            graph[i] = params[i];\r\n        } else if (Array.isArray(params[i])) {\r\n            graph[i] = params[i];\r\n        } else {\r\n            cstr.push(i + \"=\" + encodeURIComponent(params[i]));\r\n        }\r\n    }\r\n\r\n    if (Object.keys(graph).length > 0) cstr.push( \"graph=\" + encodeURIComponent(JSON.stringify(graph)));\r\n    return cstr.join(\"&\");\r\n}\r\n\r\nfunction mapParams(url, params) {\r\n    for(let i in params) {\r\n        const key = \"${\" + i + \"}\";\r\n        const regex = new RegExp(key, \"g\");\r\n        url = url.replace(regex, params[i]);\r\n    }\r\n    return url;\r\n}\r\n\r\nexport default {\r\n    encodeParams,\r\n    decodeParams,\r\n    mapParams\r\n}","import Params from \"./params.js\"\r\n\r\n\r\nconst action_map = {\r\n    'post' : '-create',\r\n    'put' : '-update',\r\n    'delete' : '-delete',\r\n    'login' : '-login',\r\n    'logout' : '-logout',\r\n    'getprimary' : '-primary',\r\n    'get' : ''\r\n};\r\n\r\nclass CtrlGroupMap {\r\n\r\n    constructor() {\r\n        this._model;\r\n        this._state = \"\";\r\n        this._key = 0;\r\n        this._to;\r\n    }\r\n\r\n    set model(model) {\r\n        this._model = model;\r\n    }\r\n\r\n    set state(state) {\r\n        this._state = state;\r\n    }\r\n\r\n    set key(key) {\r\n        this._key = key;\r\n    }\r\n\r\n    set to(to) {\r\n        this._to = to;\r\n    }\r\n\r\n    get model() {\r\n        return this._model;\r\n    }\r\n\r\n    get state() {\r\n        return this._state;\r\n    }\r\n\r\n    get key() {\r\n        return this._key;\r\n    }\r\n\r\n    get to() {\r\n        return this._to;\r\n    }\r\n\r\n    swap(map) {\r\n        this._model = map.model;\r\n        this._state = map.state;\r\n        this._key = map.key;\r\n        this._to = map.to;\r\n    }\r\n\r\n\r\n    convertToURL() {\r\n        let model = this._model;\r\n        let state = this._state;\r\n        let key = this._key;\r\n        let to = this._to;\r\n\r\n        let url = model + action_map[state];\r\n        if (key) url += \"-\" + key;\r\n        if (to) url += \"-to-\" + to;\r\n        return url;\r\n    }\r\n\r\n    convertFromURL(url) {\r\n        if (!url) return;\r\n        let parts = url.split(\"-to-\");\r\n        if (parts.length > 1) {\r\n            this._to = parts[1];\r\n            url = parts[0];\r\n        }\r\n        parts = url.split(\"-\");\r\n        let key = parseInt(parts[parts.length - 1]);\r\n        if (isNaN(key)) this._key = 0;\r\n        else {\r\n            parts.pop();\r\n            this._key = key;\r\n        }\r\n        \r\n        if (parts.length == 0) {\r\n            throw new Error(\"Can't convert this url string: \" + url);\r\n        }\r\n        for(let i in action_map) {\r\n            if (action_map[i] == \"-\" + parts[parts.length - 1]) {\r\n                this._state = i\r\n                parts.pop();\r\n                break;\r\n            }\r\n        }\r\n        this._model = parts.join(\"-\");\r\n    }\r\n}\r\n\r\nlet maps = [];\r\nlet trigger_cb = null;\r\nlet route_base = \"\";\r\nlet params = {};\r\n\r\nfunction regParam(name, val) {\r\n    params[name] = val;\r\n}\r\n\r\nfunction removeParam(name) {\r\n    delete params[name];\r\n}\r\n\r\n\r\nfunction resetMaps() {\r\n    maps = [];\r\n}\r\n\r\nfunction trigger(trig) {\r\n    trigger_cb = trig;\r\n}\r\n\r\nfunction createMap() {\r\n    let map = new CtrlGroupMap();\r\n    maps.push(map);\r\n    return map;\r\n}\r\n\r\nfunction convertToURL() {\r\n    let str_parts = [];\r\n    for(let map of maps) {\r\n        str_parts.push(map.convertToURL());\r\n    }\r\n    let url = route_base + \"/\" + str_parts.join(\"/\");\r\n\r\n    const param_str = Params.encodeParams(params);\r\n    if (param_str) url += \"?\" + param_str;\r\n\r\n    return url;\r\n}\r\n\r\nfunction convertFromURL(url) {\r\n    url = url.replace(route_base, \"\");\r\n    url = url.replace(/^\\/+|\\/+$/g, '');\r\n    let parts = url.split(\"/\");\r\n    maps = [];\r\n    for(let i in parts) {\r\n        let map = createMap();\r\n        map.convertFromURL(parts[i]);\r\n    }\r\n    if (trigger_cb) trigger_cb();\r\n}\r\n\r\n\r\nfunction setBase(base) {\r\n    //trim any leading or trailing / so we can be sure we are dealing with the correct format\r\n    base = base.replace(/^\\/+|\\/+$/g, '');\r\n    route_base = \"/\" + base;\r\n}\r\n\r\nfunction getMaps() {\r\n    return maps;\r\n}\r\n\r\n\r\n\r\n\r\nexport default {\r\n    trigger,\r\n    resetMaps,\r\n    createMap,\r\n    convertToURL,\r\n    convertFromURL,\r\n    setBase,\r\n    getMaps\r\n}","\r\nconst history = [];\r\nlet cb;\r\n\r\n\r\n\r\nfunction setRoute(uri, title = '') {\r\n    history.push({ r : uri, label : title });\r\n    window.history.pushState({'name' : uri}, document.title, uri);\r\n    runRoute(uri);\r\n}\r\n\r\n\r\nfunction hardSetRoute(route) {\r\n    window.location = route;\r\n}\r\n\r\n\r\nwindow.onpopstate = function() {\r\n    runRoute(document.location.pathname);\r\n}\r\n\r\n\r\nfunction runRoute(uri) {\r\n    if (!uri) uri = window.location.pathname;\r\n    if (cb) cb(uri);\r\n}\r\n\r\nfunction regCallback(callback) {\r\n    cb = callback;\r\n}\r\n\r\n\r\n\r\n\r\nexport default {\r\n    setRoute,\r\n    hardSetRoute,\r\n    runRoute,\r\n    regCallback\r\n}","import { reactive } from \"vue\"\r\nimport { Model } from \"./model.js\"\r\nimport Map from \"./ctrlmap.js\"\r\nimport Client from \"./client.js\"\r\nimport Router from \"./router.js\"\r\n\r\nlet _store = reactive({ 'models' : [], profile : null });\r\nlet _settings = {};\r\nlet _models = [];\r\nlet _profile;\r\nlet _seeker = -1;\r\n\r\n\r\nfunction setSettings(settings) {\r\n    if (settings.client) {\r\n        Client.setURL(settings.client.url);\r\n        if (settings.client.custom_headers) {\r\n            for(let i in settings.client.custom_headers) {\r\n                Client.regCustomHeader(i, settings.client.custom_headers[i]);\r\n            }\r\n        }\r\n    \r\n        if (settings.client.debug) {\r\n            Client.regDebug(true);\r\n        }\r\n    \r\n        Client.regStatusHandler(403, function() {\r\n            alert(\"Page not found\");\r\n        });\r\n    }\r\n    \r\n    if (settings.mapper) {\r\n        if (settings.mapper.base) Map.setBase(settings.mapper.base);\r\n    }\r\n\r\n    if (settings.models) _settings = settings.models;\r\n}\r\n\r\n\r\nfunction initProfile() {\r\n    return Client.get(\"/core-check-user\")\r\n    .then(response => {\r\n        _profile = response.__profile;\r\n        _store.profile = _profile;\r\n        return _profile;\r\n    });\r\n}\r\n\r\nfunction assumeRole(role) {\r\n    return Client.post('/core-assume-role', { 'role' : role })\r\n    .then(request => {\r\n        _profile = request.__profile;\r\n        return request.__profile;\r\n    });\r\n}\r\n\r\nfunction removeRole() {\r\n    return Client.post('/core-remove-role')\r\n    .then(request => {\r\n        _profile = request.__profile;\r\n        return request.__profile;\r\n    });\r\n}\r\n\r\nfunction buildModel(map, stage) {\r\n    let url = (!map.model) ? \"/route-core-default\" : \"/route-\" + map.model;\r\n    let data = {};\r\n    if (map.to) data.__to = map.to;\r\n    return Client.get(url, data)\r\n    .then(response => {\r\n        if (response.__status != \"SUCCESS\") {\r\n            throw new Error(response);\r\n        }\r\n        let model_name = response.model;\r\n        let model = new Model();\r\n        if (_settings[model_name]) model.injectCustomSettings(_settings[model_name]);\r\n        if (_settings[_profile] && _settings[_profile][model_name]) {\r\n            model.injectCustomSettings(_settings[_profile][model_name]);\r\n        }\r\n        model.mapResponse(response);\r\n        model.state = map.state;\r\n        model.key = map.key;\r\n        model.stage = stage;\r\n        _models[stage] = model;\r\n        return model;\r\n    })\r\n    .then(model=> {\r\n        return model.load();\r\n    });\r\n    \r\n}\r\n\r\nfunction run() {\r\n    _seeker = -1;\r\n    let maps = Map.getMaps();\r\n    if (maps.length == 0) {\r\n        throw new Error(\"Error with controller run, no maps created\");\r\n    }\r\n    _store.models = [];\r\n    let promises = [];\r\n\r\n    if (_models.length > maps.length) _models.splice(maps.length, _models.length - maps.length);\r\n    for (let i in maps) {\r\n        const map = maps[i];\r\n        let model, promise;\r\n        if (i >= _models.length || _models[i].name != map.model) {\r\n            promise = buildModel(map, i);\r\n        } else {\r\n            model = _models[i];\r\n            if (model.state != map.state) {\r\n                model.state = map.state;\r\n                model.key = map.key;\r\n            }\r\n            promise = _models[i].load()\r\n            .catch(e => console.log(e));\r\n        }\r\n        promises.push(promise);\r\n    }\r\n\r\n    //check the last map to see if it needs a child group\r\n    //omap will be one before last\r\n    Promise.all(promises)\r\n    .then(() => {\r\n        for(let model of _models) {\r\n            _store.models.push(model);\r\n        }\r\n    })\r\n    .catch(e => {\r\n        console.log(e);\r\n    })    \r\n}\r\n\r\nfunction buildLink() {\r\n    Map.resetMaps();\r\n    let omaps = [];\r\n    let changes = [];\r\n    for(let i in _models) {\r\n        let model = _models[i];\r\n        omaps.push(model.map);\r\n        changes.push(model.change_intention);\r\n    }\r\n\r\n    for (let i =0,n=changes.length; i<n; ++i) {\r\n        let change = changes[i];\r\n        if (!change) continue;\r\n        let ni = i + change.intent;\r\n        if (ni < 0 || ni >= omaps.length) continue;\r\n        if (change.model) omaps[ni].model = change.model;\r\n        if (change.state) omaps[i].state = change.state;\r\n        if (change.to) omaps[i].to = change.to;\r\n        if (change.key) omaps[i].key = change.key;\r\n        if (change.end) {\r\n            omaps.splice(i + 1, omaps.length);\r\n            break;\r\n        }\r\n    }\r\n\r\n    for(const omap of omaps) {\r\n        let cmap = Map.createMap();\r\n        for(let i in omap) {\r\n            cmap[i] = omap[i];\r\n        }\r\n    }\r\n    let url = Map.convertToURL();\r\n    Router.setRoute(url);\r\n}\r\n\r\nfunction runLink() {\r\n    Map.runRoute();\r\n}\r\n\r\n\r\nfunction runData(uri = null) {\r\n    if (!uri) uri = window.location.pathname;\r\n    Map.convertFromURL(uri);\r\n}\r\n\r\n\r\n\r\nfunction reloadFromBase() {\r\n    Map.resetMaps();\r\n    let url = Map.convertToURL();\r\n    Router.hardSetRoute(url);\r\n}\r\n\r\n\r\nfunction getStore() {\r\n    return _store.models[_seeker].store;\r\n}\r\n\r\n\r\nfunction next() {\r\n    ++_seeker;\r\n}\r\n\r\nMap.trigger(() => {\r\n    run();\r\n});\r\n\r\nRouter.regCallback(Map.convertFromURL)\r\n\r\nexport default {\r\n    store : _store,\r\n    models : _models,\r\n    setSettings,\r\n    initProfile,\r\n    assumeRole,\r\n    removeRole,\r\n    run,\r\n    buildModel,\r\n    buildLink,\r\n    runLink,\r\n    runData,\r\n    reloadFromBase,\r\n    getStore,\r\n    next\r\n}\r\n","let classes_dict = {\r\n    'ptj-account-details-logout' : \"ptj-account-details-logout\",\r\n    'ptj-account-handler' : 'ptj-account-handler',\r\n    'ptj-breadcrumbs' : 'ptj-breadcrumbs',\r\n    'ptj-card' : 'ptj-card',\r\n    'ptj-card-row' : 'ptj-card-row',\r\n    'ptj-card-label' : 'ptj-card-label',\r\n    'ptj-card-value' : 'ptj-card-value',\r\n    'ptj-form' : 'ptj-form',\r\n    'ptj-form-title' : 'ptj-form-title',\r\n    'ptj-form-error' : 'ptj-form-error',\r\n    'ptj-form-group' : 'ptj-form-group',\r\n    'ptj-form-submit' : 'ptj-form-submit',\r\n    'ptj-root' : 'ptj-root',\r\n    'ptj-tabs' : 'ptj-tabs',\r\n    'ptj-tabs-card' : 'ptj-tabs-card',\r\n    'ptj-tabs-tab' : 'ptj-tabs-tab',\r\n    'ptj-repo' : 'ptj-repo',\r\n    'ptj-nav' : 'ptj-nav',\r\n    'ptj-nav-link' : 'ptj-nav-link',\r\n    'ptj-single-item' : 'ptj-single-item',\r\n    'ptj-single-item-row' : 'ptj-single-item-row',\r\n    'ptj-single-item-label' : 'ptj-single-item-label',\r\n    'ptj-single-item-value' : 'ptj-single-item-value',\r\n    'ptj-single-item-actions' : 'ptj-single-item-actions',\r\n    'ptj-single-item-children' : 'ptj-single-item-children',\r\n    'ptj-widget-window' : 'ptj-widget-window',\r\n    'ptj-widget-window-header' : 'ptj-widget-window-header',\r\n    'ptj-widget-window-title' : 'ptj-widget-window-title',\r\n    'ptj-widget-window-toggle' : 'ptj-widget-window-toggle',\r\n    'ptj-widget-window-body' : 'ptj-widget-window-body',\r\n    'ptj-repo-header-title' : 'ptj-repo-header-title',\r\n    'ptj-repo-header-actions' : 'ptj-repo-header-actions',\r\n    'ptj-tree' : 'ptj-tree',\r\n    'ptj-form-row' : 'ptj-form-row',\r\n    'ptj-form-input-row' : 'ptj-form-input-row',\r\n    'ptj-form-input-label' : 'ptj-form-input-label',\r\n    'ptj-form-input' : 'ptj-form-input',\r\n    'ptj-table' : 'ptj-table',\r\n    'ptj-table-header' : 'ptj-table-header',\r\n    'ptj-table-header-cell' : 'ptj-table-header-cell',\r\n    'ptj-table-row' : 'ptj-table-row',\r\n    'ptj-table-cell' : 'ptj-table-cell',\r\n    'ptj-table-cell-sortable' : 'ptj-table-cell-sortable',\r\n    'ptj-form-confirm-row' : 'ptj-form-confirm-row',\r\n    'ptj-form-confirm-label' : 'ptj-form-confirm-label',\r\n    'ptj-form-confirm' : 'ptj-form-confirm',\r\n    'ptj-pagination' : 'ptj-pagination',\r\n    'ptj-filter-form' : 'ptj-filter-form',\r\n    'ptj-filter-form-group' : 'ptj-filter-form-group',\r\n    'ptj-filter-form-submit' : 'ptj-filter-form-submit',\r\n    'ptj-form-select-row' : 'ptj-form-select-row',\r\n    'ptj-form-select-label' : 'ptj-form-select-label',\r\n    'ptj-form-select' : 'ptj-form-select',\r\n    'ptj-tree-node' : 'ptj-tree-node',\r\n    'ptj-tree-node-row' : 'ptj-tree-node-row',\r\n    'ptj-selectfields' : 'ptj-selectfields',\r\n    'ptj-selectfields-checkbox' : 'ptj-selectfields-checkbox',\r\n    'ptj-selectfields-label' : 'ptj-selectfields-label',\r\n    'ptj-form-radio-row' : 'ptj-form-radio-row',\r\n    'ptj-form-radio-label' : 'ptj-form-radio-label',\r\n    'ptj-form-radio-option-label' : 'ptj-form-radio-option-label',\r\n    'ptj-checkbox-row' : 'ptj-checkbox-row',\r\n    'ptj-checkbox-label' : 'ptj-checkbox-label',\r\n    'ptj-checkbox' : 'ptj-checkbox',\r\n    'ptj-form-textarea-row' : 'ptj-form-textarea-row',\r\n    'ptj-form-textarea-label' : 'ptj-form-textarea-label',\r\n    'ptj-form-textarea' : 'ptj-form-textarea',\r\n    'ptj-form-asset-row' : 'ptj-form-asset-row',\r\n    'ptj-form-asset-label' : 'ptj-form-asset-label',\r\n    'ptj-form-asset' : 'ptj-form-asset',\r\n    'ptj-progress-bar-wrapper' : 'ptj-progress-bar-wrapper',\r\n    'ptj-progress-bar-holder' : 'ptj-progress-bar-holder',\r\n    'ptj-progress-bar' : 'ptj-progress-bar',\r\n    'ptj-error' : 'ptj-error',\r\n    'ptj-filter-form-time-row' : 'ptj-filter-form-time-row',\r\n    'ptj-filter-form-time-label' : 'ptj-filter-form-time-label',\r\n    'ptj-filter-form-time-1' : 'ptj-filter-form-time-1',\r\n    'ptj-filter-form-time-2' : 'ptj-filter-form-time-2',\r\n    'ptj-filter-form-checkbox-row' : 'ptj-filter-form-checkbox-row',\r\n    'ptj-filter-form-checkbox-label' : 'ptj-filter-form-checkbox-label',\r\n    'ptj-filter-form-checkbox' : 'ptj-filter-form-checkbox',\r\n    'ptj-account-details-logout' : 'ptj-account-details-logout',\r\n    'ptj-accounthandler' : 'ptj-accounthandler'\r\n};\r\n\r\nfunction regClass(name, value) {\r\n    classes_dict[name] = value;\r\n}\r\n\r\nfunction getClass(name) {\r\n    return classes_dict[name];\r\n} \r\n\r\nexport default {\r\n    regClass,\r\n    getClass\r\n}","<template>\r\n    <p :class=\"Class.getClass('ptj-error')\">{{ error }}</p>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { defineComponent } from 'vue'\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n    name : 'ptj-error',\r\n    props : {\r\n        'error' : String\r\n    },\r\n    setup() { \r\n        return { Class }\r\n    }\r\n});\r\n\r\n</script>\r\n\r\n<style>\r\n.error {\r\n  color : red;\r\n}\r\n</style>","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","<template>\r\n    <p :class=\"Class.getClass('ptj-error')\">{{ error }}</p>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { defineComponent } from 'vue'\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n    name : 'ptj-error',\r\n    props : {\r\n        'error' : String\r\n    },\r\n    setup() { \r\n        return { Class }\r\n    }\r\n});\r\n\r\n</script>\r\n\r\n<style>\r\n.error {\r\n  color : red;\r\n}\r\n</style>","<template>\r\n  <div :class=\"Class.getClass('ptj-form-row') + ' ' + Class.getClass('ptj-form-input-row') + ' ' + field.name\">\r\n    <label v-if=\"field.atts.type != 'hidden'\" :class=\"Class.getClass('ptj-form-input-label')\">{{ field.label }}</label>\r\n    <input :class=\"Class.getClass('ptj-form-input')\" :name=\"field.name\" :type=\"field.atts.type\" v-model=\"field.val\" @blur=\"field.validateon = true\" :readonly=\"field.readonly\">\r\n    <ptj-error v-show=\"field.showError\" :error=\"field.error\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from 'vue'\r\nimport GCError from \"./ptj-error.vue\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-input',\r\n  props : {\r\n    field : Object\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  },\r\n  components : {\r\n      'ptj-error' : GCError\r\n  }\r\n});\r\n</script>\r\n","<template>\r\n  <div :class=\"Class.getClass('ptj-form-row') + ' ' + Class.getClass('ptj-form-input-row') + ' ' + field.name\">\r\n    <label v-if=\"field.atts.type != 'hidden'\" :class=\"Class.getClass('ptj-form-input-label')\">{{ field.label }}</label>\r\n    <input :class=\"Class.getClass('ptj-form-input')\" :name=\"field.name\" :type=\"field.atts.type\" v-model=\"field.val\" @blur=\"field.validateon = true\" :readonly=\"field.readonly\">\r\n    <ptj-error v-show=\"field.showError\" :error=\"field.error\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from 'vue'\r\nimport GCError from \"./ptj-error.vue\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-input',\r\n  props : {\r\n    field : Object\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  },\r\n  components : {\r\n      'ptj-error' : GCError\r\n  }\r\n});\r\n</script>\r\n","<template>\r\n  <div :class=\"Class.getClass('ptj-form-row') + ' ' + Class.getClass('ptj-form-confirm-row')\">\r\n    <label :class=\"Class.getClass('ptj-form-confirm-label')\">{{ field.label }}</label>\r\n    <input :class=\"Class.getClass('ptj-form-confirm')\" :name=\"name\" :type=\"field.atts.type\" v-model=\"cval\" @blur=\"field.setValidateOn()\">\r\n    <ptj-error v-show=\"error\" :error=\"error\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from 'vue'\r\nimport GCError from \"./ptj-error.vue\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-confirm',\r\n  props : {\r\n    field : Object\r\n  },\r\n  data() {\r\n      return {\r\n          cval : \"\"\r\n      }\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  },\r\n  computed : {\r\n    name() {\r\n        return this.field.name + \"_confirm\";\r\n    },\r\n    error() {\r\n        if (this.isvalidateon) {\r\n            if (this.field.val == this.cval) return \"\";\r\n            else return \"Doesn't match \" + this.field.name; \r\n        }      \r\n    }\r\n  },\r\n  components : {\r\n      'ptj-error' : GCError\r\n  }\r\n});\r\n</script>\r\n","<template>\r\n  <div :class=\"Class.getClass('ptj-form-row') + ' ' + Class.getClass('ptj-form-confirm-row')\">\r\n    <label :class=\"Class.getClass('ptj-form-confirm-label')\">{{ field.label }}</label>\r\n    <input :class=\"Class.getClass('ptj-form-confirm')\" :name=\"name\" :type=\"field.atts.type\" v-model=\"cval\" @blur=\"field.setValidateOn()\">\r\n    <ptj-error v-show=\"error\" :error=\"error\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from 'vue'\r\nimport GCError from \"./ptj-error.vue\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-confirm',\r\n  props : {\r\n    field : Object\r\n  },\r\n  data() {\r\n      return {\r\n          cval : \"\"\r\n      }\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  },\r\n  computed : {\r\n    name() {\r\n        return this.field.name + \"_confirm\";\r\n    },\r\n    error() {\r\n        if (this.isvalidateon) {\r\n            if (this.field.val == this.cval) return \"\";\r\n            else return \"Doesn't match \" + this.field.name; \r\n        }      \r\n    }\r\n  },\r\n  components : {\r\n      'ptj-error' : GCError\r\n  }\r\n});\r\n</script>\r\n","<template>\r\n  <div :class=\"Class.getClass('ptj-form-row') + ' ' + Class.getClass('ptj-form-select-row')\">\r\n  <label :class=\"Class.getClass('ptj-form-select-label')\">{{ field.label }}</label>\r\n  <select :class=\"Class.getClass('ptj-form-select')\" v-model=\"field.val\" :readonly=\"field.readonly\" :name=\"field.name\" :multiple=\"field.multiple\">\r\n    <option value=\"0\">Select Option</option>\r\n    <option v-for=\"option in field.options\" :key=\"option.key\" :value=\"option.key\">{{ option.value }}</option>\r\n  </select>\r\n  <ptj-error v-show=\"field.showError\" :error=\"field.error\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, ref } from 'vue'\r\nimport GCError from \"./ptj-error.vue\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n   props : {\r\n    field : Object\r\n  },\r\n  setup(props) {\r\n       return { Class };\r\n  },\r\n  components : {\r\n      'ptj-error' : GCError\r\n  }\r\n});\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n</style>","<template>\r\n  <div :class=\"Class.getClass('ptj-form-row') + ' ' + Class.getClass('ptj-form-select-row')\">\r\n  <label :class=\"Class.getClass('ptj-form-select-label')\">{{ field.label }}</label>\r\n  <select :class=\"Class.getClass('ptj-form-select')\" v-model=\"field.val\" :readonly=\"field.readonly\" :name=\"field.name\" :multiple=\"field.multiple\">\r\n    <option value=\"0\">Select Option</option>\r\n    <option v-for=\"option in field.options\" :key=\"option.key\" :value=\"option.key\">{{ option.value }}</option>\r\n  </select>\r\n  <ptj-error v-show=\"field.showError\" :error=\"field.error\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, ref } from 'vue'\r\nimport GCError from \"./ptj-error.vue\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n   props : {\r\n    field : Object\r\n  },\r\n  setup(props) {\r\n       return { Class };\r\n  },\r\n  components : {\r\n      'ptj-error' : GCError\r\n  }\r\n});\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n</style>","<template>\r\n    <div :class=\"Class.getClass('ptj-form-row') + ' ' + Class.getClass('ptj-form-radio-row')\">\r\n      <label :class=\"Class.getClass('ptj-form-radio-label')\">{{ field.label }}</label>\r\n        <div v-for=\"option in field.options\" :key=\"option\">\r\n            <label :class=\"Class.getClass('ptj-form-radio-option-label')\">{{ option.option }}</label>\r\n            <input :name=\"cfield.name\" type=\"radio\" :value=\"option.value\" v-model=\"field.val\">\r\n        </div>\r\n        <ptj-error v-show=\"field.error\" :error=\"field.error\" />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { defineComponent } from 'vue'\r\nimport GCError from \"./ptj-error.vue\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-radio',\r\n  props : {\r\n    field : Object\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  },\r\n  data() {\r\n      return {\r\n          isvalidateon : false\r\n      }\r\n  },\r\n  methods : {\r\n      setValidateOn() {\r\n          this.isvalidateon = true;\r\n      }\r\n  },\r\n  components : {\r\n      'ptj-error' : GCError\r\n  }\r\n});\r\n</script>\r\n\r\n\r\n","<template>\r\n    <div :class=\"Class.getClass('ptj-form-row') + ' ' + Class.getClass('ptj-form-radio-row')\">\r\n      <label :class=\"Class.getClass('ptj-form-radio-label')\">{{ field.label }}</label>\r\n        <div v-for=\"option in field.options\" :key=\"option\">\r\n            <label :class=\"Class.getClass('ptj-form-radio-option-label')\">{{ option.option }}</label>\r\n            <input :name=\"cfield.name\" type=\"radio\" :value=\"option.value\" v-model=\"field.val\">\r\n        </div>\r\n        <ptj-error v-show=\"field.error\" :error=\"field.error\" />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { defineComponent } from 'vue'\r\nimport GCError from \"./ptj-error.vue\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-radio',\r\n  props : {\r\n    field : Object\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  },\r\n  data() {\r\n      return {\r\n          isvalidateon : false\r\n      }\r\n  },\r\n  methods : {\r\n      setValidateOn() {\r\n          this.isvalidateon = true;\r\n      }\r\n  },\r\n  components : {\r\n      'ptj-error' : GCError\r\n  }\r\n});\r\n</script>\r\n\r\n\r\n","<template>\r\n  <div :class=\"Class.getClass('ptj-form-row') + ' ' + Class.getClass('ptj-checkbox-row')\">\r\n    <label :class=\"Class.getClass('ptj-checkbox-label')\">{{ field.label }}</label>\r\n    <input :class=\"Class.getClass('ptj-checkbox')\" type=\"checkbox\" :true-value=\"1\" :false-value=\"0\" :name=\"field.name\" v-model=\"field.val\">\r\n    <ptj-error v-show=\"field.showError\" :error=\"field.error\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { defineComponent } from 'vue'\r\nimport GCError from \"./ptj-error.vue\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-checkbox',\r\n   props : {\r\n    field : Object\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  },\r\n  components : {\r\n      'ptj-error' : GCError\r\n  }\r\n});\r\n</script>\r\n","<template>\r\n  <div :class=\"Class.getClass('ptj-form-row') + ' ' + Class.getClass('ptj-checkbox-row')\">\r\n    <label :class=\"Class.getClass('ptj-checkbox-label')\">{{ field.label }}</label>\r\n    <input :class=\"Class.getClass('ptj-checkbox')\" type=\"checkbox\" :true-value=\"1\" :false-value=\"0\" :name=\"field.name\" v-model=\"field.val\">\r\n    <ptj-error v-show=\"field.showError\" :error=\"field.error\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { defineComponent } from 'vue'\r\nimport GCError from \"./ptj-error.vue\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-checkbox',\r\n   props : {\r\n    field : Object\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  },\r\n  components : {\r\n      'ptj-error' : GCError\r\n  }\r\n});\r\n</script>\r\n","<template>\r\n    <div :class=\"Class.getClass('ptj-form-row') + ' ' + Class.getClass('ptj-form-textarea-row') + ' ' + field.name.replace('_', '-')\">\r\n       <label :class=\"Class.getClass('ptj-form-textarea-label')\">{{ field.label }}</label>\r\n       <textarea :class=\"Class.getClass('ptj-form-textarea')\" :name=\"field.name\" v-model=\"field.val\" :readonly=\"field.readonly\" :data-html=\"field.atts.html\"></textarea>        \r\n       <ptj-error v-show=\"field.error\" :error=\"field.error\" />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { defineComponent } from 'vue'\r\nimport GCError from \"./ptj-error.vue\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-textarea',\r\n  props : {\r\n    field : Object\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  },\r\n  components : {\r\n      'ptj-error' : GCError\r\n  }\r\n});\r\n</script>\r\n","<template>\r\n    <div :class=\"Class.getClass('ptj-form-row') + ' ' + Class.getClass('ptj-form-textarea-row') + ' ' + field.name.replace('_', '-')\">\r\n       <label :class=\"Class.getClass('ptj-form-textarea-label')\">{{ field.label }}</label>\r\n       <textarea :class=\"Class.getClass('ptj-form-textarea')\" :name=\"field.name\" v-model=\"field.val\" :readonly=\"field.readonly\" :data-html=\"field.atts.html\"></textarea>        \r\n       <ptj-error v-show=\"field.error\" :error=\"field.error\" />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { defineComponent } from 'vue'\r\nimport GCError from \"./ptj-error.vue\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-textarea',\r\n  props : {\r\n    field : Object\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  },\r\n  components : {\r\n      'ptj-error' : GCError\r\n  }\r\n});\r\n</script>\r\n","<template>\r\n <div :class=\"Class.getClass('ptj-form-row') + ' ' + Class.getClass('ptj-form-asset-row')\">\r\n  <label :class=\"Class.getClass('ptj-form-asset-label')\">{{ field.label }}</label>\r\n  <input :class=\"Class.getClass('ptj-form-asset')\" ref=\"input\" @change=\"setFile\" :name=\"field.name\" type=\"file\" >\r\n  <ptj-error v-show=\"field.showError\" :error=\"field.error\" />\r\n </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { defineComponent } from 'vue'\r\nimport GCError from \"./ptj-error.vue\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-asset-field',\r\n  props : {\r\n    field : {\r\n        type : Object,\r\n        required : true\r\n    }\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  },\r\n  methods : {\r\n      setFile(e) {\r\n          if (e.target.files.length > 0) {\r\n            this.field.val = e.target.files[0];\r\n          } else {\r\n            this.field.val = null;\r\n          }\r\n          this.field.validateon = true;\r\n      }\r\n  },\r\n  components : {\r\n      'ptj-error' : GCError\r\n  }\r\n});\r\n</script>","<template>\r\n <div :class=\"Class.getClass('ptj-form-row') + ' ' + Class.getClass('ptj-form-asset-row')\">\r\n  <label :class=\"Class.getClass('ptj-form-asset-label')\">{{ field.label }}</label>\r\n  <input :class=\"Class.getClass('ptj-form-asset')\" ref=\"input\" @change=\"setFile\" :name=\"field.name\" type=\"file\" >\r\n  <ptj-error v-show=\"field.showError\" :error=\"field.error\" />\r\n </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { defineComponent } from 'vue'\r\nimport GCError from \"./ptj-error.vue\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-asset-field',\r\n  props : {\r\n    field : {\r\n        type : Object,\r\n        required : true\r\n    }\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  },\r\n  methods : {\r\n      setFile(e) {\r\n          if (e.target.files.length > 0) {\r\n            this.field.val = e.target.files[0];\r\n          } else {\r\n            this.field.val = null;\r\n          }\r\n          this.field.validateon = true;\r\n      }\r\n  },\r\n  components : {\r\n      'ptj-error' : GCError\r\n  }\r\n});\r\n</script>","<template>\r\n    <div :class=\"Class.getClass('ptj-progress-bar-wrapper')\">\r\n        <div :class=\"Class.getClass('ptj-progress-bar-holder') + ' ptj-progress-holder'\">\r\n            <div :class=\"Class.getClass('ptj-progress-bar') + ' ptj-bar'\" :style=\"style\">&nbsp;</div> \r\n        </div>   \r\n        <span>{{ num }}%</span>\r\n    </div> \r\n</template>\r\n\r\n<script>\r\n\r\nimport { defineComponent} from \"vue\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-progress-bar',\r\n  props : {\r\n      total : Number,\r\n      progress : Number\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  },\r\n  computed : {\r\n      num() {\r\n          let num = Math.floor((this.progress / this.total) * 100);\r\n          return (isNaN(num)) ? 0 : num;\r\n      },\r\n      style() {\r\n          return \"width:\" +  this.num + \"%;\";\r\n      }\r\n  }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n .ptj-progress-holder {\r\n     width : 100%;\r\n     min-height : 10px;\r\n     position : relative;\r\n     display : flex;\r\n     align-items: stretch;\r\n     padding : 2px;\r\n }\r\n\r\n .ptj-bar {\r\n     width : 0;\r\n     height : 100%;\r\n     position : relative;\r\n     line-height : 100%;\r\n }\r\n\r\n\r\n</style>\r\n","<template>\r\n    <div :class=\"Class.getClass('ptj-progress-bar-wrapper')\">\r\n        <div :class=\"Class.getClass('ptj-progress-bar-holder') + ' ptj-progress-holder'\">\r\n            <div :class=\"Class.getClass('ptj-progress-bar') + ' ptj-bar'\" :style=\"style\">&nbsp;</div> \r\n        </div>   \r\n        <span>{{ num }}%</span>\r\n    </div> \r\n</template>\r\n\r\n<script>\r\n\r\nimport { defineComponent} from \"vue\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-progress-bar',\r\n  props : {\r\n      total : Number,\r\n      progress : Number\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  },\r\n  computed : {\r\n      num() {\r\n          let num = Math.floor((this.progress / this.total) * 100);\r\n          return (isNaN(num)) ? 0 : num;\r\n      },\r\n      style() {\r\n          return \"width:\" +  this.num + \"%;\";\r\n      }\r\n  }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n .ptj-progress-holder {\r\n     width : 100%;\r\n     min-height : 10px;\r\n     position : relative;\r\n     display : flex;\r\n     align-items: stretch;\r\n     padding : 2px;\r\n }\r\n\r\n .ptj-bar {\r\n     width : 0;\r\n     height : 100%;\r\n     position : relative;\r\n     line-height : 100%;\r\n }\r\n\r\n\r\n</style>\r\n","<template>\r\n <form @submit.prevent=\"submit\" v-show=\"fstate==0\" :class=\"Class.getClass('ptj-form') + ' ' + store.classes\">\r\n    <div :class=\"Class.getClass('ptj-form-error')\" v-show=\"globalerror\">{{ globalerror }}</div>\r\n    <div v-for=\"field in store.fields\" v-show=\"field.on\" :key=\"field.name\" :class=\"Class.getClass('ptj-form-group')\">\r\n          <ptj-select v-if=\"field.type=='select'\" :field=\"field\" :stores=\"store\" />\r\n          <ptj-radio v-else-if=\"field.type=='radio'\" :field=\"field\" :stores=\"store\" />\r\n          <ptj-checkbox v-else-if=\"field.type=='checkbox'\" :field=\"field\" :stores=\"store\" />\r\n          <ptj-textarea v-else-if=\"field.type=='textarea'\" :field=\"field\" :stores=\"store\" />\r\n          <ptj-asset-field v-else-if=\"field.type=='asset'\" :field=\"field\" :stores=\"store\" />\r\n          <ptj-input v-else :field=\"field\" :stores=\"store\" />\r\n          <div v-if=\"field.confirm\">\r\n            <ptj-confirm :field=\"field\" :stores=\"store\"/> \r\n          </div>\r\n          <!-- REMOVED: -->\r\n    </div>\r\n    <input type=\"submit\" value=\"Submit\" :class=\"Class.getClass('ptj-form-submit')\">\r\n\r\n  </form>\r\n  <ptj-progress-bar v-show=\"fstate == 1\" :total=\"total\" :progress=\"progress\" />\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport { defineComponent } from 'vue'\r\nimport GCInput from \"./ptj-form-input.vue\"\r\nimport GCConfirm from \"./ptj-form-confirm.vue\"\r\nimport GCSelect from \"./ptj-form-select.vue\"\r\nimport GCRadio from \"./ptj-form-radio.vue\"\r\nimport GCCheckbox from \"./ptj-form-checkbox.vue\"\r\nimport GCTextarea from \"./ptj-form-textarea.vue\"\r\nimport GCAssetField from \"./ptj-form-asset.vue\"\r\nimport GCProgressBar from \"./ptj-progress-bar.vue\"\r\nimport Errors from \"../js/error.js\"\r\nimport Client from \"../js/client.js\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n \r\nexport default defineComponent({\r\n  name: 'ptj-form',\r\n  data() {\r\n      return {\r\n          fstate : 0,\r\n          progress : 0,\r\n          globalerror : ''\r\n      }\r\n  },\r\n  setup() {\r\n      return { store : Ctrl.getStore(), Class }\r\n  },\r\n  methods : {\r\n    clearErrors() {\r\n        this.globalerror = \"\";\r\n        for(let i in this.store.fields) {\r\n            this.store.fields[i].error = 0;\r\n        }\r\n    },\r\n    saveAsset(field) {\r\n        const val = this.store.data[field.name];\r\n        if (!val) return Promise.resolve();\r\n        asset.saveFile(val, this._key, () => ++this.progress);\r\n        this.total += asset.num_chunks;\r\n    },\r\n    submit(e) {\r\n        this.fstate = (this.total > 0) ? 1 : 2;\r\n        this.clearErrors();\r\n        let data = {};\r\n        for(let i in this.store.fields) {\r\n            if (this.store.fields[i].on) data[i] = this.store.fields[i].val;\r\n        }\r\n        this.store.addKeys(data);\r\n        return Client[this.store.method](this.store.submiturl, data)\r\n        .then(request=>{\r\n            if (request.__status!= \"SUCCESS\") {\r\n                throw { message : request.statusText }\r\n            }\r\n            this.store.resolveKeys(request);\r\n        })\r\n        .then(() => {\r\n            let promises = [];\r\n            for(let i in this.store.fields) {\r\n                if (this.store.fields[i].type == \"asset\") {\r\n                    let promise = this.store.fields[i].saveAsset(this.store.primarykey())\r\n                    .then(() => {\r\n                        ++this.progress;\r\n                    })\r\n                    .catch(err => {\r\n                        this.fstate = 0;\r\n                        this.progress = 0;\r\n                        this.store.fields[i].error = err;\r\n                    });\r\n                    promises.push(promise);\r\n                }\r\n            }\r\n            return Promise.all(promises);\r\n        })\r\n        .then(() => {\r\n            this.store.next();\r\n            Ctrl.buildLink();\r\n        })\r\n        .catch(err => {\r\n            //show error fields, mark fields as invalidated\r\n            this.fstate = 0;\r\n            console.log(err);\r\n            if (typeof err == \"string\") {\r\n                this.globalerror = err;\r\n            } else {\r\n                for(let i in err) {\r\n                    if (i.indexOf(\"__\") === 0) continue;\r\n                    else if (this.store.fields[i]) {\r\n                        this.store.fields[i].error = Errors.getError(err[i]);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n  },\r\n  computed : {\r\n      total() {\r\n          let total = 0;\r\n          for(let i in this.store.fields) {\r\n            if (this.store.fields[i].type == \"asset\") {\r\n                ++total;\r\n            }\r\n          }\r\n          return total;\r\n      }\r\n  },\r\n  components : \r\n    {\r\n      \"ptj-input\" : GCInput,\r\n      \"ptj-confirm\" : GCConfirm,\r\n      \"ptj-select\" : GCSelect,\r\n      \"ptj-radio\" : GCRadio,\r\n      \"ptj-checkbox\" : GCCheckbox,\r\n      \"ptj-textarea\": GCTextarea,\r\n      \"ptj-asset-field\" : GCAssetField,\r\n      \"ptj-progress-bar\" : GCProgressBar\r\n    }\r\n       \r\n  \r\n});\r\n</script>\r\n\r\n\r\n","<template>\r\n <form @submit.prevent=\"submit\" v-show=\"fstate==0\" :class=\"Class.getClass('ptj-form') + ' ' + store.classes\">\r\n    <div :class=\"Class.getClass('ptj-form-error')\" v-show=\"globalerror\">{{ globalerror }}</div>\r\n    <div v-for=\"field in store.fields\" v-show=\"field.on\" :key=\"field.name\" :class=\"Class.getClass('ptj-form-group')\">\r\n          <ptj-select v-if=\"field.type=='select'\" :field=\"field\" :stores=\"store\" />\r\n          <ptj-radio v-else-if=\"field.type=='radio'\" :field=\"field\" :stores=\"store\" />\r\n          <ptj-checkbox v-else-if=\"field.type=='checkbox'\" :field=\"field\" :stores=\"store\" />\r\n          <ptj-textarea v-else-if=\"field.type=='textarea'\" :field=\"field\" :stores=\"store\" />\r\n          <ptj-asset-field v-else-if=\"field.type=='asset'\" :field=\"field\" :stores=\"store\" />\r\n          <ptj-input v-else :field=\"field\" :stores=\"store\" />\r\n          <div v-if=\"field.confirm\">\r\n            <ptj-confirm :field=\"field\" :stores=\"store\"/> \r\n          </div>\r\n          <!-- REMOVED: -->\r\n    </div>\r\n    <input type=\"submit\" value=\"Submit\" :class=\"Class.getClass('ptj-form-submit')\">\r\n\r\n  </form>\r\n  <ptj-progress-bar v-show=\"fstate == 1\" :total=\"total\" :progress=\"progress\" />\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport { defineComponent } from 'vue'\r\nimport GCInput from \"./ptj-form-input.vue\"\r\nimport GCConfirm from \"./ptj-form-confirm.vue\"\r\nimport GCSelect from \"./ptj-form-select.vue\"\r\nimport GCRadio from \"./ptj-form-radio.vue\"\r\nimport GCCheckbox from \"./ptj-form-checkbox.vue\"\r\nimport GCTextarea from \"./ptj-form-textarea.vue\"\r\nimport GCAssetField from \"./ptj-form-asset.vue\"\r\nimport GCProgressBar from \"./ptj-progress-bar.vue\"\r\nimport Errors from \"../js/error.js\"\r\nimport Client from \"../js/client.js\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n \r\nexport default defineComponent({\r\n  name: 'ptj-form',\r\n  data() {\r\n      return {\r\n          fstate : 0,\r\n          progress : 0,\r\n          globalerror : ''\r\n      }\r\n  },\r\n  setup() {\r\n      return { store : Ctrl.getStore(), Class }\r\n  },\r\n  methods : {\r\n    clearErrors() {\r\n        this.globalerror = \"\";\r\n        for(let i in this.store.fields) {\r\n            this.store.fields[i].error = 0;\r\n        }\r\n    },\r\n    saveAsset(field) {\r\n        const val = this.store.data[field.name];\r\n        if (!val) return Promise.resolve();\r\n        asset.saveFile(val, this._key, () => ++this.progress);\r\n        this.total += asset.num_chunks;\r\n    },\r\n    submit(e) {\r\n        this.fstate = (this.total > 0) ? 1 : 2;\r\n        this.clearErrors();\r\n        let data = {};\r\n        for(let i in this.store.fields) {\r\n            if (this.store.fields[i].on) data[i] = this.store.fields[i].val;\r\n        }\r\n        this.store.addKeys(data);\r\n        return Client[this.store.method](this.store.submiturl, data)\r\n        .then(request=>{\r\n            if (request.__status!= \"SUCCESS\") {\r\n                throw { message : request.statusText }\r\n            }\r\n            this.store.resolveKeys(request);\r\n        })\r\n        .then(() => {\r\n            let promises = [];\r\n            for(let i in this.store.fields) {\r\n                if (this.store.fields[i].type == \"asset\") {\r\n                    let promise = this.store.fields[i].saveAsset(this.store.primarykey())\r\n                    .then(() => {\r\n                        ++this.progress;\r\n                    })\r\n                    .catch(err => {\r\n                        this.fstate = 0;\r\n                        this.progress = 0;\r\n                        this.store.fields[i].error = err;\r\n                    });\r\n                    promises.push(promise);\r\n                }\r\n            }\r\n            return Promise.all(promises);\r\n        })\r\n        .then(() => {\r\n            this.store.next();\r\n            Ctrl.buildLink();\r\n        })\r\n        .catch(err => {\r\n            //show error fields, mark fields as invalidated\r\n            this.fstate = 0;\r\n            console.log(err);\r\n            if (typeof err == \"string\") {\r\n                this.globalerror = err;\r\n            } else {\r\n                for(let i in err) {\r\n                    if (i.indexOf(\"__\") === 0) continue;\r\n                    else if (this.store.fields[i]) {\r\n                        this.store.fields[i].error = Errors.getError(err[i]);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n  },\r\n  computed : {\r\n      total() {\r\n          let total = 0;\r\n          for(let i in this.store.fields) {\r\n            if (this.store.fields[i].type == \"asset\") {\r\n                ++total;\r\n            }\r\n          }\r\n          return total;\r\n      }\r\n  },\r\n  components : \r\n    {\r\n      \"ptj-input\" : GCInput,\r\n      \"ptj-confirm\" : GCConfirm,\r\n      \"ptj-select\" : GCSelect,\r\n      \"ptj-radio\" : GCRadio,\r\n      \"ptj-checkbox\" : GCCheckbox,\r\n      \"ptj-textarea\": GCTextarea,\r\n      \"ptj-asset-field\" : GCAssetField,\r\n      \"ptj-progress-bar\" : GCProgressBar\r\n    }\r\n       \r\n  \r\n});\r\n</script>\r\n\r\n\r\n","<template>\r\n  <span :class=\"Class.getClass('ptj-nav') + ' ' + classes\">\r\n  <a v-for=\"route in actions\" v-bind:key=\"route\" @click=\"setRoute(route);\" :class=\"Class.getClass('ptj-nav-link')\">\r\n    {{ route.n }}\r\n  </a> \r\n  </span>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from 'vue'\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-nav',\r\n  props: {\r\n    actions : Array,\r\n    classes : String\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  },\r\n  methods : {\r\n      setRoute(route) {\r\n          route.r();\r\n          Ctrl.buildLink();\r\n      }\r\n  }   \r\n});\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n</style>","<template>\r\n  <span :class=\"Class.getClass('ptj-nav') + ' ' + classes\">\r\n  <a v-for=\"route in actions\" v-bind:key=\"route\" @click=\"setRoute(route);\" :class=\"Class.getClass('ptj-nav-link')\">\r\n    {{ route.n }}\r\n  </a> \r\n  </span>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from 'vue'\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-nav',\r\n  props: {\r\n    actions : Array,\r\n    classes : String\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  },\r\n  methods : {\r\n      setRoute(route) {\r\n          route.r();\r\n          Ctrl.buildLink();\r\n      }\r\n  }   \r\n});\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n</style>","<template>\r\n <div :class=\"Class.getClass('ptj-form-row') + ' ' + Class.getClass('ptj-filter-form-time-row')\">\r\n  <label :class=\"Class.getClass('ptj-filter-form-time-label')\">{{ field.label }}</label>\r\n  <input :class=\"Class.getClass('ptj-filter-form-time-1')\" type=\"date\" v-model=\"field.val1\">\r\n  <input :class=\"Class.getClass('ptj-filter-form-time-2')\" type=\"date\" v-model=\"field.val2\">\r\n  <ptj-error v-show=\"field.error\" :error=\"field.error\" />\r\n </div>\r\n</template>\r\n\r\n<script>\r\nimport GCError from \"./ptj-error.vue\"\r\nimport { defineComponent } from 'vue'\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-time-range',\r\n props : {\r\n    field : Object\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  },\r\n  components : {\r\n      'ptj-error' : GCError\r\n  }\r\n});\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n</style>","<template>\r\n <div :class=\"Class.getClass('ptj-form-row') + ' ' + Class.getClass('ptj-filter-form-time-row')\">\r\n  <label :class=\"Class.getClass('ptj-filter-form-time-label')\">{{ field.label }}</label>\r\n  <input :class=\"Class.getClass('ptj-filter-form-time-1')\" type=\"date\" v-model=\"field.val1\">\r\n  <input :class=\"Class.getClass('ptj-filter-form-time-2')\" type=\"date\" v-model=\"field.val2\">\r\n  <ptj-error v-show=\"field.error\" :error=\"field.error\" />\r\n </div>\r\n</template>\r\n\r\n<script>\r\nimport GCError from \"./ptj-error.vue\"\r\nimport { defineComponent } from 'vue'\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-time-range',\r\n props : {\r\n    field : Object\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  },\r\n  components : {\r\n      'ptj-error' : GCError\r\n  }\r\n});\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n</style>","<template>\r\n <div :class=\"Class.getClass('ptj-form-row') + ' ' + Class.getClass('ptj-filter-form-checkbox-row')\">\r\n    <label :class=\"Class.getClass('ptj-filter-form-checkbox-label')\">{{ field.label }}</label>\r\n    <select :name=\"field.name\" v-model=\"field.val\" :class=\"Class.getClass('ptj-filter-form-checkbox')\">\r\n        <option value=''>{{ \"All\" }}</option>\r\n        <option value='1'>{{ \"Checked\" }}</option>\r\n        <option value='0'>{{ \"Unchecked\" }}</option>\r\n    </select>\r\n </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { defineComponent } from 'vue'\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-checkbox',\r\n   props : {\r\n    field : Object\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  }\r\n});\r\n</script>\r\n","<template>\r\n <div :class=\"Class.getClass('ptj-form-row') + ' ' + Class.getClass('ptj-filter-form-checkbox-row')\">\r\n    <label :class=\"Class.getClass('ptj-filter-form-checkbox-label')\">{{ field.label }}</label>\r\n    <select :name=\"field.name\" v-model=\"field.val\" :class=\"Class.getClass('ptj-filter-form-checkbox')\">\r\n        <option value=''>{{ \"All\" }}</option>\r\n        <option value='1'>{{ \"Checked\" }}</option>\r\n        <option value='0'>{{ \"Unchecked\" }}</option>\r\n    </select>\r\n </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { defineComponent } from 'vue'\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-checkbox',\r\n   props : {\r\n    field : Object\r\n  },\r\n  setup() {\r\n       return { Class };\r\n  }\r\n});\r\n</script>\r\n","<template>\r\n    <div :class=\"Class.getClass('ptj-widget-window') + ' ' +  classes\">\r\n        <div :class=\"Class.getClass('ptj-widget-window-header')\">\r\n            <h1 :class=\"Class.getClass('ptj-widget-window-title')\">{{ title }}\r\n            <a :class=\"Class.getClass('ptj-widget-window-toggle')\" @click=\"toggleWidget\"><span class=\"material-icons\">more_horiz</span></a>\r\n            </h1>\r\n        </div>\r\n        <div class=\"Class.getClass('ptj-widget-window-body')\" v-show=\"show\">\r\n            <slot />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent  } from 'vue'\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n    props : {\r\n        title : String,\r\n        active : {\r\n            type : Boolean,\r\n            default : false\r\n        },\r\n        classes : String\r\n    },\r\n    setup() {\r\n       return { Class };\r\n    },\r\n    data() {\r\n        return {\r\n            show : this.active\r\n        }\r\n    },\r\n    methods : {\r\n        toggleWidget() {\r\n            this.show = (this.show) ? false : true;\r\n        }\r\n    }\r\n});\r\n\r\n</script>","<template>\r\n    <div :class=\"Class.getClass('ptj-widget-window') + ' ' +  classes\">\r\n        <div :class=\"Class.getClass('ptj-widget-window-header')\">\r\n            <h1 :class=\"Class.getClass('ptj-widget-window-title')\">{{ title }}\r\n            <a :class=\"Class.getClass('ptj-widget-window-toggle')\" @click=\"toggleWidget\"><span class=\"material-icons\">more_horiz</span></a>\r\n            </h1>\r\n        </div>\r\n        <div class=\"Class.getClass('ptj-widget-window-body')\" v-show=\"show\">\r\n            <slot />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent  } from 'vue'\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n    props : {\r\n        title : String,\r\n        active : {\r\n            type : Boolean,\r\n            default : false\r\n        },\r\n        classes : String\r\n    },\r\n    setup() {\r\n       return { Class };\r\n    },\r\n    data() {\r\n        return {\r\n            show : this.active\r\n        }\r\n    },\r\n    methods : {\r\n        toggleWidget() {\r\n            this.show = (this.show) ? false : true;\r\n        }\r\n    }\r\n});\r\n\r\n</script>","<template>\r\n <ptj-widget title=\"search\">\r\n   <form @submit.prevent=\"submit\" :class=\"Class.getClass('ptj-filter-form')\">\r\n      <h1>Search {{ store.title }}</h1>\r\n      <div v-for=\"field in store.fields\" :key=\"field.name\" :class=\"Class.getClass('ptj-filter-form-group')\">\r\n          <ptj-select v-if=\"field.type=='select'\" :field=\"field\" :multiple=\"true\"  :stores=\"store\"/>\r\n          <ptj-filter-checkbox v-else-if=\"field.type=='checkbox'\" :field=\"field\"  :stores=\"store\"/>\r\n          <ptj-time-range v-else-if=\"field.atts.type=='datetime'\" :field=\"field\"  :stores=\"store\"/>\r\n          <ptj-input v-else :field=\"field\" :stores=\"store\" />\r\n               \r\n          <!-- REMOVED: -->\r\n      </div>\r\n      <input type=\"submit\" value=\"Submit\" :class=\"Class.getClass('ptj-filter-form-submit')\">\r\n  </form>\r\n </ptj-widget>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport { defineComponent } from 'vue'\r\nimport GCInput from \"./ptj-form-input.vue\"\r\nimport GCFormSelect from \"./ptj-form-select.vue\"\r\nimport GCCheckbox from \"./ptj-form-checkbox.vue\"\r\nimport GCFilterFormTime from \"./ptj-filter-form-time.vue\"\r\nimport GCFilterFormCheckbox from \"./ptj-filter-form-checkbox.vue\"\r\nimport GCWidget from \"./ptj-widget-window.vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\n \r\nexport default defineComponent({\r\n  name: 'ptj-filter-form',\r\n  setup() {\r\n      return { store : Ctrl.getStore(), Class }\r\n  },\r\n  methods : {\r\n    submit() {\r\n      this.store.reload();\r\n    }\r\n  },\r\n  components : \r\n    {\r\n      \"ptj-input\" : GCInput,\r\n      \"ptj-select\" : GCFormSelect,\r\n      \"ptj-checkbox\" : GCCheckbox,\r\n      \"ptj-time-range\" : GCFilterFormTime,\r\n      \"ptj-filter-checkbox\" : GCFilterFormCheckbox,\r\n      \"ptj-widget\" : GCWidget\r\n    }\r\n       \r\n  \r\n});\r\n</script>\r\n<style scoped>\r\n.error {\r\n  color : red;\r\n}\r\n\r\n</style>\r\n\r\n","<template>\r\n <ptj-widget title=\"search\">\r\n   <form @submit.prevent=\"submit\" :class=\"Class.getClass('ptj-filter-form')\">\r\n      <h1>Search {{ store.title }}</h1>\r\n      <div v-for=\"field in store.fields\" :key=\"field.name\" :class=\"Class.getClass('ptj-filter-form-group')\">\r\n          <ptj-select v-if=\"field.type=='select'\" :field=\"field\" :multiple=\"true\"  :stores=\"store\"/>\r\n          <ptj-filter-checkbox v-else-if=\"field.type=='checkbox'\" :field=\"field\"  :stores=\"store\"/>\r\n          <ptj-time-range v-else-if=\"field.atts.type=='datetime'\" :field=\"field\"  :stores=\"store\"/>\r\n          <ptj-input v-else :field=\"field\" :stores=\"store\" />\r\n               \r\n          <!-- REMOVED: -->\r\n      </div>\r\n      <input type=\"submit\" value=\"Submit\" :class=\"Class.getClass('ptj-filter-form-submit')\">\r\n  </form>\r\n </ptj-widget>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport { defineComponent } from 'vue'\r\nimport GCInput from \"./ptj-form-input.vue\"\r\nimport GCFormSelect from \"./ptj-form-select.vue\"\r\nimport GCCheckbox from \"./ptj-form-checkbox.vue\"\r\nimport GCFilterFormTime from \"./ptj-filter-form-time.vue\"\r\nimport GCFilterFormCheckbox from \"./ptj-filter-form-checkbox.vue\"\r\nimport GCWidget from \"./ptj-widget-window.vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\n \r\nexport default defineComponent({\r\n  name: 'ptj-filter-form',\r\n  setup() {\r\n      return { store : Ctrl.getStore(), Class }\r\n  },\r\n  methods : {\r\n    submit() {\r\n      this.store.reload();\r\n    }\r\n  },\r\n  components : \r\n    {\r\n      \"ptj-input\" : GCInput,\r\n      \"ptj-select\" : GCFormSelect,\r\n      \"ptj-checkbox\" : GCCheckbox,\r\n      \"ptj-time-range\" : GCFilterFormTime,\r\n      \"ptj-filter-checkbox\" : GCFilterFormCheckbox,\r\n      \"ptj-widget\" : GCWidget\r\n    }\r\n       \r\n  \r\n});\r\n</script>\r\n<style scoped>\r\n.error {\r\n  color : red;\r\n}\r\n\r\n</style>\r\n\r\n","<template>\r\n <div :class=\"Class.getClass('ptj-pagination')\">\r\n     <a v-show=\"optiongroup > 0\" @click=\"showPages(-1);\">&lt;&lt;</a>\r\n     <a v-for=\"index in maxoptions\" :key=\"index\" @click=\"page(index)\">{{ firstindex + index }}</a>\r\n     <a v-show=\"current_group < groups - 1\" @click=\"showPages(1)\">&gt;&gt;</a>\r\n </div>\r\n</template>\r\n<script>\r\nimport { defineComponent } from 'vue'\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n    props : {\r\n        max_page_limit : Number\r\n    },\r\n    setup(props) {\r\n        let groups = Math.ceil(props.pages / props.max_page_limit);\r\n        return {\r\n            groups, current_group : 0, Class\r\n        }\r\n    },\r\n    computed : {\r\n        firstindex() {\r\n            return this.current_group * this.max_options;\r\n        },\r\n        maxoptions() {\r\n            return [];\r\n        }\r\n    },\r\n    methods : {\r\n        showPages(index) {\r\n            let route = Controller.current_route.value;\r\n            let url = route + \"#\";\r\n            if (route.query) url += route.query + \"&\";\r\n            url += \"__page=\" + (this.firstindex + index);\r\n            Router.setRoute(url);\r\n        }\r\n    }\r\n});\r\n</script>","<template>\r\n <div :class=\"Class.getClass('ptj-pagination')\">\r\n     <a v-show=\"optiongroup > 0\" @click=\"showPages(-1);\">&lt;&lt;</a>\r\n     <a v-for=\"index in maxoptions\" :key=\"index\" @click=\"page(index)\">{{ firstindex + index }}</a>\r\n     <a v-show=\"current_group < groups - 1\" @click=\"showPages(1)\">&gt;&gt;</a>\r\n </div>\r\n</template>\r\n<script>\r\nimport { defineComponent } from 'vue'\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n    props : {\r\n        max_page_limit : Number\r\n    },\r\n    setup(props) {\r\n        let groups = Math.ceil(props.pages / props.max_page_limit);\r\n        return {\r\n            groups, current_group : 0, Class\r\n        }\r\n    },\r\n    computed : {\r\n        firstindex() {\r\n            return this.current_group * this.max_options;\r\n        },\r\n        maxoptions() {\r\n            return [];\r\n        }\r\n    },\r\n    methods : {\r\n        showPages(index) {\r\n            let route = Controller.current_route.value;\r\n            let url = route + \"#\";\r\n            if (route.query) url += route.query + \"&\";\r\n            url += \"__page=\" + (this.firstindex + index);\r\n            Router.setRoute(url);\r\n        }\r\n    }\r\n});\r\n</script>","<template>\r\n    <ptj-widget title=\"select fields\" :classes=\"Class.getClass('ptj-selectfields')\">\r\n        <div v-for=\"field, name in store.fields\" :key=\"name\"> \r\n            <input \r\n                type=\"checkbox\" \r\n                v-model=\"field.on\" \r\n                :class=\"Class.getClass('ptj-selectfields-checkbox')\"> \r\n            <label :class=\"Class.getClass('ptj-selectfields-label')\">{{ field.name }}</label>\r\n        </div>\r\n    </ptj-widget>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from 'vue'\r\nimport GCWidget from \"./ptj-widget-window.vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n    setup() {\r\n        return { store : Ctrl.getStore(), Class }\r\n    },   \r\n    components : {\r\n        \"ptj-widget\" : GCWidget\r\n    }\r\n});\r\n</script>\r\n\r\n","<template>\r\n    <ptj-widget title=\"select fields\" :classes=\"Class.getClass('ptj-selectfields')\">\r\n        <div v-for=\"field, name in store.fields\" :key=\"name\"> \r\n            <input \r\n                type=\"checkbox\" \r\n                v-model=\"field.on\" \r\n                :class=\"Class.getClass('ptj-selectfields-checkbox')\"> \r\n            <label :class=\"Class.getClass('ptj-selectfields-label')\">{{ field.name }}</label>\r\n        </div>\r\n    </ptj-widget>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from 'vue'\r\nimport GCWidget from \"./ptj-widget-window.vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n    setup() {\r\n        return { store : Ctrl.getStore(), Class }\r\n    },   \r\n    components : {\r\n        \"ptj-widget\" : GCWidget\r\n    }\r\n});\r\n</script>\r\n\r\n","<template>\r\n    <h1 :class=\"Class.getClass('ptj-repo-header-title')\">{{ store.title }}</h1>\r\n    <ptj-nav :actions=\"store.actions\" :class=\"Class.getClass('ptj-repo-header-actions')\"/>\r\n    <ptj-filter-form  />\r\n    <ptj-selectfields  />\r\n</template>\r\n\r\n<script>\r\n\r\nimport GCNav from \"./ptj-nav.vue\"\r\nimport GCFilterForm from \"./ptj-filter-form.vue\"\r\nimport GCPagination from \"./ptj-pagination.vue\"\r\nimport GCSelectFields from \"./ptj-selectfields.vue\"\r\nimport { defineComponent} from \"vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-header',\r\n  setup() {\r\n      return { store : Ctrl.getStore(), Class }\r\n  },\r\n    components : {\r\n        \"ptj-nav\" : GCNav,\r\n        \"ptj-filter-form\" : GCFilterForm,\r\n        \"ptj-pagination\" : GCPagination,\r\n        \"ptj-selectfields\" : GCSelectFields\r\n    }\r\n});\r\n</script>\r\n","<template>\r\n    <h1 :class=\"Class.getClass('ptj-repo-header-title')\">{{ store.title }}</h1>\r\n    <ptj-nav :actions=\"store.actions\" :class=\"Class.getClass('ptj-repo-header-actions')\"/>\r\n    <ptj-filter-form  />\r\n    <ptj-selectfields  />\r\n</template>\r\n\r\n<script>\r\n\r\nimport GCNav from \"./ptj-nav.vue\"\r\nimport GCFilterForm from \"./ptj-filter-form.vue\"\r\nimport GCPagination from \"./ptj-pagination.vue\"\r\nimport GCSelectFields from \"./ptj-selectfields.vue\"\r\nimport { defineComponent} from \"vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-header',\r\n  setup() {\r\n      return { store : Ctrl.getStore(), Class }\r\n  },\r\n    components : {\r\n        \"ptj-nav\" : GCNav,\r\n        \"ptj-filter-form\" : GCFilterForm,\r\n        \"ptj-pagination\" : GCPagination,\r\n        \"ptj-selectfields\" : GCSelectFields\r\n    }\r\n});\r\n</script>\r\n","<template >\r\n    <div :class=\"Class.getClass('ptj-tree-node') + ' ptj-draggable' + this.getRowClass()\" :id=\"branch[store.primarykeyname]\" draggable=\"false\">\r\n        <div :class=\"Class.getClass('ptj-tree-node-row')\" @click=\"selectRow(branch[store.primarykeyname]);\">  \r\n            <div>\r\n                <a v-if=\"ischild\" data-action=\"more\" class=\"button\" @click.prevent.stop=\"toggle(branch[store.primarykeyname], false)\">\r\n                    <span class=\"material-icons\">subdirectory_arrow_right</span>\r\n                </a>\r\n                <a v-else data-action=\"more\" class=\"button\" @click.prevent.stop=\"toggle(branch[store.primarykeyname], true)\">\r\n                    <span class=\"material-icons\">keyboard_arrow_right</span>\r\n                </a>\r\n            </div>\r\n            <div v-if=\"sortable\">\r\n                <a data-action=\"more\" class=\"button\" @click=\"prevent.stop\" @mousedown=\"setDraggable\" @mouseup=\"endDraggable\">\r\n                    <span class=\"material-icons\">drag_handle</span>\r\n                </a>\r\n            </div>\r\n            <div v-for=\"(field, cindex) in store.fields\" :key=\"cindex\" v-show=\"field.on\">\r\n                <span>{{ field.label }}: {{ branch[field.name] }}</span>\r\n            </div>\r\n            \r\n        </div>\r\n        <ptj-tree-node v-for=\"(obj, index) in children\" :branch=\"obj\" :ischild=\"true\"  :key=\"index\" v-show=\"toggle_state[branch[store.primarykeyname]]\" :store=\"store\" />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent} from \"vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n\tname : \"ptj-tree-node\",\r\n\tprops : {\r\n\t\tbranch : {\r\n            type : Object,\r\n            required : true\r\n        },\r\n        draggable : Boolean,\r\n        ischild : {\r\n            type : Boolean,\r\n            default : false\r\n        }\r\n\r\n\t},\r\n    data() {\r\n        return {\r\n            toggle_state : {}\r\n        }\r\n    },\r\n    setup() {\r\n        return { store : Ctrl.getStore(), Class }\r\n    },\r\n\tmethods : {\r\n        toggle(index) {\r\n            this.toggle_state[index] = (this.toggle_state[index]) ? false : true;\r\n        },\r\n        setDraggable(e) {\r\n            e.target.closest(\".ptj-draggable\").setAttribute(\"draggable\", true);\r\n        },\r\n        endDraggable(e) {\r\n            e.target.closest(\".ptj-draggable\").setAttribute(\"draggable\", false);\r\n        },\r\n        selectRow(key) {\r\n            this.store.next(key);\r\n            Ctrl.buildLink();\r\n        },\r\n        getRowClass() {\r\n            let str = [];\r\n            for(let name of this.store.groups) {\r\n                str.push(this.store.model + \"-\" + name.replace(\"_\", \"-\") + \"-\" + this.branch[name]);\r\n            }\r\n            return str.join(\" \");\r\n        }\r\n\t},\r\n    computed : {\r\n        sortable() {\r\n            return true;\r\n        },\r\n        children() {\r\n            let arr = [];\r\n            if (this.store.circular && this.branch[this.store.model]) arr = this.branch[this.store.model];\r\n            for(let i in this.store.activechildren) {\r\n                if (this.branch[this.store.activechildren[i]]) arr=arr.concat(this.branch[this.store.activechildren[i]]);\r\n            }\r\n            return arr;\r\n        }\r\n    },\r\n\tcomponents : {\r\n\t\r\n\t}\r\n});\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.model-tree.branch {\r\n  padding-left: 8px;\r\n  padding-right: 8px;\r\n  margin: 6px 0;\r\n  background-color:#111111;\r\n}\r\n\r\n.tree .ide-block {\r\n\tdisplay : none;\r\n}\r\n\r\n.dragArea {\r\n  min-height: 50px;\r\n  outline: 1px solid #777777;\r\n}\r\n\r\n\r\n</style>","<template >\r\n    <div :class=\"Class.getClass('ptj-tree-node') + ' ptj-draggable' + this.getRowClass()\" :id=\"branch[store.primarykeyname]\" draggable=\"false\">\r\n        <div :class=\"Class.getClass('ptj-tree-node-row')\" @click=\"selectRow(branch[store.primarykeyname]);\">  \r\n            <div>\r\n                <a v-if=\"ischild\" data-action=\"more\" class=\"button\" @click.prevent.stop=\"toggle(branch[store.primarykeyname], false)\">\r\n                    <span class=\"material-icons\">subdirectory_arrow_right</span>\r\n                </a>\r\n                <a v-else data-action=\"more\" class=\"button\" @click.prevent.stop=\"toggle(branch[store.primarykeyname], true)\">\r\n                    <span class=\"material-icons\">keyboard_arrow_right</span>\r\n                </a>\r\n            </div>\r\n            <div v-if=\"sortable\">\r\n                <a data-action=\"more\" class=\"button\" @click=\"prevent.stop\" @mousedown=\"setDraggable\" @mouseup=\"endDraggable\">\r\n                    <span class=\"material-icons\">drag_handle</span>\r\n                </a>\r\n            </div>\r\n            <div v-for=\"(field, cindex) in store.fields\" :key=\"cindex\" v-show=\"field.on\">\r\n                <span>{{ field.label }}: {{ branch[field.name] }}</span>\r\n            </div>\r\n            \r\n        </div>\r\n        <ptj-tree-node v-for=\"(obj, index) in children\" :branch=\"obj\" :ischild=\"true\"  :key=\"index\" v-show=\"toggle_state[branch[store.primarykeyname]]\" :store=\"store\" />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent} from \"vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n\tname : \"ptj-tree-node\",\r\n\tprops : {\r\n\t\tbranch : {\r\n            type : Object,\r\n            required : true\r\n        },\r\n        draggable : Boolean,\r\n        ischild : {\r\n            type : Boolean,\r\n            default : false\r\n        }\r\n\r\n\t},\r\n    data() {\r\n        return {\r\n            toggle_state : {}\r\n        }\r\n    },\r\n    setup() {\r\n        return { store : Ctrl.getStore(), Class }\r\n    },\r\n\tmethods : {\r\n        toggle(index) {\r\n            this.toggle_state[index] = (this.toggle_state[index]) ? false : true;\r\n        },\r\n        setDraggable(e) {\r\n            e.target.closest(\".ptj-draggable\").setAttribute(\"draggable\", true);\r\n        },\r\n        endDraggable(e) {\r\n            e.target.closest(\".ptj-draggable\").setAttribute(\"draggable\", false);\r\n        },\r\n        selectRow(key) {\r\n            this.store.next(key);\r\n            Ctrl.buildLink();\r\n        },\r\n        getRowClass() {\r\n            let str = [];\r\n            for(let name of this.store.groups) {\r\n                str.push(this.store.model + \"-\" + name.replace(\"_\", \"-\") + \"-\" + this.branch[name]);\r\n            }\r\n            return str.join(\" \");\r\n        }\r\n\t},\r\n    computed : {\r\n        sortable() {\r\n            return true;\r\n        },\r\n        children() {\r\n            let arr = [];\r\n            if (this.store.circular && this.branch[this.store.model]) arr = this.branch[this.store.model];\r\n            for(let i in this.store.activechildren) {\r\n                if (this.branch[this.store.activechildren[i]]) arr=arr.concat(this.branch[this.store.activechildren[i]]);\r\n            }\r\n            return arr;\r\n        }\r\n    },\r\n\tcomponents : {\r\n\t\r\n\t}\r\n});\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.model-tree.branch {\r\n  padding-left: 8px;\r\n  padding-right: 8px;\r\n  margin: 6px 0;\r\n  background-color:#111111;\r\n}\r\n\r\n.tree .ide-block {\r\n\tdisplay : none;\r\n}\r\n\r\n.dragArea {\r\n  min-height: 50px;\r\n  outline: 1px solid #777777;\r\n}\r\n\r\n\r\n</style>","class GCDragNDrop {\r\n\r\n    constructor(props = {}) {\r\n        this._handle = props.handle;\r\n        this._drop_target = props.drop_target;\r\n        this._drag_target = props.drag_target;\r\n        this._call_back = props.callback;\r\n        this._x = 0;\r\n        this._y = 0;\r\n        this._offset_x = 0;\r\n        this._offset_y = 0;\r\n        this._judder = (props.judder) ? props.judder : 5;\r\n        this._drag_node;\r\n        this._drop_node;\r\n        this._tree = props.tree;\r\n    }\r\n\r\n    isJudder(x, y) {\r\n        const dx = x - this._x;\r\n        const dy = y - this._y;\r\n      \r\n        if (dx < -5 || dx > 5) return false;\r\n        else if (dy < -5 || dy > 5) return false;\r\n        else return true;\r\n    }\r\n\r\n    getDirection(x, y) {\r\n        const dir_x = (x == this._x) ? 0 : (x > this._x) ? 1 : -1;\r\n        const dir_y = (y == this._y) ? 0 : (y > this._y) ? 1 : -1;\r\n      \r\n        return { x : dir_x, y : dir_y };\r\n    }\r\n\r\n    offset(elem) {\r\n        var rect = elem.getBoundingClientRect();\r\n        var win = elem.ownerDocument.defaultView;\r\n\r\n        return {\r\n            top: rect.top + win.pageYOffset,\r\n            left: rect.left + win.pageXOffset\r\n        };\r\n    }\r\n\r\n    insertAfter() {\r\n        let drag_id = this._drag_node.getAttribute(\"id\");\r\n        let drop_id = this._drop_node.getAttribute(\"id\");\r\n\r\n        let circular = 0;\r\n        let sort = 0;\r\n        if (this._drop_node.nextElementSibling) {\r\n            for(let i in this._tree) {\r\n                let node = this._tree[i];\r\n                if (node.id == drop_id) {\r\n                    circular = node.circular;\r\n                    sort = node.sort;\r\n                    break;\r\n                } \r\n            }\r\n\r\n            for(let i in this._tree) {\r\n                let node = this._tree[i];\r\n                if (node.id == drag_id) {\r\n                    node.circular = circular;\r\n                    node.sort = sort + 1;\r\n                } else if (node.circular == circular && node.sort > sort) {\r\n                    ++node.sort;\r\n                }\r\n            }\r\n        } else {\r\n            for(let i in this._tree) {\r\n                let node = this._tree[i];\r\n                if (node.id == drag_id) {\r\n                    node.circular = circular;\r\n                    node.sort = 0;\r\n                } \r\n            }\r\n        }\r\n    }\r\n\r\n    insertBefore() {\r\n        let drag_id = this._drag_node.getAttribute(\"id\");\r\n        let drop_id = this._drop_node.getAttribute(\"id\");\r\n\r\n        let circular = 0;\r\n        let sort = 0;\r\n        for(let i in this._tree) {\r\n            let node = this._tree[i];\r\n            if (node.id == drop_id) {\r\n                circular = node.circular;\r\n                sort = node.sort;\r\n                ++node.sort;\r\n                break;\r\n            } \r\n        }\r\n\r\n        for(let i in this._tree) {\r\n            let node = this._tree[i];\r\n            if (node.id == drag_id) {\r\n                node.circular = circular;\r\n                node.sort = sort;\r\n            } else if (node.circular == circular && node.sort > sort) {\r\n                ++node.sort;\r\n            }\r\n        }\r\n    }\r\n\r\n    dragStart(ev) {\r\n        const targ = ev.target.closest('[id]');\r\n        this._drag_node = targ;\r\n        const { top, left } = this.offset(targ);\r\n\r\n        ev.dataTransfer.dropEffect = \"move\";\r\n\r\n        this._x = ev.clientX;\r\n        this._y = ev.clientY;\r\n    \r\n        this._offset_x = ev.clientX - left;\r\n        this._offset_y = ev.clientY - top;\r\n    }\r\n\r\n    isDroppable(ev) {\r\n        let cont = ev.target.closest(this._drop_target);\r\n        return (cont) ? true : false;\r\n    }\r\n\r\n    dragEnter(ev) {\r\n        if (!this.isDroppable(ev)) return true;\r\n        ev.preventDefault();\r\n        ev.dataTransfer.dropEffect = \"move\";\r\n\r\n        this._drop_node = ev.target.closest(this._drag_target);\r\n\r\n        if (!this._drop_node || this._drop_node.getAttribute(\"id\") == this._drag_node.getAttribute(\"id\")) {\r\n            return;\r\n        }\r\n\r\n        const dir = this.getDirection(ev.clientX, ev.clientY);\r\n\r\n        if (dir.y == 1) {\r\n            this.insertAfter();\r\n        } else if (dir.y == -1) {\r\n            this.insertBefore();\r\n        }\r\n        this._x = ev.clientX;\r\n        this._y = ev.clientY;\r\n    }\r\n\r\n    dragOver(ev) {\r\n        if (!this.isDroppable(ev)) return true;\r\n        ev.preventDefault();\r\n        ev.dataTransfer.dropEffect = \"move\";\r\n    }\r\n\r\n\r\n    dragEnd() {\r\n        if (this._drag_node) this._drag_node.setAttribute(\"draggable\", false);\r\n        this._drag_node = null;\r\n    }\r\n\r\n    drop(ev) {\r\n        if (!this._drop_node) return true;\r\n        ev.preventDefault();\r\n        if (this._call_back) this._call_back(this._tree);\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nfunction initDD(props) {\r\n    let drag = new GCDragNDrop(props);\r\n    let handles = document.querySelectorAll(props.handle);\r\n    handles.forEach(el => el.addAttribute(\"draggable\", true));\r\n\r\n    if (props.handle) {\r\n\r\n        let handles = document.querySelectorAll(props.handle);\r\n\r\n        handles.forEach(el => {\r\n            el.addEventListener(\"mousedown\", e => {\r\n                let cont = e.target.closest(props.drag_target);\r\n                cont.addAttribute(\"draggable\", true);\r\n            });            \r\n        });\r\n    }\r\n\r\n    props.main.addEventListener(\"dragstart\", e => drag.dragStart(e));\r\n    props.main.addEventListener(\"dragenter\", e => drag.dragEnter(e));\r\n    props.main.addEventListener(\"dragover\", e => drag.dragOver(e));\r\n    props.main.addEventListener(\"drop\", e => drag.drop(e));\r\n    props.main.addEventListener(\"dragend\", e => drag.dragEnd(e));\r\n}\r\n\r\nexport default {\r\n    initDD\r\n}","<template >\r\n  <div :class=\"Class.getClass('ptj-tree') + ' ' + store.classes + ' ptj-drop-target'\" ref=\"treeroot\">\r\n    <ptj-tree-node v-for=\"(obj, index) in store.data\" :key=\"index\" :branch=\"obj\"  />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted, defineComponent } from 'vue'\r\nimport GCNav from \"./ptj-nav.vue\"\r\nimport GCTreeNode from \"./ptj-tree-node.vue\"\r\nimport GCDragDrop from \"../js/dragndrop.js\"\r\nimport GCFilterForm from \"./ptj-filter-form.vue\"\r\nimport GCSelectFields from \"./ptj-selectfields.vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n\tname : \"ptj-tree\",\r\n    setup(props) {\r\n        let base = { store : Ctrl.getStore(), treeroot : ref(null), Class };\r\n        onMounted(() => {\r\n           //if (ctrl.sort) {\r\n             GCDragDrop.initDD({\r\n               handle : '.ptj-drag-handle',\r\n               drag_target : '.ptj-draggable',\r\n               drop_target : '.ptj-drop-target',\r\n               main : base.treeroot.value,\r\n               tree : base.store.data,\r\n               callback : base.store.saveSort\r\n             });\r\n           //}\r\n        });\r\n\r\n       return base;\r\n   },\r\n    components : {\r\n        \"ptj-nav\" : GCNav,\r\n        \"ptj-tree-node\" : GCTreeNode,\r\n        \"ptj-filter-form\" : GCFilterForm,\r\n        \"ptj-selectfields\" : GCSelectFields\r\n    }\r\n});\r\n\r\n\r\n</script>\r\n","<template >\r\n  <div :class=\"Class.getClass('ptj-tree') + ' ' + store.classes + ' ptj-drop-target'\" ref=\"treeroot\">\r\n    <ptj-tree-node v-for=\"(obj, index) in store.data\" :key=\"index\" :branch=\"obj\"  />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted, defineComponent } from 'vue'\r\nimport GCNav from \"./ptj-nav.vue\"\r\nimport GCTreeNode from \"./ptj-tree-node.vue\"\r\nimport GCDragDrop from \"../js/dragndrop.js\"\r\nimport GCFilterForm from \"./ptj-filter-form.vue\"\r\nimport GCSelectFields from \"./ptj-selectfields.vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n\tname : \"ptj-tree\",\r\n    setup(props) {\r\n        let base = { store : Ctrl.getStore(), treeroot : ref(null), Class };\r\n        onMounted(() => {\r\n           //if (ctrl.sort) {\r\n             GCDragDrop.initDD({\r\n               handle : '.ptj-drag-handle',\r\n               drag_target : '.ptj-draggable',\r\n               drop_target : '.ptj-drop-target',\r\n               main : base.treeroot.value,\r\n               tree : base.store.data,\r\n               callback : base.store.saveSort\r\n             });\r\n           //}\r\n        });\r\n\r\n       return base;\r\n   },\r\n    components : {\r\n        \"ptj-nav\" : GCNav,\r\n        \"ptj-tree-node\" : GCTreeNode,\r\n        \"ptj-filter-form\" : GCFilterForm,\r\n        \"ptj-selectfields\" : GCSelectFields\r\n    }\r\n});\r\n\r\n\r\n</script>\r\n","<template>\r\n    <table :class=\"Class.getClass('ptj-table') + ' ' + store.classes\">\r\n    <thead>\r\n        <tr :class=\"Class.getClass('ptj-table-header')\">\r\n        <th v-for=\"(cell, index) in store.fields\" :key=\"cell.name\" :class=\"Class.getClass('ptj-table-header-cell') + ' ' + cell.name.replace('_', '-')\" v-show=\"store.fields[index].on\">{{ cell.label }}\r\n            <span v-if=\"sortable == false\" class=\"material-icons\" @click=\"orderBy(cell, false);\">keyboard_arrow_up</span>\r\n            <span v-if=\"sortable == false\" class=\"material-icons\" @click=\"orderBy(cell, true);\">keyboard_arrow_down</span>\r\n        </th>\r\n        <th v-if=\"sortable\">&nbsp;</th>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr v-for=\"(obj, rindex) in store.data\" :key=\"rindex\" :class=\"Class.getClass('ptj-table-row') + ' ' + this.getRowClass(obj)\" @click=\"next(obj[store.primarykeyname]);\">\r\n        <td v-for=\"(field, index) in store.fields\" :key=\"index\" :class=\"Class.getClass('ptj-table-cell') + ' ' + field.name.replace('_', '-')\" v-show=\"store.fields[index].on\">{{ obj[field.name] }}</td>\r\n        <td :class=\"Class.getClass('ptj-table-cell-sortable')\" v-if=\"sortable\">\r\n            <a data-action=\"more\" class=\"button\" @click.prevent=\"toggle\" draggable=\"true\">\r\n                <span class=\"material-icons\">drag</span>\r\n            </a>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n    </table>\r\n    <ptj-pagination v-if=\"overlimit\" />\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport GCPagination from \"./ptj-pagination.vue\"\r\nimport { defineComponent} from \"vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n    name: 'ptj-table',\r\n    setup() {\r\n        return { store : Ctrl.getStore(), Class}\r\n    },\r\n    methods : {\r\n        next(key) {\r\n            this.store.next(key);\r\n            Ctrl.buildLink();\r\n        },\r\n        orderBy(cell, dir) {\r\n            let order = {};\r\n            order[cell.name] = dir;\r\n            this.store.orderby = order;\r\n            if (this.store.pages > 0) {\r\n                this.store.load();\r\n            } else {\r\n                //custom sort on the table\r\n                if (dir) {\r\n                    this.store.data.sort(function(x, y) {\r\n                        let xval = x[cell.name];\r\n                        let yval = y[cell.name];\r\n                        if (xval < yval) {\r\n                            return -1;\r\n                        } else if (xval > yval) {\r\n                            return 1;\r\n                        } else {\r\n                            return 0;\r\n                        }\r\n                    });\r\n                } else {\r\n                    this.store.data.sort(function(x, y) {\r\n                        let xval = x[cell.name];\r\n                        let yval = y[cell.name];\r\n                        if (xval < yval) {\r\n                            return 1;\r\n                        } else if (xval > yval) {\r\n                            return -1;\r\n                        } else {\r\n                            return 0;\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        },\r\n        getRowClass(obj) {\r\n            let str = [];\r\n            for(let name of this.store.groups) {\r\n                str.push(this.store.model + \"-\" + name.replace(\"_\", \"-\") + \"-\" + obj[name]);\r\n            }\r\n            return str.join(\" \");\r\n        }\r\n    },\r\n    computed : {\r\n        sortable() {\r\n            return (this.store.sort) ? true : false;\r\n        },\r\n        overlimit() {\r\n            return false;\r\n        },\r\n        rowclass() {\r\n\r\n        }\r\n    },\r\n    components : {\r\n        \"ptj-pagination\" : GCPagination,\r\n    }\r\n\r\n   \r\n});\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n\r\n.table, .thead, .tbody, .tr {\r\n    width : 100%;\r\n}\r\n\r\n\r\n</style>","<template>\r\n    <table :class=\"Class.getClass('ptj-table') + ' ' + store.classes\">\r\n    <thead>\r\n        <tr :class=\"Class.getClass('ptj-table-header')\">\r\n        <th v-for=\"(cell, index) in store.fields\" :key=\"cell.name\" :class=\"Class.getClass('ptj-table-header-cell') + ' ' + cell.name.replace('_', '-')\" v-show=\"store.fields[index].on\">{{ cell.label }}\r\n            <span v-if=\"sortable == false\" class=\"material-icons\" @click=\"orderBy(cell, false);\">keyboard_arrow_up</span>\r\n            <span v-if=\"sortable == false\" class=\"material-icons\" @click=\"orderBy(cell, true);\">keyboard_arrow_down</span>\r\n        </th>\r\n        <th v-if=\"sortable\">&nbsp;</th>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr v-for=\"(obj, rindex) in store.data\" :key=\"rindex\" :class=\"Class.getClass('ptj-table-row') + ' ' + this.getRowClass(obj)\" @click=\"next(obj[store.primarykeyname]);\">\r\n        <td v-for=\"(field, index) in store.fields\" :key=\"index\" :class=\"Class.getClass('ptj-table-cell') + ' ' + field.name.replace('_', '-')\" v-show=\"store.fields[index].on\">{{ obj[field.name] }}</td>\r\n        <td :class=\"Class.getClass('ptj-table-cell-sortable')\" v-if=\"sortable\">\r\n            <a data-action=\"more\" class=\"button\" @click.prevent=\"toggle\" draggable=\"true\">\r\n                <span class=\"material-icons\">drag</span>\r\n            </a>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n    </table>\r\n    <ptj-pagination v-if=\"overlimit\" />\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport GCPagination from \"./ptj-pagination.vue\"\r\nimport { defineComponent} from \"vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n    name: 'ptj-table',\r\n    setup() {\r\n        return { store : Ctrl.getStore(), Class}\r\n    },\r\n    methods : {\r\n        next(key) {\r\n            this.store.next(key);\r\n            Ctrl.buildLink();\r\n        },\r\n        orderBy(cell, dir) {\r\n            let order = {};\r\n            order[cell.name] = dir;\r\n            this.store.orderby = order;\r\n            if (this.store.pages > 0) {\r\n                this.store.load();\r\n            } else {\r\n                //custom sort on the table\r\n                if (dir) {\r\n                    this.store.data.sort(function(x, y) {\r\n                        let xval = x[cell.name];\r\n                        let yval = y[cell.name];\r\n                        if (xval < yval) {\r\n                            return -1;\r\n                        } else if (xval > yval) {\r\n                            return 1;\r\n                        } else {\r\n                            return 0;\r\n                        }\r\n                    });\r\n                } else {\r\n                    this.store.data.sort(function(x, y) {\r\n                        let xval = x[cell.name];\r\n                        let yval = y[cell.name];\r\n                        if (xval < yval) {\r\n                            return 1;\r\n                        } else if (xval > yval) {\r\n                            return -1;\r\n                        } else {\r\n                            return 0;\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        },\r\n        getRowClass(obj) {\r\n            let str = [];\r\n            for(let name of this.store.groups) {\r\n                str.push(this.store.model + \"-\" + name.replace(\"_\", \"-\") + \"-\" + obj[name]);\r\n            }\r\n            return str.join(\" \");\r\n        }\r\n    },\r\n    computed : {\r\n        sortable() {\r\n            return (this.store.sort) ? true : false;\r\n        },\r\n        overlimit() {\r\n            return false;\r\n        },\r\n        rowclass() {\r\n\r\n        }\r\n    },\r\n    components : {\r\n        \"ptj-pagination\" : GCPagination,\r\n    }\r\n\r\n   \r\n});\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n\r\n.table, .thead, .tbody, .tr {\r\n    width : 100%;\r\n}\r\n\r\n\r\n</style>","<template>\r\n    <div :class=\"Class.getClass('ptj-list') + ' ' + store.classes\">\r\n        <div v-for=\"(group, index) in store.groups\" :key=\"index\">\r\n            <h3>{{ index }}</h3>\r\n            <ul>\r\n                <li v-for=\"(row, index) in group\" :key=\"index\">\r\n                    <a @click=\"next(row[store.primarykeyname]);\">\r\n                        <span v-for=\"field in store.fields\" :key=\"field.name\" v-show=\"field.on\">{{ row[field.name] }}</span>                   </a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { defineComponent} from \"vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n    name: 'ptj-list',\r\n    setup() {\r\n        return { store : Ctrl.getStore(), Class}\r\n    },\r\n    methods : {\r\n        next(key) {\r\n            this.store.next(key);\r\n            Ctrl.buildLink();\r\n        }\r\n    }\r\n});\r\n\r\n</script>\r\n\r\n","<template>\r\n    <div :class=\"Class.getClass('ptj-list') + ' ' + store.classes\">\r\n        <div v-for=\"(group, index) in store.groups\" :key=\"index\">\r\n            <h3>{{ index }}</h3>\r\n            <ul>\r\n                <li v-for=\"(row, index) in group\" :key=\"index\">\r\n                    <a @click=\"next(row[store.primarykeyname]);\">\r\n                        <span v-for=\"field in store.fields\" :key=\"field.name\" v-show=\"field.on\">{{ row[field.name] }}</span>                   </a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { defineComponent} from \"vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n    name: 'ptj-list',\r\n    setup() {\r\n        return { store : Ctrl.getStore(), Class}\r\n    },\r\n    methods : {\r\n        next(key) {\r\n            this.store.next(key);\r\n            Ctrl.buildLink();\r\n        }\r\n    }\r\n});\r\n\r\n</script>\r\n\r\n","<template>\r\n<div :class=\"Class.getClass('ptj-repo') + ' ' + store.classes\">\r\n    <ptj-repo-header  />\r\n    <component :key=\"store.key\" :is=\"store.rawcomponent\" />\r\n</div>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport PTJRepoHeader from \"./ptj-repo-header.vue\"\r\nimport PTJTree from \"./ptj-tree.vue\"\r\nimport PTJTable from \"./ptj-table.vue\"\r\nimport PTJList from \"./ptj-list.vue\"\r\nimport { defineComponent} from \"vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-repo',\r\n  setup() {\r\n      return { store : Ctrl.getStore(), Class }\r\n  },\r\n    components : {\r\n        \"ptj-repo-header\" : PTJRepoHeader,\r\n        \"ptj-tree\" : PTJTree,\r\n        \"ptj-table\" : PTJTable,\r\n        \"ptj-list\" : PTJList\r\n    }\r\n});\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n\r\n.table, .thead, .tbody, .tr {\r\n    width : 100%;\r\n}\r\n\r\n\r\n\r\n.ptj-data-row:nth-child(odd) {background : #CCC}\r\n\r\n</style>","<template>\r\n<div :class=\"Class.getClass('ptj-repo') + ' ' + store.classes\">\r\n    <ptj-repo-header  />\r\n    <component :key=\"store.key\" :is=\"store.rawcomponent\" />\r\n</div>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport PTJRepoHeader from \"./ptj-repo-header.vue\"\r\nimport PTJTree from \"./ptj-tree.vue\"\r\nimport PTJTable from \"./ptj-table.vue\"\r\nimport PTJList from \"./ptj-list.vue\"\r\nimport { defineComponent} from \"vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-repo',\r\n  setup() {\r\n      return { store : Ctrl.getStore(), Class }\r\n  },\r\n    components : {\r\n        \"ptj-repo-header\" : PTJRepoHeader,\r\n        \"ptj-tree\" : PTJTree,\r\n        \"ptj-table\" : PTJTable,\r\n        \"ptj-list\" : PTJList\r\n    }\r\n});\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n\r\n.table, .thead, .tbody, .tr {\r\n    width : 100%;\r\n}\r\n\r\n\r\n\r\n.ptj-data-row:nth-child(odd) {background : #CCC}\r\n\r\n</style>","<template>\r\n  <span :class=\"Class.getClass('ptj-breadcrumbs')\">\r\n  <a v-for=\"route in arr\" v-bind:key=\"route\" @click=\"setRoute(route.r);\">\r\n    {{ route.n }}\r\n  </a> \r\n  </span>\r\n</template>\r\n<script>\r\nimport { defineComponent } from 'vue'\r\nimport Router from \"../js/router.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-nav',\r\n  props: {\r\n    state : Object\r\n  },\r\n  setup() {\r\n      return { Class }\r\n  },\r\n  methods : {\r\n      setRoute(route) {\r\n          Router.switchRoute(route);\r\n      }\r\n  },\r\n  computed : {\r\n      arr() {\r\n         return Router.history;\r\n      }\r\n  }\r\n   \r\n});\r\n</script>","<template>\r\n  <span :class=\"Class.getClass('ptj-breadcrumbs')\">\r\n  <a v-for=\"route in arr\" v-bind:key=\"route\" @click=\"setRoute(route.r);\">\r\n    {{ route.n }}\r\n  </a> \r\n  </span>\r\n</template>\r\n<script>\r\nimport { defineComponent } from 'vue'\r\nimport Router from \"../js/router.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-nav',\r\n  props: {\r\n    state : Object\r\n  },\r\n  setup() {\r\n      return { Class }\r\n  },\r\n  methods : {\r\n      setRoute(route) {\r\n          Router.switchRoute(route);\r\n      }\r\n  },\r\n  computed : {\r\n      arr() {\r\n         return Router.history;\r\n      }\r\n  }\r\n   \r\n});\r\n</script>","<template>\r\n    <ptj-breadcrumbs :state=\"store\" />\r\n    <div :class=\"Class.getClass('ptj-single-item') + ' ' + store.classes\">\r\n        <h1>{{ store.title }}</h1>\r\n        <ptj-nav :actions=\"store.actions\" :class=\"Class.getClass('ptj-single-item-actions')\" />\r\n        <div v-for=\"(field, index) in store.fields\" :key=\"index\" :class=\"Class.getClass('ptj-single-item-row') + ' ' + field.name\">\r\n            <span :class=\"Class.getClass('ptj-single-item-label')\">{{ field.label }}:</span> \r\n            <span :class=\"Class.getClass('ptj-single-item-value')\">{{ field.val }}</span>\r\n        </div>\r\n    </div>\r\n    <ptj-nav :actions=\"store.children\" :class=\"Class.getClass('ptj-single-item-children')\" />\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent  } from 'vue'\r\nimport GCNav from \"./ptj-nav.vue\"\r\nimport GCBreadCrumbs from \"./ptj-breadcrumbs.vue\"\r\nimport GCWidget from \"./ptj-widget-window.vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-single-item',\r\n  props : {\r\n      active : {\r\n          type : Boolean,\r\n          default : false\r\n      }\r\n  },\r\n  setup() {\r\n      return { store : Ctrl.getStore(), Class }\r\n  },\r\n  computed : {\r\n      editnav() {\r\n          return this.store.actions.put;\r\n      },\r\n      delnav() {\r\n          return this.store.actions.delete;\r\n      },\r\n      title() {\r\n          return this.store.title + \" \" + this.store.summary();\r\n      }\r\n  },\r\n  methods : {\r\n      runDel() {\r\n          this.store.runDelete();\r\n      }\r\n  },\r\n  components : {\r\n    \"ptj-nav\" : GCNav, \"ptj-breadcrumbs\" : GCBreadCrumbs, \"ptj-widget\" : GCWidget\r\n  }\r\n});\r\n    \r\n\r\n</script>","<template>\r\n    <ptj-breadcrumbs :state=\"store\" />\r\n    <div :class=\"Class.getClass('ptj-single-item') + ' ' + store.classes\">\r\n        <h1>{{ store.title }}</h1>\r\n        <ptj-nav :actions=\"store.actions\" :class=\"Class.getClass('ptj-single-item-actions')\" />\r\n        <div v-for=\"(field, index) in store.fields\" :key=\"index\" :class=\"Class.getClass('ptj-single-item-row') + ' ' + field.name\">\r\n            <span :class=\"Class.getClass('ptj-single-item-label')\">{{ field.label }}:</span> \r\n            <span :class=\"Class.getClass('ptj-single-item-value')\">{{ field.val }}</span>\r\n        </div>\r\n    </div>\r\n    <ptj-nav :actions=\"store.children\" :class=\"Class.getClass('ptj-single-item-children')\" />\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent  } from 'vue'\r\nimport GCNav from \"./ptj-nav.vue\"\r\nimport GCBreadCrumbs from \"./ptj-breadcrumbs.vue\"\r\nimport GCWidget from \"./ptj-widget-window.vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-single-item',\r\n  props : {\r\n      active : {\r\n          type : Boolean,\r\n          default : false\r\n      }\r\n  },\r\n  setup() {\r\n      return { store : Ctrl.getStore(), Class }\r\n  },\r\n  computed : {\r\n      editnav() {\r\n          return this.store.actions.put;\r\n      },\r\n      delnav() {\r\n          return this.store.actions.delete;\r\n      },\r\n      title() {\r\n          return this.store.title + \" \" + this.store.summary();\r\n      }\r\n  },\r\n  methods : {\r\n      runDel() {\r\n          this.store.runDelete();\r\n      }\r\n  },\r\n  components : {\r\n    \"ptj-nav\" : GCNav, \"ptj-breadcrumbs\" : GCBreadCrumbs, \"ptj-widget\" : GCWidget\r\n  }\r\n});\r\n    \r\n\r\n</script>","<template>\r\n <div :class=\"Class.getClass('ptj-accounthandler')\">\r\n    <h1>{{ store.title }}</h1>\r\n    <ptj-form />\r\n    <ptj-nav :action=\"store.actions\" />\r\n </div>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport { defineComponent } from 'vue'\r\nimport GCForm from \"./ptj-form.vue\"\r\nimport GCNav from \"./ptj-nav.vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"./../js/classinjection.js\"\r\n\r\n \r\nexport default defineComponent({\r\n  name: 'ptj-login',\r\n  setup() {\r\n      let store = Ctrl.getStore()\r\n      store.next = instance => {\r\n           Ctrl.reloadFromBase(instance.next_profile);\r\n      }\r\n      return { store : store, Class }\r\n  },\r\n  components : \r\n    {\r\n      \"ptj-form\" : GCForm, \"ptj-nav\" : GCNav\r\n    }\r\n});\r\n</script>\r\n\r\n\r\n","<template>\r\n <div :class=\"Class.getClass('ptj-accounthandler')\">\r\n    <h1>{{ store.title }}</h1>\r\n    <ptj-form />\r\n    <ptj-nav :action=\"store.actions\" />\r\n </div>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport { defineComponent } from 'vue'\r\nimport GCForm from \"./ptj-form.vue\"\r\nimport GCNav from \"./ptj-nav.vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"./../js/classinjection.js\"\r\n\r\n \r\nexport default defineComponent({\r\n  name: 'ptj-login',\r\n  setup() {\r\n      let store = Ctrl.getStore()\r\n      store.next = instance => {\r\n           Ctrl.reloadFromBase(instance.next_profile);\r\n      }\r\n      return { store : store, Class }\r\n  },\r\n  components : \r\n    {\r\n      \"ptj-form\" : GCForm, \"ptj-nav\" : GCNav\r\n    }\r\n});\r\n</script>\r\n\r\n\r\n","<template>\r\n    <ptj-widget :title=\"title\" :active=\"active\">\r\n        <div :class=\"classes\">\r\n            <span class=\"material-icons\">view_carousel</span>\r\n            <div v-for=\"(field, index) in store.fields\" :key=\"index\" :class=\"rowclass + ' ' + field.name\">\r\n                <span :class=\"labelclass\">{{ field.label }}:</span> \r\n                <span :class=\"rowclass\">{{ field.val }}</span>\r\n            </div>\r\n        </div>\r\n    </ptj-widget>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent  } from 'vue'\r\nimport GCWidget from \"./ptj-widget-window.vue\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-card',\r\n  props : {\r\n      store : Object,\r\n      active : {\r\n          type : Boolean,\r\n          default : false\r\n      }\r\n  },\r\n  computed : {\r\n      title() {\r\n          return this.store.title;\r\n      },\r\n      classes() {\r\n          return Class.getClass(\"ptj-card\")  + \" \" + this.store.classes;\r\n      },\r\n      rowclass() {\r\n          return Class.getClass(\"ptj-card-row\");\r\n      },\r\n      labelclass() {\r\n          return Class.getClass(\"ptj-card-label\");\r\n      },\r\n      valueclass() {\r\n          return Class.getClass(\"ptj-card-value\");\r\n      }\r\n  },\r\n  components : {\r\n    \"ptj-widget\" : GCWidget\r\n  }\r\n});\r\n    \r\n\r\n</script>","<template>\r\n    <ptj-widget :title=\"title\" :active=\"active\">\r\n        <div :class=\"classes\">\r\n            <span class=\"material-icons\">view_carousel</span>\r\n            <div v-for=\"(field, index) in store.fields\" :key=\"index\" :class=\"rowclass + ' ' + field.name\">\r\n                <span :class=\"labelclass\">{{ field.label }}:</span> \r\n                <span :class=\"rowclass\">{{ field.val }}</span>\r\n            </div>\r\n        </div>\r\n    </ptj-widget>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent  } from 'vue'\r\nimport GCWidget from \"./ptj-widget-window.vue\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n  name: 'ptj-card',\r\n  props : {\r\n      store : Object,\r\n      active : {\r\n          type : Boolean,\r\n          default : false\r\n      }\r\n  },\r\n  computed : {\r\n      title() {\r\n          return this.store.title;\r\n      },\r\n      classes() {\r\n          return Class.getClass(\"ptj-card\")  + \" \" + this.store.classes;\r\n      },\r\n      rowclass() {\r\n          return Class.getClass(\"ptj-card-row\");\r\n      },\r\n      labelclass() {\r\n          return Class.getClass(\"ptj-card-label\");\r\n      },\r\n      valueclass() {\r\n          return Class.getClass(\"ptj-card-value\");\r\n      }\r\n  },\r\n  components : {\r\n    \"ptj-widget\" : GCWidget\r\n  }\r\n});\r\n    \r\n\r\n</script>","<template>\r\n    <div :class=\"Class.getClass('ptj-tabs')\">\r\n        <div :class=\"Class.getClass('ptj-tabs-card')\" v-for=\"parent in store.parent_models\" :key=\"parent.name + '-parent'\">\r\n            <ptj-card :store=\"parent.store\" />\r\n        </div>\r\n        <ptj-nav :actions=\"store.siblings\" />\r\n        <div :class=\"Class.getClass('ptj-tabs-tab')\" >\r\n            <component :key=\"store.index\" :is=\"store.component\" />\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n\r\nimport GCForm from \"./ptj-form.vue\"\r\nimport GCRepo from \"./ptj-repo.vue\"\r\nimport GCNav from \"./ptj-nav.vue\"\r\nimport GCSingleItem from \"./ptj-single-item.vue\"\r\nimport GCAccountHandler from \"./ptj-accounthandler.vue\"\r\nimport GCCard from \"./ptj-card.vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nimport { defineComponent } from 'vue'\r\n\r\nexport default defineComponent({\r\n    props : {\r\n        index: {\r\n            type : Boolean,\r\n        }\r\n    },\r\n    setup(props) {\r\n        if (props.index) Ctrl.next();\r\n        return { store : Ctrl.getStore(), Class }\r\n    },\r\n    components : {\r\n        'ptj-form' : GCForm,\r\n        'ptj-nav' : GCNav,\r\n        'ptj-single-item' : GCSingleItem,\r\n        'ptj-account-handler' : GCAccountHandler,\r\n        'ptj-repo' : GCRepo,\r\n        'ptj-card' : GCCard\r\n    }\r\n\r\n});\r\n</script>","<template>\r\n    <div :class=\"Class.getClass('ptj-tabs')\">\r\n        <div :class=\"Class.getClass('ptj-tabs-card')\" v-for=\"parent in store.parent_models\" :key=\"parent.name + '-parent'\">\r\n            <ptj-card :store=\"parent.store\" />\r\n        </div>\r\n        <ptj-nav :actions=\"store.siblings\" />\r\n        <div :class=\"Class.getClass('ptj-tabs-tab')\" >\r\n            <component :key=\"store.index\" :is=\"store.component\" />\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n\r\nimport GCForm from \"./ptj-form.vue\"\r\nimport GCRepo from \"./ptj-repo.vue\"\r\nimport GCNav from \"./ptj-nav.vue\"\r\nimport GCSingleItem from \"./ptj-single-item.vue\"\r\nimport GCAccountHandler from \"./ptj-accounthandler.vue\"\r\nimport GCCard from \"./ptj-card.vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nimport { defineComponent } from 'vue'\r\n\r\nexport default defineComponent({\r\n    props : {\r\n        index: {\r\n            type : Boolean,\r\n        }\r\n    },\r\n    setup(props) {\r\n        if (props.index) Ctrl.next();\r\n        return { store : Ctrl.getStore(), Class }\r\n    },\r\n    components : {\r\n        'ptj-form' : GCForm,\r\n        'ptj-nav' : GCNav,\r\n        'ptj-single-item' : GCSingleItem,\r\n        'ptj-account-handler' : GCAccountHandler,\r\n        'ptj-repo' : GCRepo,\r\n        'ptj-card' : GCCard\r\n    }\r\n\r\n});\r\n</script>","<template>\r\n    <a :class=\"Class.getClass('ptj-account-details-logout')\" @click=\"logout\">Logout</a>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from 'vue'\r\nimport Client from \"./../js/client.js\"\r\nimport CtrlMapper from \"./../js/ctrlmap.js\"\r\nimport Class from \"./../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n    setup() {\r\n        return { Class }\r\n    },\r\n    methods : {\r\n        logout() {\r\n            Client.post(\"/core-logout\")\r\n            .then(response => {\r\n                CtrlMapper.reloadFromBase();\r\n            });\r\n        }\r\n    },\r\n    computed : {\r\n        classes() {\r\n            return Classes.getClass(\"ptj-account-details-logout\");\r\n        }\r\n    }\r\n})\r\n</script>\r\n","<template>\r\n    <a :class=\"Class.getClass('ptj-account-details-logout')\" @click=\"logout\">Logout</a>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from 'vue'\r\nimport Client from \"./../js/client.js\"\r\nimport CtrlMapper from \"./../js/ctrlmap.js\"\r\nimport Class from \"./../js/classinjection.js\"\r\n\r\nexport default defineComponent({\r\n    setup() {\r\n        return { Class }\r\n    },\r\n    methods : {\r\n        logout() {\r\n            Client.post(\"/core-logout\")\r\n            .then(response => {\r\n                CtrlMapper.reloadFromBase();\r\n            });\r\n        }\r\n    },\r\n    computed : {\r\n        classes() {\r\n            return Classes.getClass(\"ptj-account-details-logout\");\r\n        }\r\n    }\r\n})\r\n</script>\r\n","<template>\r\n  <ptj-account-details v-if=\"isaccount\" />\r\n  <div :class=\"Class.getClass('ptj-root')\" v-for=\"group in groups\" :key=\"group.index\">\r\n    <ptj-tabs  :index=\"true\"  />\r\n </div>\r\n</template>\r\n<script>\r\n\r\nimport { defineComponent } from 'vue'\r\nimport GCTabs from \"./ptj-tabs.vue\"\r\nimport GCAccountDetails from \"./ptj-account-details.vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n    name : 'ptj-root',\r\n    setup() {\r\n        return { Class }\r\n    },\r\n    computed : {\r\n        groups() {\r\n            return Ctrl.store.models;\r\n        },\r\n        isaccount() {\r\n            return Ctrl.store.profile == \"public\" ? false : true;\r\n        }\r\n    },\r\n    components : {\r\n        'ptj-tabs' : GCTabs, \"ptj-account-details\" : GCAccountDetails\r\n\r\n    }\r\n});\r\n</script>","<template>\r\n  <ptj-account-details v-if=\"isaccount\" />\r\n  <div :class=\"Class.getClass('ptj-root')\" v-for=\"group in groups\" :key=\"group.index\">\r\n    <ptj-tabs  :index=\"true\"  />\r\n </div>\r\n</template>\r\n<script>\r\n\r\nimport { defineComponent } from 'vue'\r\nimport GCTabs from \"./ptj-tabs.vue\"\r\nimport GCAccountDetails from \"./ptj-account-details.vue\"\r\nimport Ctrl from \"../js/controller.js\"\r\nimport Class from \"../js/classinjection.js\"\r\n\r\n\r\nexport default defineComponent({\r\n    name : 'ptj-root',\r\n    setup() {\r\n        return { Class }\r\n    },\r\n    computed : {\r\n        groups() {\r\n            return Ctrl.store.models;\r\n        },\r\n        isaccount() {\r\n            return Ctrl.store.profile == \"public\" ? false : true;\r\n        }\r\n    },\r\n    components : {\r\n        'ptj-tabs' : GCTabs, \"ptj-account-details\" : GCAccountDetails\r\n\r\n    }\r\n});\r\n</script>","import Ctrl from \"./presstojam/src/js/controller.js\"\r\nimport PTJRoot from \"./presstojam/src/components/ptj-root.vue\"\r\nimport { createApp } from \"vue\"\r\n\r\nfunction runApp(mount) {\r\n    const app = createApp(PTJRoot);\r\n    app.mount(mount);\r\n    return app;\r\n}\r\n\r\nexport default { \r\n    Ctrl, runApp\r\n}\r\n\r\n\r\n"],"names":["main_url","last_status","last_ok","custom_headers","status_handlers","debug","regCustomHeader","name","value","regStatusHandler","status","handler","setURL","url","regDebug","is_debug","run","headers","mode","cache","credentials","fetch","then","response","ok","json","val","omethod","method","Error","catch","err","console","log","setDebug","data","get","this","params","URLSearchParams","graph","i","Array","isArray","append","JSON","stringify","indexOf","toString","getprimary","post","body","put","patch","delete","Validator","constructor","_min","_max","_has","_has_not","_errors","min","max","has","push","nothas","nhas","validateSize","MIN_VALUE","MAX_VALUE","OK","validate","isNaN","length","match","HAS_NOT","HAS","error_invalid_map","getError","code","Field","obj","_name","_type","_is_primary","_is_parent","_valid","_atts","_confirm","_readonly","_placeholder","_conditions","_link","_reference","_error","_label","on","ref","_summary","_default","_validator","_value","_multiple","_is_validate_on","_options","reactive","_asset","computed","set","x","field","validation","confirm","readonly","placeholder","atts","default","def","asset","conditions","link","type","multiple","mult","is_primary","is_parent","reference","error","label","summary","validateon","options","isprimary","required","isparent","Errors","showError","saveAsset","id","saveFile","Promise","resolve","setOptions","Client","__data","key","e","opt","clean","Boolean","exp","calcValue","Asset","_size","_blob","_uploaded","_chunk_size","_url","_key","_key_field","chunk_size","chunk","blob","keyfield","size","uploaded","getChunk","index","start","end","view","DataView","buffer","n","byteLength","getInt8","join","loadFile","alert","delFile","file","reject","fr","FileReader","_self","onload","target","result","onerror","readAsArrayBuffer","promises","chunks","Math","ceil","__chunk","__blob","all","Model","_states","_default_state","_primary_key","_parent_key","_circular","_children","_active_children","_key_states","parent_key","primary_key","_settings","_active_state","_change_intention","store","fields","parent_models","title","component","rawcomponent","actions","next","primarykeyname","parentkeyname","circular","model","siblings","children","stage","groups","currentstate","_siblings","state","loadState","to","_to","injectCustomSettings","settings","loadurl","saveurl","__to","classes","replace","_state","parentkey","primarykey","change_intention","map","_stage","buildIntention","intent","intentions","mapResponse","child","r","sibling","states","default_state","_parent_models","par","pmodel","reverse","load","client","__status","mapRepoData","parent","mapData","keymanager","rLoadObj","rGroupData","group","row","buildlink","action","submiturl","addKeys","resolveKeys","reload","active_repo","async","login","encodeParams","cstr","encodeURIComponent","Object","keys","decodeParams","window","location","search","param_obj","forEach","graph_obj","parse","decodeURIComponent","mapParams","regex","RegExp","action_map","CtrlGroupMap","_model","swap","convertToURL","convertFromURL","parts","split","parseInt","pop","maps","trigger_cb","route_base","createMap","trigger","trig","resetMaps","str_parts","param_str","Params","setBase","base","getMaps","cb","runRoute","uri","pathname","onpopstate","document","setRoute","history","pushState","hardSetRoute","route","regCallback","callback","_profile","_store","profile","_models","_seeker","buildModel","model_name","Map","models","splice","promise","setSettings","mapper","initProfile","__profile","assumeRole","role","request","removeRole","buildLink","omaps","changes","change","ni","omap","cmap","Router","runLink","runData","reloadFromBase","getStore","classes_dict","regClass","getClass","defineComponent","props","String","setup","Class","styleInject","css","insertAt","head","getElementsByTagName","style","createElement","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","_createElementBlock","class","_ctx","components","GCError","_createElementVNode","onBlur","_createVNode","cval","isvalidateon","setValidateOn","_hoisted_2","option","methods","html","setFile","files","onChange","total","Number","progress","num","floor","fstate","globalerror","Ctrl","clearErrors","num_chunks","submit","message","statusText","GCInput","GCConfirm","GCSelect","GCRadio","GCCheckbox","GCTextarea","GCAssetField","GCProgressBar","onSubmit","_createBlock","stores","_createCommentVNode","onClick","val1","val2","active","show","toggleWidget","_hoisted_3","_renderSlot","GCFormSelect","GCFilterFormTime","GCFilterFormCheckbox","GCWidget","max_page_limit","pages","current_group","firstindex","max_options","maxoptions","showPages","Controller","current_route","query","GCNav","GCFilterForm","GCPagination","GCSelectFields","branch","draggable","ischild","toggle_state","toggle","setDraggable","closest","setAttribute","endDraggable","selectRow","getRowClass","str","sortable","arr","activechildren","concat","stop","onMousedown","onMouseup","cindex","GCDragNDrop","_handle","handle","_drop_target","drop_target","_drag_target","drag_target","_call_back","_x","_y","_offset_x","_offset_y","_judder","judder","_drag_node","_drop_node","_tree","tree","isJudder","y","dx","dy","getDirection","offset","elem","rect","getBoundingClientRect","win","ownerDocument","defaultView","top","pageYOffset","left","pageXOffset","insertAfter","drag_id","getAttribute","drop_id","sort","nextElementSibling","node","dragStart","ev","targ","dataTransfer","dropEffect","clientX","clientY","isDroppable","dragEnter","preventDefault","dir","dragOver","dragEnd","drop","initDD","drag","querySelectorAll","el","addAttribute","addEventListener","main","treeroot","onMounted","GCDragDrop","saveSort","GCTreeNode","orderBy","cell","order","orderby","xval","yval","overlimit","rowclass","rindex","PTJRepoHeader","PTJTree","PTJTable","PTJList","switchRoute","editnav","delnav","runDel","runDelete","GCBreadCrumbs","instance","next_profile","GCForm","labelclass","valueclass","_hoisted_1","GCSingleItem","GCAccountHandler","GCRepo","GCCard","logout","CtrlMapper","Classes","isaccount","GCTabs","GCAccountDetails","runApp","mount","app","createApp","PTJRoot"],"mappings":"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"}